## CloudKitDaemon

> `/System/Library/PrivateFrameworks/CloudKitDaemon.framework/CloudKitDaemon`

```diff

-2300.145.2.0.0
-  __TEXT.__text: 0x394a78
-  __TEXT.__auth_stubs: 0x3f80
-  __TEXT.__objc_methlist: 0x2f51c
-  __TEXT.__const: 0x3fe8
+2300.147.2.0.0
+  __TEXT.__text: 0x39a5e0
+  __TEXT.__auth_stubs: 0x4030
+  __TEXT.__objc_methlist: 0x2f5ac
+  __TEXT.__const: 0x4068
   __TEXT.__dlopen_cstrs: 0x68
-  __TEXT.__swift5_typeref: 0x1c8c
-  __TEXT.__oslogstring: 0x2e21b
-  __TEXT.__swift5_capture: 0x678
-  __TEXT.__cstring: 0x2848a
-  __TEXT.__constg_swiftt: 0x1944
-  __TEXT.__swift5_reflstr: 0xff9
-  __TEXT.__swift5_fieldmd: 0x11d4
+  __TEXT.__swift5_typeref: 0x1d68
+  __TEXT.__oslogstring: 0x2e983
+  __TEXT.__swift5_capture: 0x6a0
+  __TEXT.__cstring: 0x286d3
+  __TEXT.__constg_swiftt: 0x19b8
+  __TEXT.__swift5_reflstr: 0x1059
+  __TEXT.__swift5_fieldmd: 0x11e0
   __TEXT.__swift5_builtin: 0xa0
-  __TEXT.__swift5_assocty: 0x238
+  __TEXT.__swift5_assocty: 0x248
   __TEXT.__swift5_proto: 0x304
   __TEXT.__swift5_types: 0x12c
-  __TEXT.__swift_as_entry: 0x120
-  __TEXT.__swift_as_ret: 0xf8
+  __TEXT.__swift_as_entry: 0x134
+  __TEXT.__swift_as_ret: 0x108
   __TEXT.__swift5_protos: 0x34
   __TEXT.__swift5_mpenum: 0x1c
-  __TEXT.__gcc_except_tab: 0xd720
+  __TEXT.__gcc_except_tab: 0xd7b4
   __TEXT.__ustring: 0x2c
-  __TEXT.__unwind_info: 0xbf30
-  __TEXT.__eh_frame: 0x2da8
-  __TEXT.__objc_classname: 0x5539
-  __TEXT.__objc_methname: 0x5a90f
-  __TEXT.__objc_methtype: 0x8b52
-  __TEXT.__objc_stubs: 0x385a0
-  __DATA_CONST.__got: 0x1c40
-  __DATA_CONST.__const: 0x8c80
-  __DATA_CONST.__objc_classlist: 0x1448
+  __TEXT.__unwind_info: 0xc018
+  __TEXT.__eh_frame: 0x30e0
+  __TEXT.__objc_classname: 0x554e
+  __TEXT.__objc_methname: 0x5aa6b
+  __TEXT.__objc_methtype: 0x8b97
+  __TEXT.__objc_stubs: 0x38620
+  __DATA_CONST.__got: 0x1c60
+  __DATA_CONST.__const: 0x8c58
+  __DATA_CONST.__objc_classlist: 0x1450
   __DATA_CONST.__objc_catlist: 0x138
   __DATA_CONST.__objc_protolist: 0x210
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x12048
+  __DATA_CONST.__objc_selrefs: 0x12078
   __DATA_CONST.__objc_protorefs: 0xa0
-  __DATA_CONST.__objc_superrefs: 0x1308
+  __DATA_CONST.__objc_superrefs: 0x1318
   __DATA_CONST.__objc_arraydata: 0x14e8
-  __AUTH_CONST.__auth_got: 0x1fd0
-  __AUTH_CONST.__const: 0x49f8
-  __AUTH_CONST.__cfstring: 0x21240
-  __AUTH_CONST.__objc_const: 0x47d48
+  __AUTH_CONST.__auth_got: 0x2028
+  __AUTH_CONST.__const: 0x4a50
+  __AUTH_CONST.__cfstring: 0x21300
+  __AUTH_CONST.__objc_const: 0x47e38
   __AUTH_CONST.__objc_intobj: 0xc18
   __AUTH_CONST.__objc_arrayobj: 0x3c0
   __AUTH_CONST.__objc_dictobj: 0xb90
-  __AUTH.__objc_data: 0x5af8
-  __AUTH.__data: 0xa28
-  __DATA.__objc_ivar: 0x1808
-  __DATA.__data: 0x3ed0
-  __DATA.__bss: 0x3440
+  __AUTH.__objc_data: 0x58c8
+  __AUTH.__data: 0x580
+  __DATA.__objc_ivar: 0x180c
+  __DATA.__data: 0x3c10
+  __DATA.__bss: 0x2f40
   __DATA.__common: 0xa0
   __DATA_DIRTY.__objc_ivar: 0x1940
-  __DATA_DIRTY.__objc_data: 0x7658
-  __DATA_DIRTY.__data: 0x17a0
-  __DATA_DIRTY.__bss: 0x3268
+  __DATA_DIRTY.__objc_data: 0x78e0
+  __DATA_DIRTY.__data: 0x1fa0
+  __DATA_DIRTY.__bss: 0x3768
   __DATA_DIRTY.__common: 0x8
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
-  UUID: BA7686BE-A074-3AD5-B670-604AB8B83881
-  Functions: 19538
-  Symbols:   2710
-  CStrings:  27744
+  UUID: ACF61761-09D3-39DD-837B-20D640B4C501
+  Functions: 19610
+  Symbols:   2729
+  CStrings:  27794
 
Symbols:
+ _$s17CloudCoreInternal20AuthenticatedSessionC12ResolvedUserV14DataProtectionOSQAAMc
+ _$s17CloudCoreInternal20AuthenticatedSessionC13ConfigurationV10EncryptionV15ServiceIdentityV11serviceNameSSSgvg
+ _$s17CloudCoreInternal22AnySessionAcquiredInfoV11serviceNameSSSgvg
+ _$s17CloudCoreInternal22AnySessionAcquiredInfoV23userPersonaUniqueStringSSSgvg
+ _$s17CloudCoreInternal22AnySessionAcquiredInfoV9sessionID010privilegedG4Hash4user0L19PersonaUniqueString37keySyncRequestIdentityPublicKeyIDHash27previousInvalidationContext11serviceNameAcA0eI0V_10Foundation4DataVAA013AuthenticatedE0C12ResolvedUserVSgSSSgAA06SaltedK0VSgAA0exY0VSgAUtcfC
+ _$s17CloudCoreInternal25ExponentialNetworkBackoffC09incrementF5CountyyF
+ _$s17CloudCoreInternal25ExponentialNetworkBackoffC3run9isolation_qd__ScA_pSgYi_qd__yYaKYAYTXEtYaKlF
+ _$s17CloudCoreInternal25ExponentialNetworkBackoffC3run9isolation_qd__ScA_pSgYi_qd__yYaKYAYTXEtYaKlFTu
+ _$s17CloudCoreInternal25ExponentialNetworkBackoffC5resetyyF
+ _$s17CloudCoreInternal25ExponentialNetworkBackoffCAAs15ContinuousClockVRsz0E013NWPathMonitorCRs_rlE5label23backoffCountBeforeDelay015initialEnforcedO007maximumqO09toleranceACyAeHGSS_Sis8DurationVA2PSgtcfC
+ _$s17CloudCoreInternal25ExponentialNetworkBackoffCMn
+ _$s17CloudCoreInternal26SessionInvalidationContextV12deviceIDHash18primaryServiceName18privilegedInfoHash23userPersonaUniqueString14keySyncRequestAcA06SaltedN0V_SSSg10Foundation4DataVSgAkC03KeytU0VSgtcfC
+ _$s17CloudCoreInternal26SessionInvalidationContextV18primaryServiceNameSSSgvg
+ _$s17CloudCoreInternal26SessionInvalidationContextV18privilegedInfoHash10Foundation4DataVSgvg
+ _$s7Network13NWPathMonitorCMn
+ _$ss15ContinuousClockVMn
+ _$ss27withTaskCancellationHandler9operation8onCancel9isolationxxyYaKXE_yyYbXEScA_pSgYitYaKlF
+ _$ss27withTaskCancellationHandler9operation8onCancel9isolationxxyYaKXE_yyYbXEScA_pSgYitYaKlFTu
+ _$ss5ClockMp
+ _CKErrorIsCode
+ _MGGetProductType
+ _OBJC_CLASS_$_CKDWalrusCheckResult
+ _OBJC_CLASS_$_CKThrottlingCriteriaImpl
+ _OBJC_METACLASS_$_CKDWalrusCheckResult
+ _swift_dynamicCastClass
- _$s17CloudCoreInternal20AuthenticatedSessionC13ConfigurationV10EncryptionV15ServiceIdentityV7PayloadO6customyAKSS_tcAKmFWC
- _$s17CloudCoreInternal20AuthenticatedSessionC13ConfigurationV10EncryptionV15ServiceIdentityV7PayloadOMa
- _$s17CloudCoreInternal20AuthenticatedSessionC13ConfigurationV10EncryptionV15ServiceIdentityV7PayloadOMn
- _$s17CloudCoreInternal20AuthenticatedSessionC13ConfigurationV10EncryptionV15ServiceIdentityV7payloadAI7PayloadOvg
- _$s17CloudCoreInternal22AnySessionAcquiredInfoV9sessionID010privilegedG4Hash4user0L19PersonaUniqueString37keySyncRequestIdentityPublicKeyIDHash27previousInvalidationContextAcA0eI0V_10Foundation4DataVAA013AuthenticatedE0C12ResolvedUserVSgSSSgAA06SaltedK0VSgAA0exY0VSgtcfC
- _$s17CloudCoreInternal26SessionInvalidationContextV12deviceIDHash14keySyncRequestAcA10SaltedHashV_AC03KeyjK0VSgtcfC
CStrings:
+ " container error backoff"
+ "%s: Received blocking account acquisition event: %s, readinessError: %@"
+ "%s: cancelling daemon acquisition"
+ "%s: cancelling daemon acquisition on actor"
+ "%s: daemon session acquirer in de-init, cancelling acquisition of %s"
+ "?"
+ "Account acquired does not match the current account. Current accountID %s"
+ "B44@0:8i16@20q28@36"
+ "BypassDeviceCapabilityManagerThrottling"
+ "CKDWalrusCheckResult"
+ "Can't copy identity set for service %{public}@. Manatee not available for current account due to %@."
+ "Current data protection status is different from the acquired data protection status. Current data protection %s. Acquired data protection %s"
+ "Error getting cached walrus status. %@"
+ "Failed to obtain user ids, will try again after backoff: %@"
+ "Failed to register push tokens, will try again after backoff: %@"
+ "Failed to save device capabilities and/or share/zone usage to the server for container ID %{public}@: %{public}@"
+ "Failed to save device capabilities to the server for container ID %{public}@. capabilities: %{public}@, error: %{public}@"
+ "Failed to send share usage to the server: \n\tcontainerID: %{public}@ \n\tdate: %@ \n\tshareID: %{public}@"
+ "Failed to send share usage to the server: %@ \n\tcontainerID: %{public}@ \n\tdate: %@ \n\tshareID: %{public}@"
+ "Failed to send zone usage to the server: \n\tcontainerID: %{public}@ \n\tdate: %@ \n\tzoneID: %{public}@"
+ "Got unexpected error from data security check %@. Defaulting to .dataProtectionInsufficient block event"
+ "Manatee / Walrus check using cached values failed with error %@"
+ "Manatee is not available for account %@"
+ "Manatee not available for account %@. Error: %{public}@."
+ "Manatee not available for the current account. Error: %{public}@."
+ "Manatee unavailable for account %s. Error: %@"
+ "Not creating a legacy throttle for operation type 'none'."
+ "Previous invalidation context has a different primary service name from the new session configuration, ignoring it. Previous service name %s. Session configuration service name %s"
+ "Previous invalidation context has a different privileged info hash from the new session configuration, ignoring it. Previous privileged info hash %s, session configuration privileged info hash %s"
+ "Received unexpected error type from cached data security requirements check: %@"
+ "SendDeviceCapabilitiesEvenIfUnchanged"
+ "Session configured to bypass PCS is not expected to reach data security check"
+ "Session configured to bypass PCS is not expected to reach encryption check"
+ "TB,R,N,V_isWalrusEnabled"
+ "There are no cached manatee/walrus statuses. The cached values may have been cleared. Not invalidating the session until there is an actual problem with it."
+ "There is no manatee availability cached but we are not allowed to fetch."
+ "There is no manatee availability cached but we are not allowed to fetch. Returning error: %@"
+ "There is no walrus availability cached but we are not allowed to fetch."
+ "There should be an error"
+ "UpdateDeviceCapabilities"
+ "Walrus cannot be determined for account due to error %@"
+ "Walrus cannot be determined for account with ID %@ due to error %@"
+ "Walrus enabled for service %{public}@"
+ "_handleDeviceCapabilitiesResultForContainer:savedCapabilities:skipErrorMitigation:withCapabilitiesError:operationError:"
+ "_handleShareUsageResultForContainer:shareID:date:skipErrorMitigation:withUsageError:operationError:"
+ "_handleZoneUsageResultForContainer:zoneID:date:skipErrorMitigation:withUsageError:operationError:"
+ "_isThrottledError:"
+ "_isThrottledOperationType:forContainer:databaseScope:throttleManager:"
+ "_isWalrusEnabled"
+ "actorMutex"
+ "areDataSecurityStatusesValid"
+ "containerErrorBackoff"
+ "dataProtectionStatus"
+ "dependencyFactory"
+ "initWithContainerID:databaseScope:"
+ "initWithIsWalrusEnabled:"
+ "isManateeAvailableForAccount:isSecondaryAccount:allowFetch:error:"
+ "isServiceManatee"
+ "isWalrusEnabled"
+ "isWalrusEnabledForAccount:allowFetch:"
+ "isWalrusEnabledForAccount:isSecondaryAccount:allowFetch:error:"
+ "manateeStatusForAccount:isSecondaryAccount:allowFetch:completionHandler:"
+ "v32@?0@\"NSArray\"8@\"NSError\"16@\"NSError\"24"
+ "v40@?0@\"CKRecordID\"8@\"NSDate\"16@\"NSError\"24@\"NSError\"32"
+ "v40@?0@\"CKRecordZoneID\"8@\"NSDate\"16@\"NSError\"24@\"NSError\"32"
+ "v52@0:8@16@24B32@36@44"
+ "v60@0:8@16@24@32B40@44@52"
+ "validateCachedDataSecurityRequirementsAndReturnWalrusResultForAccount:isServiceManatee:errorPtr:"
+ "validateDataSecurityStatusesForAccount:isServiceManatee:clientSDKVersionLaterThanSkyStar:completionHandler:"
- "%s: Received blocking account device acquisition event: %s, readinessError: %@"
- "Error checking manatee / walrus statuses"
- "Failed to obtain user ids %@, gonna hang indefinitely now"
- "Failed to register push %@, gonna hang indefinitely now"
- "Failed to save device capabilities and/or share/zone usage to the server for container ID %{public}@: %@"
- "Failed to send share usage to the server. \n\tcontainerID: %{public}@ \n\tdate: %@ \n\tshareID: %{public}@"
- "Manatee not available for current account. Error: %{public}@."
- "Manatee unavailable for account %s: %@"
- "Timed out waiting for manatee / walrus check"
- "Timed out waiting for manatee / walrus check."
- "Unexpected error when checking manatee status for account %s. Error: %@"
- "_handleDeviceCapabilitiesResultForContainer:savedCapabilities:skipErrorMitigation:withOperationError:"
- "_handleShareUsageResultForContainer:shareID:date:skipErrorMitigation:withOperationError:"
- "_handleZoneUsageResultForContainer:zoneID:date:skipErrorMitigation:withOperationError:"
- "areDataSecurityRequirementsMet"
- "areDataSecurityRequirementsMetForAccount:isServiceManatee:clientSDKVersionLaterThanSkyStar:completionHandler:"
- "checkFactory"
- "dataSecurityObserver"
- "isManateeAvailableForAccount:isSecondaryAccount:error:"
- "isWalrusEnabledForAccount:allowBlockingFetch:"
- "isWalrusEnabledForAccount:isSecondaryAccount:allowBlockingFetch:error:"
- "logicalDeviceContext"
- "manateeStatusForAccount:isSecondaryAccount:completionHandler:"
- "v32@?0@\"CKRecordID\"8@\"NSDate\"16@\"NSError\"24"
- "v32@?0@\"CKRecordZoneID\"8@\"NSDate\"16@\"NSError\"24"

```
