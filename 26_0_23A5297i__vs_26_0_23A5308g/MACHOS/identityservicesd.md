## identityservicesd

> `/System/Library/PrivateFrameworks/IDS.framework/identityservicesd.app/identityservicesd`

```diff

-1964.100.1.0.0
-  __TEXT.__text: 0x834650
+1966.100.2.0.0
+  __TEXT.__text: 0x8c8508
   __TEXT.__auth_stubs: 0x5a50
-  __TEXT.__objc_stubs: 0x45d20
-  __TEXT.__objc_methlist: 0x290b4
-  __TEXT.__const: 0x5fd60
-  __TEXT.__gcc_except_tab: 0x29960
-  __TEXT.__objc_methname: 0x71fcb
-  __TEXT.__cstring: 0x57f00
-  __TEXT.__oslogstring: 0x79b4b
-  __TEXT.__objc_classname: 0x4377
-  __TEXT.__objc_methtype: 0x1224c
+  __TEXT.__objc_stubs: 0x45ec0
+  __TEXT.__objc_methlist: 0x291dc
+  __TEXT.__const: 0x5d2e0
+  __TEXT.__gcc_except_tab: 0x29c9c
+  __TEXT.__objc_methname: 0x72443
+  __TEXT.__cstring: 0x586c0
+  __TEXT.__oslogstring: 0x79ffb
+  __TEXT.__objc_classname: 0x43a3
+  __TEXT.__objc_methtype: 0x12303
   __TEXT.__ustring: 0x4ca
   __TEXT.__dlopen_cstrs: 0xea
-  __TEXT.__swift5_typeref: 0x5006
+  __TEXT.__swift5_typeref: 0x5012
   __TEXT.__swift5_capture: 0x12f8
   __TEXT.__constg_swiftt: 0x42e4
   __TEXT.__swift5_reflstr: 0x3b57

   __TEXT.__swift_as_ret: 0x6c
   __TEXT.__swift5_assocty: 0xa08
   __TEXT.__swift5_mpenum: 0x8
-  __TEXT.__unwind_info: 0x10e50
+  __TEXT.__unwind_info: 0x10f90
   __TEXT.__eh_frame: 0x7314
   __DATA_CONST.__auth_got: 0x2d38
-  __DATA_CONST.__got: 0x37e0
+  __DATA_CONST.__got: 0x37e8
   __DATA_CONST.__auth_ptr: 0x758
-  __DATA_CONST.__const: 0x28a58
-  __DATA_CONST.__cfstring: 0x341e0
-  __DATA_CONST.__objc_classlist: 0x1018
+  __DATA_CONST.__const: 0x2d458
+  __DATA_CONST.__cfstring: 0x344e0
+  __DATA_CONST.__objc_classlist: 0x1020
   __DATA_CONST.__objc_catlist: 0x50
   __DATA_CONST.__objc_protolist: 0x750
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0x108
-  __DATA_CONST.__objc_superrefs: 0xb88
+  __DATA_CONST.__objc_superrefs: 0xb90
   __DATA_CONST.__objc_intobj: 0x1a88
   __DATA_CONST.__objc_arraydata: 0x5a0
   __DATA_CONST.__objc_arrayobj: 0x360
   __DATA_CONST.__objc_doubleobj: 0x10
   __DATA_CONST.__objc_dictobj: 0x50
-  __DATA.__objc_const: 0x44868
-  __DATA.__objc_selrefs: 0x15a78
-  __DATA.__objc_ivar: 0x3258
-  __DATA.__objc_data: 0xc8b0
-  __DATA.__data: 0xc5d0
+  __DATA.__objc_const: 0x44ac8
+  __DATA.__objc_selrefs: 0x15b00
+  __DATA.__objc_ivar: 0x327c
+  __DATA.__objc_data: 0xc900
+  __DATA.__data: 0xc780
   __DATA.__bss: 0x10a50
-  __DATA.__common: 0xea8
+  __DATA.__common: 0xf18
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork
   - /System/Library/Frameworks/CoreBluetooth.framework/CoreBluetooth
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /System/Library/Frameworks/Security.framework/Security
   - /System/Library/Frameworks/SwiftData.framework/SwiftData
   - /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
+  - /System/Library/Frameworks/UIKit.framework/UIKit
   - /System/Library/PrivateFrameworks/ApplePushService.framework/ApplePushService
   - /System/Library/PrivateFrameworks/AssertionServices.framework/AssertionServices
   - /System/Library/PrivateFrameworks/BackBoardServices.framework/BackBoardServices

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 7585C79E-F102-36CB-B021-94B4D0948ED5
-  Functions: 23026
-  Symbols:   2727
-  CStrings:  41099
+  UUID: 17CBEC6A-A11E-363B-B688-0BF19737E40C
+  Functions: 23091
+  Symbols:   2731
+  CStrings:  41220
 
Symbols:
+ _IDSRegistrationPropertySupportsConditionalCKVEnforcement
+ __swift_FORCE_LOAD_$_swiftUIKit
+ _dlclose
+ _dlopen
CStrings:
+ "00:42:59"
+ "?"
+ "@\"<IDSGlobalLinkP2PNegotiatedKeySetProtocol>\""
+ "@\"<IDSGroupQUICMaterialExchangeProvider>\""
+ "@\"<_TtP17identityservicesd19IDSDSessionProvider_>\""
+ "@\"<_TtP17identityservicesd27IDSGroupPushHandlerProtocol_>\""
+ "@\"IDSEndpointSubscription\""
+ "@\"IDSLinkSelectionStrategy\""
+ "@\"IDSQueryCompletionMetric\""
+ "@\"_TtC17identityservicesd31IDSGroupEncryptionConfiguration\""
+ "@\"_TtC17identityservicesd36IDSGroupEncryptionIdentityController\""
+ "@\"_TtC17identityservicesd38IDSGroupRootMaterialExchangeController\""
+ "@\"_TtC17identityservicesd39IDSGroupEncryptionKeyMaterialController\""
+ "@48@0:8B16B20B24B28B32B36@40"
+ "@92@0:8@16@24@32@40@48I56@60@68@76@84"
+ "B48@0:8@\"IDSURI\"16@\"IDSURI\"24@\"NSString\"32@\"NSDate\"40"
+ "B52@0:8@\"IDSURI\"16@\"IDSURI\"24@\"NSString\"32B40@\"NSDate\"44"
+ "B52@0:8@16@24@32B40@44"
+ "BatchVerifier"
+ "CKVOptionalEnforcement"
+ "Determining usable sender key for senderURI: %@ receiverURI: %@ with %ld endpoints and %ld stewieCapableTokens: %s"
+ "Finished verifying payloads with results: %@"
+ "Found endpoint for URI: %@, endpoint: %@"
+ "Found endpoints by context: %@"
+ "Found last resort cache identities by context: %@"
+ "Found remote contexts needing query: %@, already have: %@"
+ "Holding query metric on KT service until KT query resolves (query identifier: %@)"
+ "IDSPeerIDQueryHandlerOpenQueryMetricContext"
+ "Jul 25 2025"
+ "KT query time: %f"
+ "Last resort cache query for { token: %@, URI: %@, service: %@ } returned: { identity: %@, error: %@ }"
+ "No endpoints in query results for URI: %@, checking last resort cache"
+ "No identity found in query or last resort cache for URI: %@"
+ "No matching endpoint in query results for URI: %@, checking last resort cache"
+ "No remote URIs to query, returning results: %@"
+ "Noting KT results for uri %@, posting relevant query metrics if necessary"
+ "Posting query metric immediately for non KT service"
+ "Query for URIs: %@ returned: { displayIDToEndpoints: %@, offline: %@ }"
+ "Query metric for query %@ waited too long for KT response for uris: %@, posting without KT query time"
+ "Query was waiting for uri %@, remaining uris before posting metric %ld"
+ "Querying for remote URIs: %@"
+ "Rate-limited contexts that will not be queried for: %@"
+ "RequiredValidThroughDate"
+ "T@\"CUTDeferredTaskQueue\",R,N,V_cleanupOpenQueryMetricsTask"
+ "T@\"IDSQueryCompletionMetric\",R,N,V_queryMetricToLog"
+ "T@\"NSDate\",R,N,V_ktQueryStart"
+ "T@\"NSDate\",R,N,V_requiredValidThroughDate"
+ "T@\"NSMutableArray\",&,N,V_openMetricsWaitingForKTQuery"
+ "T@\"NSMutableSet\",R,N,V_urisWaitingForKTResponse"
+ "This was the last uri we were waiting for, posting query metric for query %@"
+ "T{os_unfair_lock_s=I},R,V_metricsLock"
+ "URI is rate-limited and no identity found in last resort cache: %@"
+ "_cleanupOpenQueryMetricsTask"
+ "_ktQueryStart"
+ "_metricsLock"
+ "_openMetricsWaitingForKTQuery"
+ "_queryMetricToLog"
+ "_requiredValidThroughDate"
+ "_urisWaitingForKTResponse"
+ "_verifySignedDataWithContext:forType:withPublicDeviceIdentity:onQueue:"
+ "cleanupOpenQueryMetricsTask"
+ "cleanupUnpostedQueryMetrics"
+ "hasPeerTokensForURI:fromURI:service:validThrough:"
+ "hasQueryResultsForURI:fromURI:service:isForceQuery:validThrough:"
+ "id-query-kt-query-timeout"
+ "initWithPeerIDManager:rateLimiter:localURI:service:cert:keyType:keyDiversifier:publicIdentityCache:builder:"
+ "initWithPeerIDManager:rateLimiter:localURI:service:cert:keyType:keyDiversifier:publicIdentityCache:builder:queue:"
+ "initWithSending:forceToServer:messaging:resultExpected:preventNewQuery:clientRequestedForceQuery:requiredValidThroughDate:"
+ "initWithURISet:queryMetric:ktQueryStart:service:uniqueIdentifier:"
+ "ktQueryMetricTimeout"
+ "ktQueryStart"
+ "lastResortCacheIdentityForURI:"
+ "metricsLock"
+ "noteKTQueryFinishedForURI:service:"
+ "openMetricsWaitingForKTQuery"
+ "payloadCanBeLogged"
+ "queryMetricToLog"
+ "requiredValidThroughDate"
+ "setKtQueryTimeInterval:"
+ "setOpenMetricsWaitingForKTQuery:"
+ "urisWaitingForKTResponse"
+ "v16@?0@\"IDSPeerIDQueryHandler\"8"
+ "v32@0:8@\"IDSURI\"16@\"NSString\"24"
- "01:22:35"
- "@76@0:8@16@24@32@40@48I56@60@68"
- "B44@0:8@\"IDSURI\"16@\"IDSURI\"24@\"NSString\"32B40"
- "Determining most recently acked key for senderURI: %@ receiverURI: %@ peerTokensSet: %ld"
- "Determining usable sender key for senderURI: %@ receiverURI: %@ with %ld endpoints and %ld stewieCapableTokens"
- "Jul 15 2025"
- "hasPeerTokensForURIs:fromURI:service:"
- "hasQueryResultsForURI:fromURI:service:isForceQuery:"
- "initWithPeerIDManager:rateLimiter:localURI:service:cert:keyType:keyDiversifier:builder:"
- "initWithPeerIDManager:rateLimiter:localURI:service:cert:keyType:keyDiversifier:builder:queue:"

```
