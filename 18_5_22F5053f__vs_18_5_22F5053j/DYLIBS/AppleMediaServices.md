## AppleMediaServices

> `/System/Library/PrivateFrameworks/AppleMediaServices.framework/AppleMediaServices`

```diff

-8.5.5.0.0
-  __TEXT.__text: 0x804224
-  __TEXT.__auth_stubs: 0x47d0
-  __TEXT.__objc_methlist: 0x20b74
-  __TEXT.__const: 0x5ef43
+8.5.8.0.0
+  __TEXT.__text: 0x80809c
+  __TEXT.__auth_stubs: 0x4870
+  __TEXT.__objc_methlist: 0x20b7c
+  __TEXT.__const: 0x5f043
   __TEXT.__dlopen_cstrs: 0x8d3
-  __TEXT.__cstring: 0x298b3
-  __TEXT.__swift5_typeref: 0x3e21
-  __TEXT.__swift5_reflstr: 0x1e88
+  __TEXT.__cstring: 0x29a43
+  __TEXT.__swift5_typeref: 0x3e63
+  __TEXT.__swift5_reflstr: 0x1eb8
   __TEXT.__swift5_assocty: 0x9d8
-  __TEXT.__constg_swiftt: 0x2d44
+  __TEXT.__constg_swiftt: 0x2df0
   __TEXT.__swift5_builtin: 0x21c
-  __TEXT.__swift5_fieldmd: 0x25cc
-  __TEXT.__swift5_proto: 0x6ec
-  __TEXT.__swift5_types: 0x328
-  __TEXT.__swift_as_entry: 0x410
-  __TEXT.__swift_as_ret: 0x450
-  __TEXT.__swift5_capture: 0x1c78
+  __TEXT.__swift5_fieldmd: 0x2644
+  __TEXT.__swift5_proto: 0x6fc
+  __TEXT.__swift5_types: 0x334
+  __TEXT.__swift_as_entry: 0x43c
+  __TEXT.__swift_as_ret: 0x47c
+  __TEXT.__swift5_capture: 0x1db0
   __TEXT.__swift5_mpenum: 0x48
   __TEXT.__swift5_protos: 0x7c
   __TEXT.__oslogstring: 0x2e5b0
-  __TEXT.__gcc_except_tab: 0x1669c
+  __TEXT.__gcc_except_tab: 0x166e8
   __TEXT.__ustring: 0x1b2
-  __TEXT.__unwind_info: 0x11718
-  __TEXT.__eh_frame: 0xcd74
+  __TEXT.__unwind_info: 0x11890
+  __TEXT.__eh_frame: 0xd314
   __TEXT.__objc_classname: 0x3c0d
-  __TEXT.__objc_methname: 0x411d9
+  __TEXT.__objc_methname: 0x411e9
   __TEXT.__objc_methtype: 0x7470
-  __TEXT.__objc_stubs: 0x2d4a0
-  __DATA_CONST.__got: 0x1898
-  __DATA_CONST.__const: 0xbfc8
-  __DATA_CONST.__objc_classlist: 0x12c8
+  __TEXT.__objc_stubs: 0x2d4c0
+  __DATA_CONST.__got: 0x18d0
+  __DATA_CONST.__const: 0xbff0
+  __DATA_CONST.__objc_classlist: 0x12d0
   __DATA_CONST.__objc_catlist: 0xf8
   __DATA_CONST.__objc_protolist: 0x3a0
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xe788
+  __DATA_CONST.__objc_selrefs: 0xe790
   __DATA_CONST.__objc_protorefs: 0x1b8
   __DATA_CONST.__objc_superrefs: 0xc60
-  __DATA_CONST.__objc_arraydata: 0x4f0
-  __AUTH_CONST.__auth_got: 0x2400
-  __AUTH_CONST.__auth_ptr: 0xac0
-  __AUTH_CONST.__const: 0x2b9a8
-  __AUTH_CONST.__cfstring: 0x21200
-  __AUTH_CONST.__objc_const: 0x38508
+  __DATA_CONST.__objc_arraydata: 0x4f8
+  __AUTH_CONST.__auth_got: 0x2450
+  __AUTH_CONST.__auth_ptr: 0xa68
+  __AUTH_CONST.__const: 0x2bc58
+  __AUTH_CONST.__cfstring: 0x21240
+  __AUTH_CONST.__objc_const: 0x385e0
   __AUTH_CONST.__objc_intobj: 0xcd8
-  __AUTH_CONST.__objc_arrayobj: 0xf0
+  __AUTH_CONST.__objc_arrayobj: 0x108
   __AUTH_CONST.__objc_dictobj: 0x118
   __AUTH.__objc_data: 0x7fd0
-  __AUTH.__data: 0x11c0
+  __AUTH.__data: 0x12a0
   __AUTH.__thread_vars: 0x30
   __AUTH.__thread_bss: 0x8
   __DATA.__objc_ivar: 0x17e0
-  __DATA.__data: 0x58f0
-  __DATA.__bss: 0x9ea0
+  __DATA.__data: 0x59b0
+  __DATA.__bss: 0xa0a0
   __DATA.__common: 0xb68
   __DATA_DIRTY.__objc_ivar: 0x65c
   __DATA_DIRTY.__objc_data: 0x54c8

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 22401
-  Symbols:   54058
-  CStrings:  20484
+  Functions: 22521
+  Symbols:   54197
+  CStrings:  20493
 
Symbols:
+ -[AMSEngagement enqueueData:to:]
+ GCC_except_table76
+ _OUTLINED_FUNCTION_131
+ _OUTLINED_FUNCTION_137
+ __DATA__TtCC18AppleMediaServices23AccountCachedServerDataP33_0B6F1E7A1CB17FD6A121041CDC86A10412TimeoutGuard
+ __IVARS__TtCC18AppleMediaServices23AccountCachedServerDataP33_0B6F1E7A1CB17FD6A121041CDC86A10412TimeoutGuard
+ __METACLASS_DATA__TtCC18AppleMediaServices23AccountCachedServerDataP33_0B6F1E7A1CB17FD6A121041CDC86A10412TimeoutGuard
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.147
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.148
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.151
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.152
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.153
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.157
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.170
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke_2.156
+ ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke_2.160
+ ___32-[AMSEngagement enqueueData:to:]_block_invoke
+ ___32-[AMSEngagement enqueueData:to:]_block_invoke.46
+ ___32-[AMSEngagement enqueueData:to:]_block_invoke.50
+ ___32-[AMSEngagement enqueueData:to:]_block_invoke_2
+ ___33-[AMSEngagement syncWithRequest:]_block_invoke.108
+ ___37-[AMSEngagement _enqueueWithContext:]_block_invoke.74
+ ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.137
+ ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.143
+ ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.150
+ ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.151
+ ___50-[AMSEngagement _failAllRunningPromisesWithError:]_block_invoke.132
+ ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.106
+ ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.107
+ ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.116
+ ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.120
+ ___block_descriptor_40_e8_32s_e41_B32?0"AMSEngagementDestination"8Q16^B24ls32l8
+ ___block_descriptor_64_e8_32s40s48r_e55_v24?0"<AMSOnDeviceDataServiceInterface>"8"NSError"16ls32l8r48l8s40l8
+ ___block_literal_global.170
+ ___block_literal_global.175
+ ___block_literal_global.183
+ ___block_literal_global.94
+ _associated conformance 18AppleMediaServices23AccountCachedServerDataC12TimeoutGuard33_0B6F1E7A1CB17FD6A121041CDC86A104LLC5StateOSHAASQ
+ _objc_msgSend$enqueueData:to:
+ _objectdestroy.103Tm
+ _objectdestroy.142Tm
+ _objectdestroy.150Tm
+ _objectdestroy.73Tm
+ _symbolic Sbz_Xx
+ _symbolic Scgyyt______pG s5ErrorP
+ _symbolic _____ 18AppleMediaServices23AccountCachedServerDataC12TimeoutGuard33_0B6F1E7A1CB17FD6A121041CDC86A104LLC
+ _symbolic _____ 18AppleMediaServices23AccountCachedServerDataC12TimeoutGuard33_0B6F1E7A1CB17FD6A121041CDC86A104LLC0H5ErrorV
+ _symbolic _____ 18AppleMediaServices23AccountCachedServerDataC12TimeoutGuard33_0B6F1E7A1CB17FD6A121041CDC86A104LLC5StateO
+ _symbolic ______pIegHzo_ s5ErrorP
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.123
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.124
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.127
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.128
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.129
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.133
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke.146
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke_2.132
- ___118-[NSMutableURLRequest(AppleMediaServices) ams_addCookiesAsynchronouslyForAccount:clientInfo:bag:cleanupGlobalCookies:]_block_invoke_2.136
- ___29-[AMSEngagement enqueueData:]_block_invoke
- ___29-[AMSEngagement enqueueData:]_block_invoke.45
- ___33-[AMSEngagement syncWithRequest:]_block_invoke.104
- ___37-[AMSEngagement _enqueueWithContext:]_block_invoke.69
- ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.134
- ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.140
- ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.144
- ___40-[AMSEngagement _handleServiceResponse:]_block_invoke.148
- ___50-[AMSEngagement _failAllRunningPromisesWithError:]_block_invoke.128
- ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.100
- ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.101
- ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.110
- ___97-[AMSPurchaseTask _recordEngagementEventWithInfo:responseDictionary:finalizedBlindedItems:error:]_block_invoke.114
- ___block_descriptor_56_e8_32s40s_e55_v24?0"<AMSOnDeviceDataServiceInterface>"8"NSError"16ls32l8s40l8
- ___block_literal_global.135
- ___block_literal_global.172
- _objectdestroy.110Tm
- _objectdestroy.63Tm
CStrings:
+ "AccountCachedServerData: ["
+ "B32@?0@\"AMSEngagementDestination\"8Q16^B24"
+ "Timed out waiting for initial value."
+ "Unexpected error thrown while observing account values."
+ "Unexpected error."
+ "_TtCC18AppleMediaServices23AccountCachedServerDataP33_0B6F1E7A1CB17FD6A121041CDC86A10412TimeoutGuard"
+ "analytics"
+ "enqueueData:to:"
+ "kCodingKeyProcessIdentifier"

```
