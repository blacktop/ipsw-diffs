## HomeAutomationInternal

> `/System/Library/PrivateFrameworks/HomeAutomationInternal.framework/HomeAutomationInternal`

```diff

-3403.3.1.0.0
-  __TEXT.__text: 0x57ff58
+3404.42.1.0.0
+  __TEXT.__text: 0x568718
   __TEXT.__auth_stubs: 0x5e30
-  __TEXT.__objc_methlist: 0x16c0
-  __TEXT.__const: 0x1fe78
-  __TEXT.__cstring: 0x38ede
-  __TEXT.__constg_swiftt: 0x137f4
-  __TEXT.__swift5_typeref: 0x9044
-  __TEXT.__swift5_reflstr: 0xb2ef
-  __TEXT.__swift5_fieldmd: 0xd2a4
-  __TEXT.__swift5_builtin: 0x3fc
+  __TEXT.__objc_methlist: 0x23e8
+  __TEXT.__const: 0x21538
+  __TEXT.__cstring: 0x3ac0e
+  __TEXT.__constg_swiftt: 0x13b44
+  __TEXT.__swift5_typeref: 0x9082
+  __TEXT.__swift5_reflstr: 0xb4cf
+  __TEXT.__swift5_fieldmd: 0xd490
+  __TEXT.__swift5_builtin: 0x3e8
   __TEXT.__swift5_assocty: 0x1a40
-  __TEXT.__swift5_proto: 0x1d00
-  __TEXT.__swift5_types: 0xbd4
-  __TEXT.__swift5_capture: 0x1da8
+  __TEXT.__swift5_proto: 0x1d70
+  __TEXT.__swift5_types: 0xbec
+  __TEXT.__swift5_capture: 0x1d98
   __TEXT.__swift5_protos: 0x1ac
-  __TEXT.__oslogstring: 0x25e8
-  __TEXT.__swift5_mpenum: 0x6c
-  __TEXT.__unwind_info: 0xf950
-  __TEXT.__eh_frame: 0x2113c
+  __TEXT.__swift_as_entry: 0x14a4
+  __TEXT.__swift_as_ret: 0x17e0
+  __TEXT.__oslogstring: 0x27b8
+  __TEXT.__swift5_mpenum: 0x64
+  __TEXT.__unwind_info: 0xecd0
+  __TEXT.__eh_frame: 0x229e4
   __TEXT.__objc_classname: 0x185
-  __TEXT.__objc_methname: 0x5076
-  __TEXT.__objc_methtype: 0xa3a
-  __DATA_CONST.__got: 0x1c78
+  __TEXT.__objc_methname: 0x509b
+  __TEXT.__objc_methtype: 0xa71
+  __DATA_CONST.__got: 0x1dd0
   __DATA_CONST.__const: 0x938
-  __DATA_CONST.__objc_classlist: 0xb98
+  __DATA_CONST.__objc_classlist: 0xbb0
   __DATA_CONST.__objc_catlist: 0xa0
   __DATA_CONST.__objc_protolist: 0x180
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x1460
+  __DATA_CONST.__objc_selrefs: 0x19b8
   __DATA_CONST.__objc_protorefs: 0xd0
   __AUTH_CONST.__auth_got: 0x2f18
-  __AUTH_CONST.__auth_ptr: 0x3778
-  __AUTH_CONST.__const: 0x25348
-  __AUTH_CONST.__objc_const: 0x14fe8
-  __AUTH.__objc_data: 0x46e0
-  __AUTH.__data: 0x177f0
-  __DATA.__data: 0xa1c0
-  __DATA.__bss: 0x2d8f0
-  __DATA.__common: 0xa98
-  __DATA_DIRTY.__objc_data: 0x628
-  __DATA_DIRTY.__data: 0xed8
+  __AUTH_CONST.__auth_ptr: 0x3258
+  __AUTH_CONST.__const: 0x26088
+  __AUTH_CONST.__objc_const: 0x13d00
+  __AUTH.__objc_data: 0x43f8
+  __AUTH.__data: 0x17c88
+  __DATA.__data: 0xa2f0
+  __DATA.__bss: 0x2e380
+  __DATA.__common: 0xa48
+  __DATA_DIRTY.__objc_data: 0x630
+  __DATA_DIRTY.__data: 0xeb8
   __DATA_DIRTY.__bss: 0x400
   __DATA_DIRTY.__common: 0x70
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDataDetection.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
-  - /usr/lib/swift/libswiftFileProvider.dylib
   - /usr/lib/swift/libswiftIntents.dylib
   - /usr/lib/swift/libswiftMLCompute.dylib
   - /usr/lib/swift/libswiftMapKit.dylib

   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
+  - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswift_errno.dylib
   - /usr/lib/swift/libswift_math.dylib
   - /usr/lib/swift/libswift_signal.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 18936
-  Symbols:   1182
-  CStrings:  6600
+  Functions: 17997
+  Symbols:   1207
+  CStrings:  6765
 
Symbols:
+ _OBJC_CLASS_$_INIntentResolutionResult
+ _swift_cvw_allocateGenericValueMetadataWithLayoutString
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_enumFn_getEnumTag
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_initEnumMetadataSingleCaseWithLayoutString
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
+ _swift_getTupleTypeMetadata2
- _HMServiceTypeAccessoryInformation
- __swift_FORCE_LOAD_$_swiftFileProvider
- _objc_release_x1
- _objc_release_x10
- _swift_allocateGenericValueMetadata
- _swift_getTupleTypeLayout2
- _swift_initEnumMetadataMultiPayload
- _swift_initEnumMetadataSingleCase
- _swift_initStructMetadata
CStrings:
+ "\t\tsupportedBooleanValue("
+ "\t\tsupportedCleaningJobValue(runStates("
+ "\t\tsupportedDoubleValue("
+ "\t\tsupportedIntegerValue("
+ "\t\tsupportedLimitValue("
+ "\t\tsupportedRangeValue("
+ "\t\tsupportedRangeValue(empty))\n"
+ "\t\tsupportedStringValue("
+ "\t\tsupportedUnknownValue\n"
+ "\ttargetArea.name("
+ "\ttargetMap.mapID("
+ "\n\nStable Matter Accessories Hash:\n"
+ "\n\nUsing these RVCs to determine clean modes: "
+ "\n\nfull deviceInfoResult: "
+ "\n      - serviceTypeSynonym: "
+ "\n     - Initial showOutputAction: "
+ "\n    accessoryID: "
+ "\naccessoryTypes contains RVC info: "
+ "\nalternatives contains RVC accessoryTypes: "
+ "\nhasExplicitMop: "
+ "\nhasExplicitVacuum: "
+ "\nsecondary clean mode?: "
+ "\nsupportedAttributes: "
+ " \n                            for accessory "
+ "                            Got Accessory type: "
+ "    Saved supportedAttributes to MatterAccessoryManager for accessoryID: "
+ "  Found candidates with \n      - partialServiceNameMatch: "
+ " is unsupported for outcome deviceIsAlreadyInState"
+ " offset "
+ ") along with area name(s))"
+ ") and targetMaps ("
+ ") aren't ambiguous with target maps ("
+ ") from DeviceError"
+ ") matching targetMaps found. Picking the first one."
+ "), targetMap.name("
+ "). \nreturning unambiguous targetAreas: "
+ ", accessoryID = "
+ ", targetArea.areaId("
+ ", targetArea.mapID("
+ ".\n                            Returning primaryServiceType: "
+ ".\nSetting supportedAreas: "
+ ".\nSetting targetAreas: "
+ ".\nSetting targetMap: "
+ ". removing undesired ones: "
+ ". will disambiguate on Map"
+ "/Library/Caches/com.apple.xbs/Sources/SiriHomeAutomation/HomeAutomationInternal/Flow/ControlHome/BlockIncompleteMatterAccessoryManagerLoadHandler.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriHomeAutomation/HomeAutomationInternal/Flow/ControlHome/ModifyingHandlers/SetRvcAccessoryTypeHandler.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriHomeAutomation/HomeAutomationInternal/Flow/IntentSelection/IntentPrioritization/PrioritizeGenericType.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriHomeAutomation/HomeAutomationInternal/Metrics/SELF/AutomateHome+Metrics.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriHomeAutomation/HomeAutomationInternal/Metrics/SELF/ControlHome+Metrics.swift"
+ ": MatterAccessoryManager initialization timed out\"\n                 \" duration:"
+ ": MatterAccessoryManager initialized\""
+ ": MatterAccessoryManager initialized\"\n                 \" duration:"
+ "A ControlHomeIntent was already cached in sessionContext, returning it: \n"
+ "About to perform GetDeviceInfoIntent with DeviceEntities"
+ "Adding new event trigger with events: "
+ "AppIntent timeout "
+ "Attempting to resolve filters"
+ "Check fetched ISCache result (isMatterIntent: "
+ "Computed targetMode:\n "
+ "Computed targetTemperature:\n "
+ "Could not get an onScreen home from the onScreen entities"
+ "Couldn't get rvc case properties for "
+ "Couldn't get rvcCurrentRun case properties for "
+ "Couldn't parse home name from intent: "
+ "Couldn't parse run state from cleaningJob: "
+ "Determined HomeAutomationEntityStateValue: "
+ "Determining cleanModes based on what the user mentioned:\nclean? "
+ "Determining unambiguous RVC targetAreas with area names: "
+ "Determining unambiguous RVC targetMaps with map name(s): "
+ "Dispatcher procured"
+ "Emitting the metrics "
+ "Found RVC(s) that support area"
+ "Found RVC(s) that support area and map combination"
+ "Found RVC(s) that support map"
+ "Found an RVC that supports the targetMap: "
+ "Found an RVC to use: "
+ "Found candidates with genericType and not mentionedContainerNorName among candidates: "
+ "Found multiple accessories of different types matching the filter. Will skip icons."
+ "GenericFallbackResponseHandler\nreached handle for unsupported accessory type resulting in UnknownOutcome"
+ "GetDeviceInfoIntent is done"
+ "Getting entity references asynchronously..."
+ "Got error sending EagerMessage for HomePod RVC request: "
+ "Got targetAreas ("
+ "Got unknown device error when trying to execute cleaning job: "
+ "Handle in BlockIncompleteMatterAccessoryManagerLoadHandler"
+ "HomeAppIntentError "
+ "HomeAutomation#BlockRemoteHomeRequest"
+ "HomeAutomation#IncompleteMatterAccessoryManagerLoad"
+ "HomeAutomation#NoCameraProfile"
+ "HomeAutomation#NoClipFound"
+ "HomeAutomationMopping"
+ "HomeAutomationVacuuming"
+ "ISCache-hit (Matter request), bestHomeIntent: "
+ "ISCache-hit (fallback), fetched "
+ "ISCache-miss for Matter Accessory request, for key: "
+ "ISCache-missed (fallback)"
+ "Intent contains a map name ("
+ "Invalid HomeTaskOutcome ("
+ "Invalid requested run state command for deviceIsAlreadyInState: "
+ "Maps associated with the supported targetAreas: "
+ "MatterAccessoryManager initialization not complete while checking blocking flows"
+ "MatterAccessoryManager is initialized, skipping IncompleteMatterAccessoryManagerLoad blocking flow."
+ "Modified user task: "
+ "Multiple RVCs support the area: "
+ "Named RVC accessories that match the intent: "
+ "New ISCache key: "
+ "No DeviceEntity found for accessoryID: "
+ "No DeviceEntity found in MatterAccessoryManager for accessoryID "
+ "No DeviceEntity found in MatterAccessoryManager for identifier "
+ "No DeviceType found for DeviceEntity with accessoryID "
+ "No HomeAttributeStateType found for RobotVacuumBasicRunStateCommand "
+ "No HomeAttributeType found in AppIntentsMapper for "
+ "No HomeTaskOutcome found in AppIntentsMapper for DeviceError: "
+ "No RVC basic run state command found in attributeValue: "
+ "No RobotVacuumBasicRunStateCommand found in AppIntentsMapper for "
+ "No SupportedAttributesInfo in GetDeviceInfoIntent result\ndeviceEntity: "
+ "No camera profile found"
+ "No matching target %ss found for %f"
+ "No rvc run state found in attributeValue: "
+ "No rvcCurrentRun state found in attributeValue: "
+ "No target map mentioned"
+ "Outcome.deviceFailure"
+ "Performing AutomateAttributeValueIntent with:\n   - attributeValues: %s\n   - deviceEntities: %s\n   - homeEntity: %s\n   - recurrenceWeekdays: %ld"
+ "Pre-hashed string:\n"
+ "Providing HandleFlow with followUpIntent: "
+ "Providing HandleFlow with followUpSiriKitIntent: "
+ "Providing intent handled response - failure "
+ "RVC feature is disabled. Returning .unknown type for "
+ "RVC request. Adding AutomateHome AppIntent handler."
+ "RVC runState is running, starting to determine clean modes."
+ "RVC special case handled above"
+ "RVCs that match the targeted service areas: "
+ "RVCs that support cleaning the target area(s): "
+ "RVCs that support the target area(s) ("
+ "RVCs that support the target map ("
+ "Received and deserialized data "
+ "Received deviceFailure error "
+ "Request involves Matter Accessories, we need to consult Matter Accessory Hash"
+ "Resolving user task for RVC request"
+ "Returned cached controlHomeIntent from HomeAutomationIntent."
+ "Sanitizing conflicting RVC states: "
+ "Saved supportedTargetAreas to MatterAccessoryManager for accessoryID: "
+ "Saved supportedTargetMaps to MatterAccessoryManager for accessoryID: "
+ "Sending HomePod eager dialog"
+ "Sending eager reply for HomePod RVC request"
+ "Setting HA entity state "
+ "Setting HomeAttributeValue to: "
+ "Setting explicit clean modes: "
+ "Setting implicit clean modes: "
+ "Skip UFL suggestion due to number of entities in request (count: "
+ "Skipping MatterAccessoryManager initialization"
+ "Skipping eager reply for non HomePod request"
+ "Supporting RVCs support the following targetAreas: "
+ "The task is either pause::NoEntity or resume::NoEntity, handling the parse"
+ "There are no onScreen entities"
+ "Unable to determine Matter Accessory Hash, resorting to fallback cache"
+ "Unable to modify the task to include RVC attribute as nlIntent was not provided."
+ "Unsupported Remote home request"
+ "Updated accessoryNames in HomeAutomationIntent: "
+ "Updated targetMaps in HomeAutomationIntent: "
+ "User mentioned areas: "
+ "User mentioned maps: "
+ "Using homeName from current device: "
+ "Using homeName from deviceEntity: "
+ "Watch does not need accessory warmup"
+ "Will send serialized data "
+ "[AccessoryResoltion] Skipping device disambiguation given entityIdentifier(s) in the filter)"
+ "[AccessoryResolution] getting RVC resolution candidates"
+ "[RoomResolution] Skipping device disambiguation given entityIdentifier(s) in the filter)"
+ "[ZoneResolution] Skipping device disambiguation given entityIdentifier(s) in the filter)"
+ "_TtC22HomeAutomationInternal23HandoffHandleIntentData"
+ "_TtC22HomeAutomationInternal26SetRvcAttributeTypeHandler"
+ "_TtC22HomeAutomationInternal48BlockIncompleteMatterAccessoryManagerLoadHandler"
+ "_accessoryID"
+ "accessoryResolutionCandidates "
+ "appIntentDispatcher"
+ "baseControlHomeMetricsCommand()"
+ "cachedControlHomeIntent"
+ "checkFetched(_:)"
+ "coolingThreshold: {%f} is higher than service's maxCoolingThreshold: {%f}.\nUpdating coolingThreshold to: {%f}."
+ "deviceErrorTaskOutcome(from:)"
+ "failedToFindDock"
+ "filterChangeNeeded"
+ "filterLifeLevel"
+ "found conflicting RVC states in "
+ "getDeviceEntity(identifier:)"
+ "getHomeAutomationRequestMetadata(using:)"
+ "getThermostatMode() shouldn't be call in parent class SetClimateControlAppIntentHandleDelegate, returning nil."
+ "getThermostatValue() shouldn't be call in parent class SetClimateControlAppIntentHandleDelegate, returning nil."
+ "heatingThreshold: {%f} is lower than service's minHeatingThreadhold: {%f}.\nUpdating heatingThreshold to: {%f}."
+ "home:didUpdateActionSet:isExecuting:"
+ "homeResolutionCandidates "
+ "homeUserTaskResponses(from:homeUserTask:for:with:)"
+ "invalidRequestForCurrentState"
+ "isRVC"
+ "legacyAttachmentProblemFailures"
+ "modeEntityResponses: "
+ "more than 1 map that matches the user's request. remaining targetArea candidates: "
+ "newAttachmentProblemFailures"
+ "only found 1 eligible RVC. returning unambiguous targetAreas: "
+ "only found 1 eligible RVC. returning unambiguous targetMap: "
+ "only found 1 eligible map. returning unambiguous targetAreas: "
+ "originalIntent: "
+ "parseSupportedAttributeInfo(from:for:withAccessoryID:supportedAttributesDict:)"
+ "parsed RVC info (failure): "
+ "parsed RVC info (success?): "
+ "resolve filter candidates: "
+ "runRunStateCommand(from:)"
+ "rvcCurrentRun"
+ "rvcDisabledOnHomePod"
+ "rvcDisabledOnWatch"
+ "rvcDustBinFull"
+ "rvcDustBinMissing"
+ "rvcFailedToFindChargingDock"
+ "rvcMopCleaningPadMissing"
+ "rvcWaterTankEmpty"
+ "rvcWaterTankLidOpen"
+ "rvcWaterTankMissing"
+ "sendEagerHomePodReplyMessage(intent:)"
+ "sendEagerWatchReplyMessage(intent:)"
+ "stableMatterAccessoriesHash"
+ "stableMatterAccessoriesHash: "
+ "success with filters "
+ "supported maps matching the user's request: "
+ "targetTemperature after min/max adjustment:\n "
+ "targetTemperature: {%f} is higher than service's maxTargetTemperature: {%f}.\nUpdating targetTemperature to: {%f}."
+ "targetTemperature: {%f} is lower than service's minTargetTemperature: {%f}.\nUpdating targetTemperature to: {%f}."
+ "too many target areas ("
+ "uncertainty with naturalResolution "
+ "unknownDeviceError"
+ "v36@0:8@\"HMHome\"16@\"HMActionSet\"24B32"
+ "v36@0:8@16@24B32"
+ "we have more than 1 eligible Map. returning unset mapID to disambiguate by Map"
+ "we have more than 1 eligible RVC. returning unset mapID to disambiguate by RVC"
+ "withDeviceErrorTaskOutcome(_:for:)"
+ "zoneOrRoomResolutionCandidates "
- "    Saved supportedAttributes to MatterAccessoryManager for matterNodeID: "
- "    homeApp is in foreground and there are no references in the intent. Proceeding asynchronously..."
- " is in forgreound"
- ". Returning primaryServiceType: "
- "/Library/Caches/com.apple.xbs/Sources/SiriHomeAutomation/HomeAutomationInternal/Flow/NL/HomeAutomationIntent+NLV3.swift"
- "/Library/Caches/com.apple.xbs/Sources/SiriHomeAutomation/HomeAutomationInternal/Shared/Utilities/AppInForeground.swift"
- ": MatterAccessoryManager initialization timed out: "
- "About to perform GetDeviceInfoIntent with DeviceEntities: "
- "App not in foreground - Ignoring punchout"
- "Can't construct Array with count < 0"
- "Check fetched ISCache result"
- "Checking if App:"
- "DeviceEntity query failed with Error: "
- "Division by zero"
- "Division results in an overflow"
- "Found candidates with partialServiceNameMatch or serviceTypeSynonym: "
- "Found multiple accessories matching the filter. Will skip icons."
- "GenericFallbackResponseHandler reached handle for unsupported accessory type resulting in UnknownOutcome"
- "Got Accessory type: "
- "Insufficient space allocated to copy string contents"
- "Invalid requested run state state for deviceIsAlreadyInState: "
- "Multiple matching targetMaps found inside intent. Returning the first one."
- "Negative value is not representable"
- "No DeviceEntity found for matterNodeID: "
- "No DeviceEntity found in MatterAccessoryManager for "
- "No DeviceEntity retrieved from EntityQuery. results: "
- "No DeviceType found for DeviceEntity with matterNodeID "
- "No HomeAttributeType found in AppIntentsMapper for  "
- "No SupportedAttributesInfo in GetDeviceInfoIntent result"
- "No matching target %ss found for %ld"
- "No matterNodeId found in MatterAccessoryManager for "
- "Not enough bits to represent the passed value"
- "Performing AutomateAttributeValueIntent with:\n   - attributeValues: %s\n   - deviceEntities: %s\n   - recurrenceWeekdays: %ld"
- "Providing HandleFlow"
- "Providing intent handled response - failure"
- "RVC feature is disabled. Returning .unknown"
- "SRR Resolve query exceeded 50ms threshold to resolve common_App"
- "Saved supportedTargetAreas to MatterAccessoryManager for matterNodeID: "
- "Saved supportedTargetMaps to MatterAccessoryManager for matterNodeID: "
- "Siri Reference Resolution"
- "Skipping UFL suggestion due to number of entities in request (count: "
- "Started background initialization for MatterAccessoryManager"
- "Swift/Array.swift"
- "Swift/ContiguousArrayBuffer.swift"
- "Swift/IntegerTypes.swift"
- "Swift/Integers.swift"
- "Swift/StringTesting.swift"
- "Swift/StringUTF8View.swift"
- "Swift/UnsafeBufferPointer.swift"
- "Swift/UnsafePointer.swift"
- "Swift/UnsafeRawPointer.swift"
- "Timeout trying to grab appInForeground. Filling a radar"
- "Unexpectedly found nil while unwrapping an Optional value"
- "Unknwon homeAppIntentError "
- "UnsafeMutableBufferPointer with negative count"
- "UnsafeMutablePointer.initialize overlapping range"
- "UnsafeMutablePointer.initialize with negative count"
- "UnsafeMutablePointer.moveInitialize with negative count"
- "UnsafeMutableRawPointer.initializeMemory overlapping range"
- "attachmentProblemFailures"
- "backgroundInitialization()"
- "determineThermostatMode() shouldn't be call in parent class SetClimateControlAppIntentHandleDelegate, returning nil."
- "determineThermostatValue() shouldn't be call in parent class SetClimateControlAppIntentHandleDelegate, returning nil."
- "fuzzyMatch"
- "homeUserTaskResponses(from:homeUserTask:with:for:)"
- "invalid Collection: less than 'count' elements in collection"
- "isAppInForeground(bundleID:)"
- "matterNodeId(for:)"
- "noVerb::common_App"
- "only found 1 eligible RVC. checking for unambiguous targetAreas..."
- "parseSupportedAttributeInfo(from:for:withNodeId:supportedAttributesDict:)"
- "using SiriEnvironment salient entities "

```
