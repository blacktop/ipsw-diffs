## AppPredictionInternal

> `/System/Library/PrivateFrameworks/AppPredictionInternal.framework/AppPredictionInternal`

```diff

-584.12.0.0.0
-  __TEXT.__text: 0x44a800
-  __TEXT.__auth_stubs: 0x3200
-  __TEXT.__objc_methlist: 0x35f24
-  __TEXT.__const: 0x2a12
-  __TEXT.__cstring: 0x57a92
-  __TEXT.__oslogstring: 0x3a046
-  __TEXT.__gcc_except_tab: 0xf090
+588.10.0.1.0
+  __TEXT.__text: 0x438f14
+  __TEXT.__auth_stubs: 0x31a0
+  __TEXT.__objc_methlist: 0x38124
+  __TEXT.__const: 0x2b72
+  __TEXT.__cstring: 0x577c2
+  __TEXT.__oslogstring: 0x39ff6
+  __TEXT.__gcc_except_tab: 0xef0c
   __TEXT.__dlopen_cstrs: 0x23c
   __TEXT.__ustring: 0x90
-  __TEXT.__swift5_typeref: 0xdd6
-  __TEXT.__constg_swiftt: 0x1624
-  __TEXT.__swift5_reflstr: 0x6cb
-  __TEXT.__swift5_fieldmd: 0xa04
+  __TEXT.__swift5_typeref: 0xdfe
+  __TEXT.__constg_swiftt: 0x162c
+  __TEXT.__swift5_reflstr: 0x6eb
+  __TEXT.__swift5_fieldmd: 0xa10
   __TEXT.__swift5_proto: 0xd4
   __TEXT.__swift5_types: 0x128
   __TEXT.__swift5_assocty: 0x210
   __TEXT.__swift5_capture: 0x430
   __TEXT.__swift5_protos: 0x1c
   __TEXT.__swift5_builtin: 0x64
+  __TEXT.__swift_as_entry: 0xc8
+  __TEXT.__swift_as_ret: 0xb4
   __TEXT.__swift5_mpenum: 0x8
-  __TEXT.__unwind_info: 0xd5c0
-  __TEXT.__eh_frame: 0x1b44
-  __TEXT.__objc_classname: 0x8ba2
-  __TEXT.__objc_methname: 0xac6f6
-  __TEXT.__objc_methtype: 0x1955c
-  __TEXT.__objc_stubs: 0x4c500
-  __DATA_CONST.__got: 0x3670
-  __DATA_CONST.__const: 0xb950
-  __DATA_CONST.__objc_classlist: 0x1f08
+  __TEXT.__unwind_info: 0xd840
+  __TEXT.__eh_frame: 0x1bd4
+  __TEXT.__objc_classname: 0x8b6b
+  __TEXT.__objc_methname: 0xac53d
+  __TEXT.__objc_methtype: 0x1951d
+  __TEXT.__objc_stubs: 0x4c4c0
+  __DATA_CONST.__got: 0x3668
+  __DATA_CONST.__const: 0xb910
+  __DATA_CONST.__objc_classlist: 0x1ef8
   __DATA_CONST.__objc_catlist: 0x128
   __DATA_CONST.__objc_protolist: 0x4b0
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x1b668
+  __DATA_CONST.__objc_selrefs: 0x1b8d0
   __DATA_CONST.__objc_protorefs: 0xa8
-  __DATA_CONST.__objc_superrefs: 0x1508
-  __DATA_CONST.__objc_arraydata: 0x1378
-  __AUTH_CONST.__auth_got: 0x1918
-  __AUTH_CONST.__auth_ptr: 0x4b8
-  __AUTH_CONST.__const: 0x7588
-  __AUTH_CONST.__cfstring: 0x39b80
-  __AUTH_CONST.__objc_const: 0x854f8
-  __AUTH_CONST.__objc_intobj: 0x33f0
-  __AUTH_CONST.__objc_arrayobj: 0x1098
+  __DATA_CONST.__objc_superrefs: 0x1500
+  __DATA_CONST.__objc_arraydata: 0x1370
+  __AUTH_CONST.__auth_got: 0x18e8
+  __AUTH_CONST.__auth_ptr: 0x458
+  __AUTH_CONST.__const: 0x7660
+  __AUTH_CONST.__cfstring: 0x39a60
+  __AUTH_CONST.__objc_const: 0x816b0
+  __AUTH_CONST.__objc_intobj: 0x33c0
+  __AUTH_CONST.__objc_arrayobj: 0x1080
   __AUTH_CONST.__objc_dictobj: 0x1b8
   __AUTH_CONST.__objc_floatobj: 0x30
   __AUTH_CONST.__objc_doubleobj: 0x70
-  __AUTH.__objc_data: 0x4c00
+  __AUTH.__objc_data: 0x4b40
   __AUTH.__data: 0x1c08
   __DATA.__objc_ivar: 0x4a70
-  __DATA.__data: 0x3b40
-  __DATA.__bss: 0x1bc0
-  __DATA.__common: 0x68
-  __DATA_DIRTY.__objc_data: 0xed88
-  __DATA_DIRTY.__data: 0x948
-  __DATA_DIRTY.__bss: 0xb30
+  __DATA.__data: 0x3b60
+  __DATA.__bss: 0x1bb0
+  __DATA.__common: 0x58
+  __DATA_DIRTY.__objc_data: 0xed90
+  __DATA_DIRTY.__data: 0x8f8
+  __DATA_DIRTY.__bss: 0xb20
   __DATA_DIRTY.__common: 0x60
   - /System/Library/Frameworks/Accelerate.framework/Accelerate
   - /System/Library/Frameworks/Accounts.framework/Accounts

   - /usr/lib/swift/libswiftCryptoTokenKit.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
-  - /usr/lib/swift/libswiftFileProvider.dylib
   - /usr/lib/swift/libswiftIntents.dylib
   - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftOSLog.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 24301
-  Symbols:   28932
-  CStrings:  34956
+  Functions: 24536
+  Symbols:   29309
+  CStrings:  34922
 
Symbols:
+ _kATXAddNextAppLaunchTimestampToNotifications
+ _kATXCarPlayConfigDidUpdateNotification
+ _kATXNotificationAndSuggestionAppLaunchTimestampDefaultsKey
+ _kATXUpdateNotificationAppLaunchTimestampQuery
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
- _ATXSampleFromGammaDistribution
- _OBJC_CLASS_$_ATXBlendedLocalAndGlobalScores
- _OBJC_CLASS_$_ATXDirichletDistribution
- _OBJC_METACLASS_$_ATXBlendedLocalAndGlobalScores
- _OBJC_METACLASS_$_ATXDirichletDistribution
- ___cxa_guard_acquire
- ___cxa_guard_release
- __swift_FORCE_LOAD_$_swiftFileProvider
- _fmodf
- _kDayOfWeek
- _kDayOfWeek_sampled
- _kLOIType
- _kLOIType_sampled
- _kLastApp
- _kLastApp_sampled
- _kTimeOfDay
- _kTimeOfDay_sampled
- _swift_initStructMetadata
CStrings:
+ "\x12&q"
+ ":nextAppLaunchTimestamp"
+ "ALTER TABLE notifications ADD COLUMN nextAppLaunchTimestamp REAL"
+ "ATXNotificationAndSuggestionDatastoreAppLaunchTimestamp"
+ "Category %@ isn't touched in more than %d days, current potential savings: %lu, total savings in this run: %lu"
+ "Category %@ was last touched: %d days ago"
+ "Error updating notification with app launch timestamp: %@"
+ "INSERT OR IGNORE INTO notifications VALUES (:uuid, :receiveTimestamp, :deliveryMethod, :urgency, :bundleId, :threadId, :contactId, :isGroupMessage, :isMessage, :latestOutcome, :latestOutcomeTimestamp, :isProminent, :isActive, 0, :rawIdentifier, :receivedMode, NULL, NULL, :deliveryReason, :recordTimestamp, :notificationID, :notificationBodyLength, :notificationTitleLength, :notificationSubtitleLength, :summaryLength, :isDeliveredInPrioritySection, :isSummarized, :isPartOfStack, :isStackSummary, 0, :numberOfNotificationsInStack, :notificationPriorityStatus, :notificationSummaryStatus, :isPriorityNotificationEnabled, :isNotificationSummaryEnabled, NULL)"
+ "SELECT     uuid,     receiveTimestamp,     deliveryMethod,     urgency,     bundleId,     isMessage,     latestOutcome,     latestOutcomeTimestamp,     numExpansions,     receivedMode,     firstUI,     mostRecentUI,     deliveryReason,     notificationBodyLength,     notificationTitleLength,     notificationSubtitleLength,     summaryLength,     isDeliveredInPrioritySection,     isSummarized,     isPartOfStack,     isStackSummary,     numberOfNotificationsInStack,     notificationPriorityStatus,     notificationSummaryStatus,     isPriorityNotificationEnabled,     isNotificationSummaryEnabled,     nextAppLaunchTimestamp FROM notifications WHERE     bundleId = :bundleId AND     notificationId = :notificationId AND     recordTimestamp = :recordTimestamp ORDER BY recordTimestamp DESC LIMIT 1 "
+ "SELECT     uuid,     receiveTimestamp,     deliveryMethod,     urgency,     bundleId,     isMessage,     latestOutcome,     latestOutcomeTimestamp,     numExpansions,     receivedMode,     firstUI,     mostRecentUI,     deliveryReason,     notificationBodyLength,     notificationTitleLength,     notificationSubtitleLength,     summaryLength,     isDeliveredInPrioritySection,     isSummarized,     isPartOfStack,     isStackSummary,     numberOfNotificationsInStack,     notificationPriorityStatus,     notificationSummaryStatus,     isPriorityNotificationEnabled,     isNotificationSummaryEnabled,     nextAppLaunchTimestamp FROM notifications WHERE     receiveTimestamp > :startTimestamp AND     receiveTimestamp < :endTimestamp "
+ "SLS: ATXSpotlightLayoutSelector suggestion =[%lu] contextCode found: %ld for reasons %llu"
+ "SLS: Checking suggestion '%lu' for media intent. Intent of class%@"
+ "SLS: _collectionsWithSuggestions removing dupe `%lu` from contextCode %ld"
+ "SLS: _collectionsWithSuggestions suggestionDict[%@] = [%lu]"
+ "SLS: context=[%{sensitive}@] criteria[%{sensitive}@]"
+ "Slot Resolution Score Logging - Stage One Succeeded"
+ "T@\"NSDate\",&,N,V_nextAppLaunchTimestamp"
+ "UPDATE notifications SET nextAppLaunchTimestamp = :nextAppLaunchTimestamp WHERE bundleId = :bundleId AND receiveTimestamp > :startTimestamp AND receiveTimestamp < :nextAppLaunchTimestamp"
+ "[%@] Could not fetch app launch stream with error: %@"
+ "[Index] CSSearchableItem from suggestion %lu --> %@"
+ "[Index] No search item from suggestion %lu"
+ "_nextAppLaunchTimestamp"
+ "bundleIDCountForCategory:"
+ "carPlay"
+ "com.apple.duetexpertd.histogramSaver"
+ "failed to get suggestions executable info from %@"
+ "nextAppLaunchTimestamp"
+ "purgeUnusedCategories"
+ "setNextAppLaunchTimestamp:"
+ "timeToNextAppLaunch"
+ "updateDefaultsDueToCarPlayConfigUpdate"
+ "updateNotificationWithAppLaunchTimestamp:bundleId:startTimestamp:"
+ "updateNotificationsWithNextAppLaunchTimestamp:bundleId:startTimestamp:"
- "\x12&"
- "@36@0:8i16i20i24@28"
- "@44@0:8@16i24i28i32@36"
- "@48@0:8@16@24q32@40"
- "ATXBlendedLocalAndGlobalScores"
- "ATXDirichletDistribution"
- "ATXGammaDistribution.mm"
- "ATXGlobalAppScorePredictor.m"
- "ATXGlobalAppSignals"
- "ATXGlobalAppSignalsUtil: Error initializing %@ model: %@"
- "ATXGlobalAppSignalsUtil: Missing model name"
- "ATXGlobalSignals - Error during inference on the CoreMLModel: %@"
- "ATXGlobalSignals - Error initializing MLDictionaryFeatureProvider for inference on the CoreMLModel: %@"
- "ATXGlobalSignals: BundleId index %d exceeded the output layer size %lu"
- "ATXRSWidgetSuggestionProducer: no context derived from relevant intent: %@"
- "ATXRSWidgetSuggestionProducer: no relevantContext on CHSWidgetRelevance. Skipping."
- "Can't construct Array with count < 0"
- "DayOfWeek_sampled"
- "Division by zero"
- "Division results in an overflow"
- "INSERT OR IGNORE INTO notifications VALUES (:uuid, :receiveTimestamp, :deliveryMethod, :urgency, :bundleId, :threadId, :contactId, :isGroupMessage, :isMessage, :latestOutcome, :latestOutcomeTimestamp, :isProminent, :isActive, 0, :rawIdentifier, :receivedMode, NULL, NULL, :deliveryReason, :recordTimestamp, :notificationID, :notificationBodyLength, :notificationTitleLength, :notificationSubtitleLength, :summaryLength, :isDeliveredInPrioritySection, :isSummarized, :isPartOfStack, :isStackSummary, 0, :numberOfNotificationsInStack, :notificationPriorityStatus, :notificationSummaryStatus, :isPriorityNotificationEnabled, :isNotificationSummaryEnabled)"
- "Insufficient space allocated to copy string contents"
- "LOIType_sampled"
- "LastApp"
- "LastApp_sampled"
- "SELECT     uuid,     receiveTimestamp,     deliveryMethod,     urgency,     bundleId,     isMessage,     latestOutcome,     latestOutcomeTimestamp,     numExpansions,     receivedMode,     firstUI,     mostRecentUI,     deliveryReason,     notificationBodyLength,     notificationTitleLength,     notificationSubtitleLength,     summaryLength,     isDeliveredInPrioritySection,     isSummarized,     isPartOfStack,     isStackSummary,     numberOfNotificationsInStack,     notificationPriorityStatus,     notificationSummaryStatus,     isPriorityNotificationEnabled,     isNotificationSummaryEnabled FROM notifications WHERE     bundleId = :bundleId AND     notificationId = :notificationId AND     recordTimestamp = :recordTimestamp ORDER BY recordTimestamp DESC LIMIT 1 "
- "SELECT     uuid,     receiveTimestamp,     deliveryMethod,     urgency,     bundleId,     isMessage,     latestOutcome,     latestOutcomeTimestamp,     numExpansions,     receivedMode,     firstUI,     mostRecentUI,     deliveryReason,     notificationBodyLength,     notificationTitleLength,     notificationSubtitleLength,     summaryLength,     isDeliveredInPrioritySection,     isSummarized,     isPartOfStack,     isStackSummary,     numberOfNotificationsInStack,     notificationPriorityStatus,     notificationSummaryStatus,     isPriorityNotificationEnabled,     isNotificationSummaryEnabled FROM notifications WHERE     receiveTimestamp > :startTimestamp AND     receiveTimestamp < :endTimestamp "
- "SLS: ATXSpotlightLayoutSelector suggestion =[%@] contextCode found: %ld for reasons %llu"
- "SLS: Checking suggestion '%@' for media intent. Intent of class%@"
- "SLS: _collectionsWithSuggestions removing dupe `%@` from contextCode %ld"
- "SLS: _collectionsWithSuggestions suggestionDict[%@] =[%@]"
- "SLS: context=[%@] criteria[%@]"
- "Slot  Resolution Score Logging - Stage One Succeeded"
- "Swift/Array.swift"
- "Swift/ContiguousArrayBuffer.swift"
- "Swift/IntegerTypes.swift"
- "Swift/StringTesting.swift"
- "Swift/StringUTF8View.swift"
- "Swift/UnsafeBufferPointer.swift"
- "Swift/UnsafePointer.swift"
- "Swift/UnsafeRawPointer.swift"
- "TimeOfDay"
- "TimeOfDay_sampled"
- "Unexpectedly found nil while unwrapping an Optional value"
- "UnsafeMutableBufferPointer with negative count"
- "UnsafeMutablePointer.initialize overlapping range"
- "UnsafeMutablePointer.initialize with negative count"
- "UnsafeMutablePointer.moveInitialize with negative count"
- "UnsafeMutableRawPointer.initializeMemory overlapping range"
- "[Index] CSSearchableItem from suggestion %@ --> %@"
- "[Index] No search item from suggestion %@"
- "blendedGlobalAndLocalScoresForGlobalScores:LOITypeLaunches:lastAppLaunches:timeOfDayLaunches:dayOfWeekLaunches:forApps:"
- "double ATXSampleFromGammaDistribution(double, double)"
- "getBlendedLocalAndGlobalScoresWithLocalCounts:andGlobalScores:withSamplingEnabled:"
- "getGammaDistributionShapeParameterForComputingGlobalAppScoresWithAlpha:andNormalizationConstant:"
- "globalPopularitiesAtTimeOfDay:atDayOfWeek:atLocation:withLastAppLaunched:"
- "globalPopularitiesForBundleIds:atTimeOfDayIndex:atDayOfWeekIndex:atLocationIndex:withLastAppLaunched:"
- "globalPopularityForBundleIds:atDate:atLocation:withLastAppLaunched:"
- "globalPopularityForBundleIdsGivenTimeDayLocationAndLastApp:context:"
- "globalPopularityPredictor"
- "invalid Collection: less than 'count' elements in collection"
- "kBlendedScoreNormalizationConstant"
- "kGlobalScoreMultiplier"
- "output"
- "sampleProbabilitiesFromDirichletWithNormalizedParameters:andNormalizationConstant:"
- "scale > 0"
- "shape > 0"

```
