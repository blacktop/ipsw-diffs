## IntelligenceFlowContextRuntime

> `/System/Library/PrivateFrameworks/IntelligenceFlowContextRuntime.framework/IntelligenceFlowContextRuntime`

```diff

-137.12.0.0.0
-  __TEXT.__text: 0x6fe00
-  __TEXT.__auth_stubs: 0x27d0
-  __TEXT.__objc_methlist: 0x14c
-  __TEXT.__swift5_typeref: 0x1687
-  __TEXT.__swift5_fieldmd: 0x814
-  __TEXT.__const: 0x1780
-  __TEXT.__constg_swiftt: 0xd7c
-  __TEXT.__swift5_builtin: 0x64
-  __TEXT.__swift5_reflstr: 0x6b3
-  __TEXT.__swift5_assocty: 0xb8
+197.0.6.0.0
+  __TEXT.__text: 0x6aaac
+  __TEXT.__auth_stubs: 0x2a40
+  __TEXT.__objc_methlist: 0x4b0
+  __TEXT.__const: 0x1b50
+  __TEXT.__cstring: 0x17e1
+  __TEXT.__swift5_typeref: 0x1805
+  __TEXT.__swift5_fieldmd: 0x964
+  __TEXT.__constg_swiftt: 0xea4
+  __TEXT.__swift5_builtin: 0xb4
+  __TEXT.__swift5_reflstr: 0x777
+  __TEXT.__swift5_assocty: 0x140
   __TEXT.__swift5_protos: 0x34
-  __TEXT.__swift5_proto: 0x130
-  __TEXT.__swift5_types: 0xb4
-  __TEXT.__cstring: 0x1af1
-  __TEXT.__oslogstring: 0xe08
-  __TEXT.__swift5_capture: 0x450
+  __TEXT.__swift5_proto: 0x144
+  __TEXT.__swift5_types: 0xd8
+  __TEXT.__oslogstring: 0xdf8
+  __TEXT.__swift_as_entry: 0x120
+  __TEXT.__swift_as_ret: 0x114
+  __TEXT.__swift5_capture: 0x41c
   __TEXT.__swift5_mpenum: 0x18
-  __TEXT.__unwind_info: 0x1660
-  __TEXT.__eh_frame: 0x38e8
+  __TEXT.__unwind_info: 0x1538
+  __TEXT.__eh_frame: 0x3638
   __TEXT.__objc_classname: 0x75
-  __TEXT.__objc_methname: 0x10c3
+  __TEXT.__objc_methname: 0x10d7
   __TEXT.__objc_methtype: 0x470
   __TEXT.__objc_stubs: 0x1e0
-  __DATA_CONST.__got: 0x8a0
-  __DATA_CONST.__const: 0x138
-  __DATA_CONST.__objc_classlist: 0xc8
+  __DATA_CONST.__got: 0x878
+  __DATA_CONST.__const: 0x190
+  __DATA_CONST.__objc_classlist: 0xc0
   __DATA_CONST.__objc_protolist: 0x70
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x4e0
+  __DATA_CONST.__objc_selrefs: 0x648
   __DATA_CONST.__objc_protorefs: 0x40
-  __AUTH_CONST.__auth_got: 0x13f0
-  __AUTH_CONST.__auth_ptr: 0x750
-  __AUTH_CONST.__const: 0x17c8
+  __AUTH_CONST.__auth_got: 0x1528
+  __AUTH_CONST.__auth_ptr: 0x910
+  __AUTH_CONST.__const: 0x1718
   __AUTH_CONST.__cfstring: 0xc0
-  __AUTH_CONST.__objc_const: 0x1af0
-  __AUTH.__objc_data: 0x330
-  __AUTH.__data: 0x720
-  __DATA.__data: 0xd40
-  __DATA.__bss: 0xe10
+  __AUTH_CONST.__objc_const: 0x15c8
+  __AUTH.__objc_data: 0x1c8
+  __AUTH.__data: 0x628
+  __DATA.__data: 0xbe8
+  __DATA.__bss: 0xe20
   __DATA.__common: 0x30
-  __DATA_DIRTY.__objc_data: 0x410
-  __DATA_DIRTY.__data: 0x1070
-  __DATA_DIRTY.__bss: 0x480
-  __DATA_DIRTY.__common: 0x80
+  __DATA_DIRTY.__objc_data: 0x3c0
+  __DATA_DIRTY.__data: 0x1530
+  __DATA_DIRTY.__bss: 0x680
+  __DATA_DIRTY.__common: 0x68
   - /System/Library/Frameworks/Accelerate.framework/Accelerate
   - /System/Library/Frameworks/AppIntents.framework/AppIntents
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /System/Library/PrivateFrameworks/IntelligencePlatformLibrary.framework/IntelligencePlatformLibrary
   - /System/Library/PrivateFrameworks/LinkMetadata.framework/LinkMetadata
   - /System/Library/PrivateFrameworks/LinkServices.framework/LinkServices
-  - /System/Library/PrivateFrameworks/MediaAnalysisServices.framework/MediaAnalysisServices
+  - /System/Library/PrivateFrameworks/MediaRemote.framework/MediaRemote
   - /System/Library/PrivateFrameworks/MorphunAssets.framework/MorphunAssets
   - /System/Library/PrivateFrameworks/ProactiveDaemonSupport.framework/ProactiveDaemonSupport
   - /System/Library/PrivateFrameworks/SiriEntityMatcher.framework/SiriEntityMatcher

   - /System/Library/PrivateFrameworks/UIIntelligenceSupport.framework/UIIntelligenceSupport
   - /System/Library/PrivateFrameworks/UIIntelligenceSupportAgent.framework/UIIntelligenceSupportAgent
   - /System/Library/PrivateFrameworks/UIKitCore.framework/UIKitCore
-  - /System/Library/PrivateFrameworks/VoiceShortcutClient.framework/VoiceShortcutClient
   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libobjc.A.dylib
   - /usr/lib/swift/libswiftAVFoundation.dylib
   - /usr/lib/swift/libswiftAccelerate.dylib
+  - /usr/lib/swift/libswiftCompression.dylib
   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreAudio.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib

   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDataDetection.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
-  - /usr/lib/swift/libswiftFileProvider.dylib
   - /usr/lib/swift/libswiftIntents.dylib
   - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftNaturalLanguage.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 1983
-  Symbols:   250
-  CStrings:  498
+  Functions: 1950
+  Symbols:   259
+  CStrings:  476
 
Symbols:
+ _OBJC_CLASS_$_NSPredicate
+ __swift_FORCE_LOAD_$_swiftCompression
+ _os_unfair_lock_lock
+ _os_unfair_lock_unlock
+ _swift_checkMetadataState
+ _swift_cvw_allocateGenericValueMetadataWithLayoutString
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_enumFn_getEnumTag
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
+ _swift_getErrorValue
+ _swift_getGenericMetadata
+ _swift_runtimeSupportsNoncopyableTypes
- _OBJC_CLASS_$_BMBiomeScheduler
- _OBJC_CLASS_$_MADService
- _OBJC_CLASS_$_MADTextEmbeddingRequest
- _OBJC_CLASS_$_MADTextEmbeddingResult
- _OBJC_CLASS_$_MADTextRequest
- _OBJC_CLASS_$_WFOnScreenContentNode
- __swift_FORCE_LOAD_$_swiftFileProvider
- _objc_release_x10
- _objc_retain_x10
- _objc_retain_x9
- _swift_initStructMetadata
CStrings:
+ "%s cache MISS for %s"
+ "%s did not set for %s as time difference from last set was less than %fms"
+ "%s is being deinitialized"
+ "Collection failed or was incomplete for the following ContextTypes: %s"
+ "Couldn't fetch embedding due to error: %@"
+ "Detects and identifies the point of interest that the user is currently in."
+ "Embedding cache is missing requested string %s"
+ "Embedding client is nil"
+ "IFCR.ContextRetriever.retrieveContextValuesWithFailures(contextTypes:failedTypes:)"
+ "IFCR.IntelligenceCommandEmbeddingClient.embedIfReady()"
+ "Identifies personalized locations based on the user's routine. It differentiates between frequently visited places like home, work, gym, school, or other undefined locations."
+ "Loading local client"
+ "Loading xpc client"
+ "NLContextualEmbedding assets unavailable"
+ "NLContextualEmbedding finishedFirstEmbedding"
+ "NLContextualEmbedding hasn't finishedFirstEmbedding"
+ "NLContextualEmbedding nil"
+ "Recognizes and captures app entities that appear on the user's screen."
+ "SELF MATCHES[c]%@"
+ "Unable to retrieve context for %s due to %s"
+ "^[A-Z0-9_!#$%&'*+/=?`{|}~^.-]+@[A-Z0-9.-]+$"
+ "^\\+(?:[0-9] ?){6,14}[0-9]$"
+ "_TtC30IntelligenceFlowContextRuntime21ContextReferenceCache"
+ "_TtC30IntelligenceFlowContextRuntime25NLEmbeddingModelXPCClient"
+ "_TtC30IntelligenceFlowContextRuntime27NLEmbeddingModelLocalClient"
+ "_TtCC30IntelligenceFlowContextRuntime21ContextReferenceCache14CacheCallbacks"
+ "__kIMChatRegistryContinuityURLKey"
+ "activityType"
+ "cacheTimeStamp"
+ "category"
+ "com.apple.Contacts.ViewingCard"
+ "com.apple.Messages"
+ "contact-identifier"
+ "context cache cannot be retrieved: %@"
+ "contextCache"
+ "could not get POI category for %s"
+ "could not get preferred name for %s"
+ "embeddingLock"
+ "evaluateWithObject:"
+ "finished fetching source data for %{public}s for %{public}s"
+ "finishedFirstEmbedding"
+ "generated context returned %{public}ld values for %{public}s for %{public}s"
+ "instance"
+ "processIdentifier"
+ "refreshing context cache for %{public}s"
+ "requestId"
+ "requestSentenceEmbeddingVectorForString:language:completionHandler:"
+ "retrieveContextValuesWithFailures(contextTypes:timeout:)"
+ "retrieveContextValuesWithFailures(contextTypes:timeout:with:)"
+ "retrieveContextValuesWithFailuresWithContextTypes:timeout:with:"
+ "retrieved %{public}ld values of context for %{public}s"
+ "startedFirstEmbedding"
+ "starting fetching source data for %{public}s for %{public}s"
+ "unable to get bundleId for %s"
+ "userType"
+ "v24@?0@\"NSArray\"8@\"NSError\"16"
- "Can't construct Array with count < 0"
- "DSLPublisher"
- "Division by zero"
- "Division results in an overflow"
- "Embedding cache is missing expected string"
- "Fatal error"
- "IFCR.ContextRetriever.retrieveContextValues(query:)"
- "IFCR.ContextRetriever.retrieveRequiredContextValues"
- "IFCR.ContextScorer.scoreRelevanceOfContextValues"
- "IFCR.DescriptionRelevanceScorer.scoreRelevanceOfContextValues"
- "IFCR.IntelligenceCommandEmbeddingClient.embed()"
- "Insufficient space allocated to copy string contents"
- "SiriRequestContext"
- "SubscriptionQueue"
- "Swift/Array.swift"
- "Swift/ContiguousArrayBuffer.swift"
- "Swift/IntegerTypes.swift"
- "Swift/StringTesting.swift"
- "Swift/StringUTF8View.swift"
- "Swift/UnsafeBufferPointer.swift"
- "Swift/UnsafePointer.swift"
- "Swift/UnsafeRawPointer.swift"
- "Unexpectedly found nil while unwrapping an Optional value"
- "UnsafeMutableBufferPointer with negative count"
- "UnsafeMutablePointer.initialize overlapping range"
- "UnsafeMutablePointer.initialize with negative count"
- "UnsafeMutablePointer.moveInitialize with negative count"
- "UnsafeMutableRawPointer.initializeMemory overlapping range"
- "UnsafeMutableRawPointer.initializeMemory with negative count"
- "_TtC30IntelligenceFlowContextRuntime13ContextScorer"
- "_TtC30IntelligenceFlowContextRuntime17AppInFocusMonitor"
- "_TtC30IntelligenceFlowContextRuntime22NLEmbeddingModelClient"
- "_TtC30IntelligenceFlowContextRuntime26DescriptionRelevanceScorer"
- "_TtC30IntelligenceFlowContextRuntime31ShortcutsOnScreenPersonProvider"
- "arrays must be of the same length to calculate cosine similarity"
- "clientApplicationId"
- "clientApplicationIdentifier"
- "com.apple.intelligenceflow.intelligencecontextd."
- "contactIdentifier"
- "could not encode UIContextCacheRepresentation in %s"
- "couldn't convert ordinal keyword to ordinal number for %s"
- "couldn't fetch embedding due to error: %@"
- "couldn't fetch embedding due to error: madService is nil"
- "couldn't get query embedding"
- "couldn't initialize UniversalEmbeddingClient"
- "descriptionScorer"
- "descriptionScorerTimeoutDurationInSecs"
- "dumpUIContextFromCache(with:)"
- "embedding string using MADTextEmbeddingRequest version %lu"
- "embeddingData"
- "embeddingResults"
- "embeddingsCache"
- "fetching source data completed for %s"
- "generated context returned %{public}ld values for %s"
- "incorrect reference point or nil screen dimensions or nil bounding box coordinates"
- "initWithIdentifier:targetQueue:waking:"
- "invalid Collection: less than 'count' elements in collection"
- "no requests to perform"
- "perform(_:text:identifier:)"
- "performRequests:text:identifier:completionHandler:"
- "received notification for %s.%s"
- "retrieveContextValues(query:)"
- "retrieveRequiredContextValues()"
- "retrieved %{public}ld values of context"
- "service"
- "setting up monitor for %s.%s"
- "skipping embedding of context values because macro is not enabled"
- "skipping scoring of retrieved contexts because macro is not enabled"
- "sourceProviderMap"
- "spatialOrdinalScorer"
- "subscribeOn:"
- "timed out waiting for %ld embeddings"
- "timed out while retrieving context for %s"
- "uiContext"
- "universalEmbeddingClient"
- "updating context cache for %s.%s"
- "v20@?0i8@\"NSError\"12"
- "version"

```
