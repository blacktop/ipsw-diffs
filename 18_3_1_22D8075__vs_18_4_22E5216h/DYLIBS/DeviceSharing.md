## DeviceSharing

> `/System/Library/PrivateFrameworks/DeviceSharing.framework/DeviceSharing`

```diff

-27.60.30.0.1
-  __TEXT.__text: 0x58ecc
-  __TEXT.__auth_stubs: 0x1b10
-  __TEXT.__objc_methlist: 0x170
-  __TEXT.__const: 0x1508
-  __TEXT.__cstring: 0x1f38
-  __TEXT.__swift5_typeref: 0xe71
-  __TEXT.__swift5_fieldmd: 0x720
-  __TEXT.__constg_swiftt: 0x1118
+27.100.10.0.2
+  __TEXT.__text: 0x6040c
+  __TEXT.__auth_stubs: 0x1b40
+  __TEXT.__objc_methlist: 0x2f8
+  __TEXT.__const: 0x1728
+  __TEXT.__cstring: 0x19eb
+  __TEXT.__swift5_typeref: 0xf4b
+  __TEXT.__swift5_fieldmd: 0x710
+  __TEXT.__constg_swiftt: 0x1124
   __TEXT.__swift5_builtin: 0x3c
-  __TEXT.__swift5_reflstr: 0x602
-  __TEXT.__swift5_assocty: 0xf0
+  __TEXT.__swift5_reflstr: 0x622
+  __TEXT.__swift5_assocty: 0x108
   __TEXT.__swift5_protos: 0x40
-  __TEXT.__swift5_proto: 0xf0
-  __TEXT.__swift5_types: 0x94
-  __TEXT.__oslogstring: 0x14b9
-  __TEXT.__swift5_capture: 0x520
+  __TEXT.__swift5_proto: 0x104
+  __TEXT.__swift5_types: 0x90
+  __TEXT.__oslogstring: 0x1f79
+  __TEXT.__swift_as_entry: 0x324
+  __TEXT.__swift_as_ret: 0x2dc
+  __TEXT.__swift5_capture: 0x590
   __TEXT.__swift5_mpenum: 0x10
-  __TEXT.__unwind_info: 0x1788
-  __TEXT.__eh_frame: 0x3e38
+  __TEXT.__unwind_info: 0x1880
+  __TEXT.__eh_frame: 0x49f8
   __TEXT.__objc_classname: 0x93
-  __TEXT.__objc_methname: 0x81c
+  __TEXT.__objc_methname: 0x76c
   __TEXT.__objc_methtype: 0x25d
   __TEXT.__objc_stubs: 0xc0
-  __DATA_CONST.__got: 0x560
-  __DATA_CONST.__const: 0x230
+  __DATA_CONST.__got: 0x590
+  __DATA_CONST.__const: 0x1a8
   __DATA_CONST.__objc_classlist: 0x70
-  __DATA_CONST.__objc_catlist: 0x8
   __DATA_CONST.__objc_protolist: 0x58
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x200
+  __DATA_CONST.__objc_selrefs: 0x258
   __DATA_CONST.__objc_protorefs: 0x30
-  __AUTH_CONST.__auth_got: 0xd90
-  __AUTH_CONST.__auth_ptr: 0x530
-  __AUTH_CONST.__const: 0x16c8
+  __AUTH_CONST.__auth_got: 0xda8
+  __AUTH_CONST.__auth_ptr: 0x540
+  __AUTH_CONST.__const: 0x17d8
   __AUTH_CONST.__cfstring: 0x80
-  __AUTH_CONST.__objc_const: 0x1310
-  __AUTH.__objc_data: 0x448
-  __AUTH.__data: 0xa38
-  __DATA.__data: 0x1790
-  __DATA.__bss: 0x1580
-  __DATA.__common: 0x108
+  __AUTH_CONST.__objc_const: 0xfa8
+  __AUTH.__objc_data: 0x410
+  __AUTH.__data: 0xa20
+  __DATA.__data: 0x1800
+  __DATA.__bss: 0x1800
+  __DATA.__common: 0xe8
   - /System/Library/Frameworks/AVFoundation.framework/AVFoundation
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/Foundation.framework/Foundation

   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDataDetection.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
-  - /usr/lib/swift/libswiftFileProvider.dylib
   - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftOSLog.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 1519
-  Symbols:   269
-  CStrings:  436
+  Functions: 1511
+  Symbols:   291
+  CStrings:  413
 
Symbols:
+ _nw_parameters_set_include_ble
+ _swift_cvw_allocateGenericValueMetadataWithLayoutString
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_enumFn_getEnumTag
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_initEnumMetadataSinglePayloadWithLayoutString
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
+ _swift_cvw_instantiateLayoutString
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
+ _swift_cvw_singlePayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_singlePayloadEnumGeneric_getEnumTag
+ _swift_getExistentialTypeMetadata
- _OBJC_CLASS_$_NSUserDefaults
- __swift_FORCE_LOAD_$_swiftFileProvider
- _objc_retainAutoreleaseReturnValue
- _objc_retain_x1
- _objc_retain_x27
- _objc_retain_x28
- _objc_retain_x9
- _swift_allocateGenericValueMetadata
- _swift_initEnumMetadataMultiPayload
- _swift_initEnumMetadataSinglePayload
- _swift_initStructMetadata
CStrings:
+ " %{public}s !!! PEER LISTENER FAILED !!!"
+ "%{public}s %{public}s"
+ "%{public}s %{public}s: %{public}s"
+ "%{public}s Accepting new connection: %{public}@"
+ "%{public}s attempting to reconnect; retry count %{public}ld"
+ "%{public}s consumed XPC event %{public}s"
+ "%{public}s consumed XPC event %{public}s with reply %{public}s"
+ "%{public}s error creating CFUserNotification: %{public}d"
+ "%{public}s failed to activate with error: %{public}@; restarting"
+ "%{public}s failed to consume XPC event %{public}s"
+ "%{public}s failed to reconnect with error %{public}@"
+ "%{public}s failed to write output: %{public}@"
+ "%{public}s found unexpected NWListener.State type"
+ "%{public}s invalid message transport item %{public}s"
+ "%{public}s listener failed with %{public}@; restarting"
+ "%{public}s listener failed with %{public}@; stopping"
+ "%{public}s listener state %{public}s"
+ "%{public}s listener state %{public}s; invalidating"
+ "%{public}s listener state ready on port %{public}s"
+ "%{public}s max reconnect retry count; not reconnecting"
+ "%{public}s not initiator; not reconnecting"
+ "%{public}s received Rapport XPC event %{public}s"
+ "%{public}s will attempt to reconnect; retry delay %{public}s"
+ "%{public}s: %{public}s"
+ "%{public}s: Performed authentication manager request with ID %{public}s"
+ "%{public}s: Performing authentication manager request"
+ "%{public}s: Resuming authentication manager request for %{public}s"
+ "%{public}s: Resuming authentication manager request for %{public}s with error %{public}@"
+ "%{public}s: Unable to resume request; no continuation found for %{public}s"
+ "%{public}s: canAuthenticate(withDeviceID: %{public}s)"
+ "%{public}s: error while unpairing deviceID %{public}s:\u00a0%{public}@"
+ "%{public}s: pair(withDeviceID: %{public}s)"
+ "%{public}s: unlock(withDeviceID: %{public}s)"
+ "%{public}s: unpair(withDeviceID: %{public}s)"
+ "DeviceSharing/PeerConnection.swift"
+ "Failed with error: "
+ "Rejecting connection %{public}@ due to missing entitlement: %{public}s"
+ "[%{public}s] %{public}s"
+ "[%{public}s] %{public}s Prox card request was already fulfilled"
+ "[%{public}s] %{public}s Sending guest user access response: %{public}s"
+ "[%{public}s] %{public}s is not available"
+ "[%{public}s] %{public}s should not be sent over peer connection"
+ "[%{public}s] %{public}s — %{public}@"
+ "[%{public}s] %{public}s — %{public}s"
+ "[%{public}s] %{public}s —\u00a0%{public}@"
+ "[%{public}s] %{public}s —\u00a0%{public}s"
+ "[%{public}s] Activate"
+ "[%{public}s] Activate peer connection: %{public}s"
+ "[%{public}s] Add observer %{public}s"
+ "[%{public}s] Authenticating"
+ "[%{public}s] Authentication already in progress; ignoring request"
+ "[%{public}s] Authentication successful!"
+ "[%{public}s] Browser failed with %{public}@; restarting"
+ "[%{public}s] Browser failed with %{public}@; stopping"
+ "[%{public}s] Browser state %{public}s; invalidating"
+ "[%{public}s] Browser state changed"
+ "[%{public}s] Browser state unchanged"
+ "[%{public}s] Cancelling connection and waiting until done"
+ "[%{public}s] Cleaning up listener"
+ "[%{public}s] Clearing previous browsing state and results"
+ "[%{public}s] Connecting to %{public}s"
+ "[%{public}s] Connection state did update: %{public}s"
+ "[%{public}s] Current peer browser state is connecting"
+ "[%{public}s] Delivering current state to observer: %{public}s"
+ "[%{public}s] Device not available"
+ "[%{public}s] Device pairing was previously completed for device: %{public}@"
+ "[%{public}s] Did complete authentication for session %{public}s)"
+ "[%{public}s] Did disable authentication for session %{public}s)"
+ "[%{public}s] Did enable authentication for session %{public}s)"
+ "[%{public}s] Did fail authentication for session %{public}s) with error %{public}@"
+ "[%{public}s] Did fail to disable device for session %{public}s) with error %{public}@"
+ "[%{public}s] Did fail to enable device for session %{public}s) with error %{public}@"
+ "[%{public}s] Did start authentication for session %{public}s)"
+ "[%{public}s] Dismissing ProxCard set up flow"
+ "[%{public}s] Encountered error while performing remote unlock %{public}@"
+ "[%{public}s] Error sending heartbeat: %{public}@"
+ "[%{public}s] Error while handling browser state update: %{public}@"
+ "[%{public}s] Failed to parse message: %{public}s; error: %{public}@"
+ "[%{public}s] Force inactive"
+ "[%{public}s] Handle browser state update: %{public}s"
+ "[%{public}s] Handle next message (context: %{public}s, isComplete: %{bool,public}d), error: %{public}s)"
+ "[%{public}s] Heartbeat cancelled"
+ "[%{public}s] Initialized"
+ "[%{public}s] Initializing browser"
+ "[%{public}s] Initializing listener"
+ "[%{public}s] Initiating peer connection with role %{public}s"
+ "[%{public}s] Invalidate"
+ "[%{public}s] Invalidating peer connection"
+ "[%{public}s] Nearby device provider is not started yet"
+ "[%{public}s] Nearby device provider state ready"
+ "[%{public}s] Nearby device provider state update %{public}s"
+ "[%{public}s] Notify %{public}ld observers"
+ "[%{public}s] Notifying observers"
+ "[%{public}s] Payload size: %{public}s"
+ "[%{public}s] Peer Browser expected result in state is %{public}s"
+ "[%{public}s] Peer Connection established. Start heartbeat."
+ "[%{public}s] Peer Connection failed. Stopping Live activity and invalidating the prox card."
+ "[%{public}s] Peer Connection state is %{public}s"
+ "[%{public}s] Peer Listener expected result in state %{public}s"
+ "[%{public}s] Peer connection %{public}s did cancel"
+ "[%{public}s] Peer connection %{public}s did establish"
+ "[%{public}s] Peer connection %{public}s did fail with error: %{public}@"
+ "[%{public}s] Peer connection %{public}s is waiting with error: %{public}@"
+ "[%{public}s] Peer connection %{public}s was active; resetting"
+ "[%{public}s] Peer connection already invalided"
+ "[%{public}s] Peer connection did cancel"
+ "[%{public}s] Peer connection did establish"
+ "[%{public}s] Peer connection did fail with error: %{public}@"
+ "[%{public}s] Peer connection is waiting with error: %{public}@"
+ "[%{public}s] Peer connection service provider not set"
+ "[%{public}s] Peer connection was already active"
+ "[%{public}s] Presenting ProxCard set up flow"
+ "[%{public}s] Presenting remote unlock error via ProxCard set up flow"
+ "[%{public}s] Ready continuation already resumed"
+ "[%{public}s] Receive next message"
+ "[%{public}s] Remove observer %{public}s"
+ "[%{public}s] Resuming ready continuation with error: %{public}@"
+ "[%{public}s] Resuming ready continuation with success"
+ "[%{public}s] Send item %{public}u"
+ "[%{public}s] Send item %{public}u with payload %{public}s"
+ "[%{public}s] Start browsing for nearby devices"
+ "[%{public}s] Starting connection and waiting until ready"
+ "[%{public}s] Stop browsing for nearby devices"
+ "[%{public}s] Transport item %{public}u"
+ "[%{public}s] Transport item %{public}u with data %{public}s"
+ "[%{public}s] Triggering remote unlock"
+ "[%{public}s] Trusted device is not paired"
+ "[%{public}s] Unable to resolve dependency: %{public}s"
+ "[%{public}s] Unable to start Live Activity - %{public}@"
+ "[%{public}s] Waiting to send heartbeat..."
+ "_deviceIdentifier"
+ "browser"
+ "cancelContinuation"
+ "com.apple.devicesharingd.PeerConnection.queue"
+ "com.apple.devicesharingd.PeerConnection.transaction"
+ "listener"
- " %s !!! PEER LISTENER FAILED !!!"
- "%s"
- "%s %s"
- "%s %s: %s"
- "%s %s: observerCount:%ld"
- "%s Accepting new connection: %@"
- "%s Invalidating peer connection."
- "%s [%s] connection established"
- "%s [%s] connection failed with %@"
- "%s [%s] connection state %s"
- "%s [%s] connection state cancelled"
- "%s [%s] connection waiting with %@"
- "%s [%s] failed to parse message: %s; error: %@"
- "%s [%s] resuming activate(), connection is ready"
- "%s [%s] unexpected connection state %s"
- "%s attempting to reconnect; retry count %ld"
- "%s consumed XPC event %s"
- "%s consumed XPC event %s with reply %s"
- "%s error creating CFUserNotification: %d"
- "%s failed to activate with error: %@; restarting"
- "%s failed to consume XPC event %s"
- "%s failed to reconnect with error %@"
- "%s failed to write output: %@"
- "%s found unexpected NWListener.State type"
- "%s invalid message transport item %s"
- "%s listener failed with %@; restarting"
- "%s listener failed with %@; stopping"
- "%s listener state %s"
- "%s listener state %s; invalidating"
- "%s listener state ready on port %s"
- "%s max reconnect retry count; not reconnecting"
- "%s not initiator; not reconnecting"
- "%s received Rapport XPC event %s"
- "%s will attempt to reconnect; retry delay %s"
- "%s: %s"
- "%s: Performed authentication manager request with ID %s"
- "%s: Performing authentication manager request"
- "%s: Resuming authentication manager request for %s"
- "%s: Resuming authentication manager request for %s with error %@"
- "%s: Unable to resume request; no continuation found for %s"
- "%s: canAuthenticate(withDeviceID: %s)"
- "%s: error while unpairing deviceID %s:\u00a0%@"
- "%s: pair(withDeviceID: %s)"
- "%s: unlock(withDeviceID: %s)"
- "%s: unpair(withDeviceID: %s)"
- "%{public}s [%s]"
- "%{public}s [%s] Payload size: %s"
- "/Library/Caches/com.apple.xbs/Sources/DeviceSharing/DeviceSharing/Daemon/Peer/PeerConnection.swift"
- "GuestUserHandover"
- "GuestUserSelectedApps"
- "GuestUserWithNearbyDevice"
- "Insufficient space allocated to copy string contents"
- "LogPeerConnectionPayloadSize"
- "Negative value is not representable"
- "Not enough bits to represent the passed value"
- "RecentlySharedApplications"
- "Rejecting connection %@ due to missing entitlement: %{public}s"
- "ShouldBypassPeerBrowserDeviceTypesRestriction"
- "ShouldBypassPeerBrowserScopeRestriction"
- "Swift/ContiguousArrayBuffer.swift"
- "Swift/Integers.swift"
- "Swift/StringTesting.swift"
- "Swift/StringUTF8View.swift"
- "Swift/UnsafeBufferPointer.swift"
- "Swift/UnsafePointer.swift"
- "Swift/UnsafeRawPointer.swift"
- "T@\"NSUserDefaults\",N,R"
- "Unexpectedly found nil while unwrapping an Optional value"
- "UnsafeMutableBufferPointer with negative count"
- "UnsafeMutablePointer.initialize overlapping range"
- "UnsafeMutablePointer.initialize with negative count"
- "UnsafeMutablePointer.moveInitialize with negative count"
- "UnsafeMutableRawPointer.initializeMemory overlapping range"
- "[%s] %s"
- "[%s] %s Prox card request was already fulfilled"
- "[%s] %s Sending guest user access response: %s"
- "[%s] %s is not available"
- "[%s] %s should not be sent over peer connection"
- "[%s] %s — %@"
- "[%s] %s — %s"
- "[%s] %s —\u00a0%@"
- "[%s] %s —\u00a0%s"
- "[%s] Activate"
- "[%s] Add observer %s"
- "[%s] Authenticating"
- "[%s] Authentication already in progress; ignoring request"
- "[%s] Authentication successful!"
- "[%s] Browser failed with %@; restarting"
- "[%s] Browser failed with %@; stopping"
- "[%s] Browser state %s; invalidating"
- "[%s] Browser state changed"
- "[%s] Browser state ready"
- "[%s] Browser state unchanged"
- "[%s] Cleaning up listener"
- "[%s] Clearing previous browsing state and results"
- "[%s] Connecting to %s"
- "[%s] Deliverying current state to observer"
- "[%s] Device not available"
- "[%s] Did complete authentication for session %s)"
- "[%s] Did disable authentication for session %s)"
- "[%s] Did enable authentication for session %s)"
- "[%s] Did fail authentication for session %s) with error %@"
- "[%s] Did fail to disable device for session %s) with error %@"
- "[%s] Did fail to enable device for session %s) with error %@"
- "[%s] Did start authentication for session %s)"
- "[%s] Did update nearby trusted device: %s"
- "[%s] Dismissing ProxCard set up flow"
- "[%s] Encountered error while performing remote unlock %@"
- "[%s] Error sending heartbeat: %@"
- "[%s] Error while handling browser results: %@"
- "[%s] Error while handling browser state update: %@"
- "[%s] Handle browser results: count %ld"
- "[%s] Handle browser state update: %s"
- "[%s] Heartbeat cancelled"
- "[%s] Initialized"
- "[%s] Initializing browser"
- "[%s] Initializing listener"
- "[%s] Nearby device provider is not started yet"
- "[%s] Nearby device provider state update %s"
- "[%s] Notifying observers"
- "[%s] Peer Browser expected result in state is %s"
- "[%s] Peer Connection failed. Stopping Live activity and invalidating the prox card."
- "[%s] Peer Connection state is %s"
- "[%s] Peer Listener expected result in state %s"
- "[%s] Peer connection service provider not set"
- "[%s] Presenting ProxCard set up flow"
- "[%s] Presenting remote unlock error via ProxCard set up flow"
- "[%s] Remove observer %s"
- "[%s] Start browsing for nearby devices"
- "[%s] Stop browsing for nearby devices"
- "[%s] Triggering remote unlock"
- "[%s] Trusted device changed"
- "[%s] Trusted device is not paired"
- "[%s] Trusted device is paired: %@"
- "[%s] Trusted device unchanged"
- "[%s] Unable to resolve dependency: %s"
- "[%s] Unable to start Live Activity - %@"
- "[%s] Waiting to send heartbeat..."
- "[UserDefaults: com.apple.devicesharingd]"
- "boolForKey:"
- "bundleIdentifier"
- "com.apple.DeviceSharing.PeerConnection.queue"
- "com.apple.DeviceSharing.PeerConnection.transaction"
- "deviceSharingd"
- "dictionaryRepresentation"
- "ds_log"
- "hasSeenGuestUserHandoverPromotion"
- "identifier"
- "initWithSuiteName:"
- "invalid Collection: less than 'count' elements in collection"
- "isGuestUserHandoverEnabled"
- "isSelectedAppsEnabled"
- "logPayloadSizeIfEnabled(_:)"
- "mainBundle"
- "peerConnectionDidEstablish()"
- "peerConnectionIsWaiting(error:)"
- "send(_:payload:)"
- "standardUserDefaults"

```
