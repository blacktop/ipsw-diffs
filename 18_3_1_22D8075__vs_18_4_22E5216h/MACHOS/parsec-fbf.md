## parsec-fbf

> `/System/Library/PrivateFrameworks/CoreParsec.framework/parsec-fbf`

```diff

-3403.3.3.0.0
-  __TEXT.__text: 0x14a64c
-  __TEXT.__auth_stubs: 0x3720
+3404.75.2.0.0
+  __TEXT.__text: 0x13e71c
+  __TEXT.__auth_stubs: 0x3660
   __TEXT.__objc_stubs: 0x40
-  __TEXT.__objc_methlist: 0x378
-  __TEXT.__const: 0xd77c
+  __TEXT.__objc_methlist: 0x5d0
+  __TEXT.__const: 0xe9dc
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__cstring: 0x9e91
-  __TEXT.__constg_swiftt: 0x7ba8
-  __TEXT.__swift5_typeref: 0x4a10
+  __TEXT.__cstring: 0x9701
+  __TEXT.__constg_swiftt: 0x7af8
+  __TEXT.__swift5_typeref: 0x4970
   __TEXT.__swift5_builtin: 0x334
-  __TEXT.__swift5_reflstr: 0x4c95
-  __TEXT.__swift5_fieldmd: 0x53d4
+  __TEXT.__swift5_reflstr: 0x4f55
+  __TEXT.__swift5_fieldmd: 0x5544
   __TEXT.__swift5_types: 0x548
-  __TEXT.__swift5_protos: 0x1b0
-  __TEXT.__swift5_proto: 0xb2c
+  __TEXT.__swift5_protos: 0x1ac
+  __TEXT.__swift5_proto: 0xb08
   __TEXT.__swift5_mpenum: 0xa0
-  __TEXT.__oslogstring: 0x3842
-  __TEXT.__swift5_assocty: 0x808
-  __TEXT.__objc_methname: 0x2b6e
-  __TEXT.__swift5_capture: 0xfec
+  __TEXT.__oslogstring: 0x3de2
+  __TEXT.__swift5_assocty: 0x7d8
+  __TEXT.__objc_methname: 0x2b1b
+  __TEXT.__swift5_capture: 0xef8
   __TEXT.__objc_classname: 0xfe
-  __TEXT.__objc_methtype: 0x24c
+  __TEXT.__objc_methtype: 0x254
   __TEXT.__swift5_types2: 0x4
+  __TEXT.__swift_as_entry: 0x2c
+  __TEXT.__swift_as_ret: 0x28
   __TEXT.__gcc_except_tab: 0xc4
-  __TEXT.__unwind_info: 0x61a8
-  __TEXT.__eh_frame: 0xa788
-  __DATA_CONST.__auth_got: 0x1ba0
-  __DATA_CONST.__got: 0xc00
-  __DATA_CONST.__auth_ptr: 0x1648
-  __DATA_CONST.__const: 0xcce0
+  __TEXT.__unwind_info: 0x5b40
+  __TEXT.__eh_frame: 0xa2a4
+  __DATA_CONST.__auth_got: 0x1b40
+  __DATA_CONST.__got: 0xbb0
+  __DATA_CONST.__auth_ptr: 0x1628
+  __DATA_CONST.__const: 0xce08
   __DATA_CONST.__cfstring: 0x19e0
-  __DATA_CONST.__objc_classlist: 0x370
+  __DATA_CONST.__objc_classlist: 0x378
   __DATA_CONST.__objc_protolist: 0xe0
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0x70
-  __DATA.__objc_const: 0x7b98
-  __DATA.__objc_selrefs: 0x1170
-  __DATA.__objc_data: 0x1438
-  __DATA.__data: 0xc748
-  __DATA.__common: 0x5f8
-  __DATA.__bss: 0xdf40
+  __DATA.__objc_const: 0x77d0
+  __DATA.__objc_selrefs: 0x1218
+  __DATA.__objc_data: 0x14b0
+  __DATA.__data: 0xc678
+  __DATA.__common: 0x5c8
+  __DATA.__bss: 0xdbc0
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork
   - /System/Library/Frameworks/CoreData.framework/CoreData
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /System/Library/PrivateFrameworks/FeedbackLogger.framework/FeedbackLogger
   - /System/Library/PrivateFrameworks/GeoServices.framework/GeoServices
   - /System/Library/PrivateFrameworks/InternalSwiftProtobuf.framework/InternalSwiftProtobuf
-  - /System/Library/PrivateFrameworks/MLRuntime.framework/MLRuntime
   - /System/Library/PrivateFrameworks/Osprey.framework/Osprey
   - /System/Library/PrivateFrameworks/ParsecModel.framework/ParsecModel
   - /System/Library/PrivateFrameworks/PegasusConfiguration.framework/PegasusConfiguration

   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 9236
-  Symbols:   1471
-  CStrings:  2227
+  Functions: 8835
+  Symbols:   1450
+  CStrings:  2236
 
Symbols:
+ _$s20PegasusConfiguration10ClientTypeO8rawValueACSgSu_tcfC
+ _$sSDMa
+ _$sSS10FoundationE5bytes8encodingSSSgxh_SSAAE8EncodingVtcSTRzs5UInt8V7ElementRtzlufC
+ _$sSS10FoundationE8EncodingV5asciiACvgZ
+ _$sSwN
+ _$sSwSTsWP
+ _getxattr
+ _strerror
+ _swift_cvw_allocateGenericValueMetadataWithLayoutString
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_enumFn_getEnumTag
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
+ _swift_cvw_instantiateLayoutString
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
+ _swift_getFunctionTypeMetadata0
+ _swift_stdlib_isStackAllocationSafe
- _$s20PegasusConfiguration0A10ClientNameO18VisualIntelligenceyA2CmFWC
- _$s20PegasusConfiguration0A10ClientNameO4SiriyA2CmFWC
- _$s20PegasusConfiguration0A10ClientNameO6LookupyA2CmFWC
- _$s20PegasusConfiguration0A10ClientNameO6SafariyA2CmFWC
- _$s20PegasusConfiguration0A10ClientNameO7ParsecdyA2CmFWC
- _$s20PegasusConfiguration0A10ClientNameO8MessagesyA2CmFWC
- _$s20PegasusConfiguration0A10ClientNameO8rawValueSSvg
- _$s20PegasusConfiguration0A10ClientNameO9SpotlightyA2CmFWC
- _$s20PegasusConfiguration0A10ClientNameOMa
- _$s20PegasusConfiguration0A10ClientNameOMn
- _$s20PegasusConfiguration26KnownAggregationRecipeNameO22SpotlightFeatureReportyA2CmFWC
- _$s20PegasusConfiguration26KnownAggregationRecipeNameO26SpotlightFeatureExtractionyA2CmFWC
- _$s20PegasusConfiguration26KnownAggregationRecipeNameO8rawValueSSvg
- _$s20PegasusConfiguration26KnownAggregationRecipeNameOMa
- _$s20PegasusConfiguration26KnownAggregationRecipeNameOMn
- _$sSa12_endMutationyyFyXl_Ts5
- _$sSw10copyMemory4fromySW_tF
- _$sSwys5UInt8VSicis
- _$ss10_expectEnd2of2isyx_5IndexQztSlRzlF
- _$ss17_assertionFailure__4file4line5flagss5NeverOs12StaticStringV_A2HSus6UInt32VtF
- _$ss18_fatalErrorMessage__4file4line5flagss5NeverOs12StaticStringV_A2HSus6UInt32VtF
- _$syycWV
- _OBJC_CLASS_$_MLROnDemandPlugin
- _OBJC_CLASS_$_MLRTask
- _XPC_ACTIVITY_ALLOW_BATTERY
- _XPC_ACTIVITY_INTERVAL
- _objc_release_x10
- _objc_release_x9
- _objc_retain_x3
- _swift_allocateGenericValueMetadata
- _swift_continuation_await
- _swift_continuation_init
- _swift_continuation_throwingResume
- _swift_continuation_throwingResumeWithError
- _swift_initEnumMetadataMultiPayload
- _swift_initStructMetadata
- _swift_unknownObjectWeakCopyAssign
- _swift_unknownObjectWeakCopyInit
- _swift_unknownObjectWeakTakeAssign
- _swift_unknownObjectWeakTakeInit
- _xpc_activity_copy_criteria
- _xpc_activity_set_criteria
- _xpc_dictionary_set_bool
- _xpc_dictionary_set_int64
CStrings:
+ "%s Entering group with %ld tasks."
+ "%s Leaving group with %ld tasks."
+ "%s service - all requests complete"
+ "%s service - all requests enqueued"
+ "%s service - streams closed"
+ "Activity in unexpected state %ld, skipping tasks"
+ "Attempting to crate iterator for %s"
+ "Checking deferral, e2egroup has %ld tasks remaining."
+ "Couldn't transition activity %s to continue state, attempting deferral."
+ "Couldn't transition activity to %s state."
+ "Discarding safari feedback because history was cleared: %s."
+ "Done"
+ "End activity called, deferred:%{bool}d keepAlive:%{bool}d"
+ "FBF bailing because flushing is disabled. To re-enable: 'defaults delete com.apple.parsecd %s"
+ "FBF: Starting flush, state %ld."
+ "Failed to create transaction"
+ "Failed to get enumerator for feedback directory at %{sensitive}s"
+ "Failed to get feedback directory"
+ "Handler was invoked for activity %s."
+ "Initialized"
+ "Notified: work completed."
+ "Periodic task %s done."
+ "ProgressTrackingGroup["
+ "Registering notify on group with %ld tasks."
+ "SELECT\n    s.batchId,\n    s.timestampRefId,\n    s.status,\n    s.processedAttempts,\n    s.dateCreated,\n    s.dateUploaded,\n    s.dateLastProcessed,\n    COUNT(DISTINCT(r.rowId)) as batchEventCount,\n    COALESCE(sum(length(r.payload)), 0) as batchSize\nFROM batchStatus s\nLEFT JOIN records r ON s.batchId = r.batchId\nWHERE s.dateUploaded IS NOT NULL\n   OR s.dateCreated < strftime('%s',datetime('now', '-7 day'))\n   OR s.status IN (4, 5, 6)\nGROUP BY s.batchId;"
+ "SafariHistoryClearTimestamp"
+ "Simple feedback enumerator found %s"
+ "Starting when FBF is already running %ld tasks."
+ "TaskTracker: cancelling activity task"
+ "TaskTracker: new activity task added"
+ "Unknown"
+ "XPC activity %s checked in."
+ "XPC activity %s handler invoked in unexpected state %ld, bailing."
+ "XPC activity %s."
+ "XPC activity deferred but already cancelled, ignoring."
+ "_TtC11FlusherUtil11TaskTracker"
+ "_TtC11FlusherUtil29ProgressTrackingDispatchGroup"
+ "_TtCC11FlusherUtil11TaskTrackerP33_D3A3058737C45A2D35CA3371518641AE8WeakTask"
+ "attempting to remove feedback file %s"
+ "batchEventCount"
+ "cameravisualsearch"
+ "client metadata nil for feedback file: %s"
+ "clockface"
+ "columnNameToIndexCache"
+ "com.apple.dpg.messages.search"
+ "com.apple.dpg.perception"
+ "connectionIdentifier"
+ "coresuggestions"
+ "deleteSafariFeedbackEagerly"
+ "doubleForKey:"
+ "duetexpert"
+ "encryptedpqageo"
+ "encryptedvisualsearch"
+ "feedbackFileCreation"
+ "flXPCLog"
+ "flightutilities"
+ "found safari history clear timestamp: %f"
+ "group"
+ "https://carry-falcon.smoot.apple.com"
+ "instance"
+ "intelligenceflow"
+ "lookup"
+ "lookupsearch"
+ "mail"
+ "mapssuggestions"
+ "mediaanalysisd"
+ "messages"
+ "notifications.logging"
+ "parsec_tool"
+ "parsecd feedback"
+ "pegasusKitEncryptedPQAGeo"
+ "pegasusKitEncryptedPQAGeoConfig"
+ "pegasusKitEncryptedPQAGeoSupportedUsecases"
+ "pegasusKitEncryptedVisualSearchSupportedUsecases"
+ "pegasuskit"
+ "photopicker"
+ "photos"
+ "reversetemplated"
+ "runtime=%{signpost.telemetry:number1}%f"
+ "safari history cleared at %f"
+ "safaribrowsingassistant"
+ "searchanalyticsworker"
+ "seed-diatryma.siri.apple.com"
+ "seed-swallow.siri.apple.com"
+ "setBatchEventCount:"
+ "simpleFeedbackEnumerator"
+ "siri"
+ "taskTracker"
+ "trystero"
- "%s was deferred."
- "Activity %s ineligible to run: %s"
- "Aggregate uploads are disabled"
- "Aggregation error %s"
- "Bypassing periodic execution of activity %s, already in progress."
- "Bypassing periodic execution of unrecognized activity %s"
- "Bypassing periodic execution, already in progress."
- "Can't construct Array with count < 0"
- "Couldn't load Parsec bag."
- "Couldn't read SpotlightUI user defaults. Assuming disablement."
- "Couldn't transition activity %s to %s state."
- "Couldn't transition activity %s to continue state, bailing."
- "Couldn't transition flusher activity to %@ state."
- "Couldn't transition flusher activity to continue state, bailing."
- "Data warehouse is disabled"
- "Deferring activity %s."
- "Division by zero"
- "Division results in an overflow"
- "FBF bailing because flushing is disabled. 'defaults delete com.apple.parsecd %@' to re-enable"
- "FBF: FBF's Now Finished."
- "FBF: Starting flush, state %d."
- "FBFAggregationTask"
- "Feature disabled in the bag."
- "FlushFrequencyInSeconds"
- "FlusherUtil/AggregationTask.swift"
- "Insufficient space allocated to copy string contents"
- "Invoking MLRuntime with parameters %s."
- "Negative value is not representable"
- "Not enough bits to represent the passed value"
- "Parsec disabled in Siri & Search settings"
- "Periodic task %s completion unexpectedly found progress marker already toggled to false."
- "Periodic task %s executor done. No error found"
- "Periodic task %s executor done. With error: %s"
- "Periodic task completion unexpectedly found progress marker already toggled to false."
- "Periodic task executor done."
- "Periodic task handler was invoked."
- "SBSearchDisabledDomains"
- "SELECT\n    s.batchId,\n    s.timestampRefId,\n    s.status,\n    s.processedAttempts,\n    s.dateCreated,\n    s.dateUploaded,\n    s.dateLastProcessed,\n    COUNT(DISTINCT(r.rowId)) as eventCount,\n    COALESCE(sum(length(r.payload)), 0) as batchSize\nFROM batchStatus s\nLEFT JOIN records r ON s.batchId = r.batchId\nWHERE s.dateUploaded IS NOT NULL\n   OR s.dateCreated < strftime('%s',datetime('now', '-7 day'))\n   OR s.status IN (4, 5, 6)\nGROUP BY s.batchId;"
- "Swift/Array.swift"
- "Swift/ContiguousArrayBuffer.swift"
- "Swift/IntegerTypes.swift"
- "Swift/Integers.swift"
- "Swift/StringTesting.swift"
- "Swift/StringUTF8View.swift"
- "Swift/UnsafeBufferPointer.swift"
- "Swift/UnsafePointer.swift"
- "Swift/UnsafeRawPointer.swift"
- "Unexpectedly found nil while unwrapping an Optional value"
- "Unknown activity "
- "UnsafeMutableBufferPointer with negative count"
- "UnsafeMutablePointer.initialize overlapping range"
- "UnsafeMutablePointer.initialize with negative count"
- "UnsafeMutablePointer.moveInitialize with negative count"
- "UnsafeMutableRawPointer.initializeMemory overlapping range"
- "UnsafeMutableRawPointer.initializeMemory with negative count"
- "XPC activity %@."
- "XPC activity %s handler for invoked in non-run state, bailing."
- "XPC activity handler invoked in non-run state, bailing."
- "_TtC11FlusherUtil15AggregationTask"
- "_TtC11FlusherUtil18FBFAggregationTask"
- "aggregate"
- "cachedBag"
- "com.apple.siri.parsec.CoreParsec.SearchPoirotExtension"
- "deferralLocker"
- "diatryma.apple.com"
- "fbfXPCActivity"
- "https://falcon-ci.smoot.apple.com"
- "initWithParametersDict:"
- "invalid Collection: less than 'count' elements in collection"
- "parsecIsDisabledInSpotlight"
- "performTask:forPluginID:completionHandler:"
- "recipe"
- "service - all requests enqueued"
- "service - streams closed"
- "service request complete"
- "setEventCount:"
- "spotlightFeatureQualityAggregatesEnabled"
- "spotlightFeatureQualityUploadsEnabled"
- "swallow.apple.com"
- "timerLocker"
- "v24@?0@\"MLRTaskResult\"8@\"NSError\"16"

```
