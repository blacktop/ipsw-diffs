## CDPFollowUpExtension

> `/System/Library/PrivateFrameworks/CoreCDPUI.framework/PlugIns/CDPFollowUpExtension.appex/CDPFollowUpExtension`

```diff

-359.13.0.0.0
-  __TEXT.__text: 0x28a0
-  __TEXT.__auth_stubs: 0x320
-  __TEXT.__objc_stubs: 0xa00
-  __TEXT.__objc_methlist: 0x140
+359.21.0.0.0
+  __TEXT.__text: 0x68d8
+  __TEXT.__auth_stubs: 0x3f0
+  __TEXT.__objc_stubs: 0x1400
+  __TEXT.__objc_methlist: 0x2c0
   __TEXT.__const: 0x50
-  __TEXT.__gcc_except_tab: 0xb4
-  __TEXT.__objc_methname: 0xb15
-  __TEXT.__oslogstring: 0x41a
-  __TEXT.__cstring: 0xac
-  __TEXT.__objc_classname: 0x55
-  __TEXT.__objc_methtype: 0x298
+  __TEXT.__gcc_except_tab: 0x178
+  __TEXT.__cstring: 0x362
+  __TEXT.__objc_methname: 0x1767
+  __TEXT.__oslogstring: 0x1056
+  __TEXT.__objc_classname: 0xb7
+  __TEXT.__objc_methtype: 0x46c
   __TEXT.__dlopen_cstrs: 0x5a
-  __TEXT.__unwind_info: 0xe8
-  __DATA_CONST.__auth_got: 0x1a0
-  __DATA_CONST.__got: 0x60
-  __DATA_CONST.__const: 0x128
-  __DATA_CONST.__cfstring: 0xe0
+  __TEXT.__unwind_info: 0x1c0
+  __DATA_CONST.__auth_got: 0x208
+  __DATA_CONST.__got: 0xf8
+  __DATA_CONST.__const: 0x2e8
+  __DATA_CONST.__cfstring: 0x260
   __DATA_CONST.__objc_classlist: 0x8
-  __DATA_CONST.__objc_protolist: 0x18
+  __DATA_CONST.__objc_protolist: 0x30
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_classrefs: 0x60
+  __DATA_CONST.__objc_classrefs: 0x110
   __DATA_CONST.__objc_superrefs: 0x8
-  __DATA.__objc_const: 0x588
-  __DATA.__objc_selrefs: 0x2c0
-  __DATA.__objc_ivar: 0x18
+  __DATA.__objc_const: 0x8b8
+  __DATA.__objc_selrefs: 0x5a0
+  __DATA.__objc_ivar: 0x38
   __DATA.__objc_data: 0x50
-  __DATA.__data: 0x120
-  __DATA.__bss: 0x18
+  __DATA.__data: 0x240
+  __DATA.__bss: 0x20
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics

   - /System/Library/Frameworks/UIKit.framework/UIKit
   - /System/Library/PrivateFrameworks/AAAFoundation.framework/AAAFoundation
   - /System/Library/PrivateFrameworks/AppleAccount.framework/AppleAccount
+  - /System/Library/PrivateFrameworks/AppleIDSSOAuthentication.framework/AppleIDSSOAuthentication
+  - /System/Library/PrivateFrameworks/AuthKit.framework/AuthKit
+  - /System/Library/PrivateFrameworks/AuthKitUI.framework/AuthKitUI
   - /System/Library/PrivateFrameworks/CoreCDP.framework/CoreCDP
   - /System/Library/PrivateFrameworks/CoreCDPInternal.framework/CoreCDPInternal
   - /System/Library/PrivateFrameworks/CoreCDPUI.framework/CoreCDPUI

   - /System/Library/PrivateFrameworks/SoftLinking.framework/SoftLinking
   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libobjc.A.dylib
-  Functions: 51
-  Symbols:   87
-  CStrings:  192
+  Functions: 146
+  Symbols:   147
+  CStrings:  379
 
Symbols:
+ _ADPUpsell_ADPWebViewName
+ _ADPUpsell_AKActionHeaderKey
+ _ADPUpsell_AKActionHeaderValueDelete
+ _ADPUpsell_PropertyWebAccessKey
+ _ADPUpsell_WebAccessChangeNotification
+ _ADPUpsell_WebAccessResponseHeader
+ _AIDAServiceTypeCloud
+ _AKActionCancel
+ _AKActionKey
+ _AKAppleIDAuthenticationErrorDomain
+ _CDPLocalizedStringInTable
+ _NSStringFromClass
+ _OBJC_CLASS_$_AAFAnalyticsEvent
+ _OBJC_CLASS_$_AIDAAccountManager
+ _OBJC_CLASS_$_AKAccountManager
+ _OBJC_CLASS_$_AKAppleIDFollowUpServerUIPresenter
+ _OBJC_CLASS_$_AKExtensionlessFollowUpHelperContext
+ _OBJC_CLASS_$_AKFollowUpController
+ _OBJC_CLASS_$_AKFollowUpProviderFactory
+ _OBJC_CLASS_$_AKFollowUpSynchronizer
+ _OBJC_CLASS_$_AKNetworkObserver
+ _OBJC_CLASS_$_AKURLBag
+ _OBJC_CLASS_$_CDPAnalyticsReporterRTC
+ _OBJC_CLASS_$_CDPUIWalrusSwiftUIFactory
+ _OBJC_CLASS_$_CDPWalrusStateController
+ _OBJC_CLASS_$_FLFollowUpController
+ _OBJC_CLASS_$_NSArray
+ _OBJC_CLASS_$_NSBundle
+ _OBJC_CLASS_$_NSDictionary
+ _OBJC_CLASS_$_NSMutableURLRequest
+ _OBJC_CLASS_$_NSNotificationCenter
+ _OBJC_CLASS_$_NSNumber
+ _OBJC_CLASS_$_NSUUID
+ _OBJC_CLASS_$_UINavigationController
+ __CDPStateError
+ __os_log_debug_impl
+ __os_log_fault_impl
+ _kADPEnrollAction
+ _kADPUpsellCFURejected
+ _kADPUpsellCFUTriggered
+ _kADPUpsellItemIdentifier
+ _kADPUpsellLandingPageSetUpLaterIniCloudSettingsEscapeOffer
+ _kADPUpsellLandingPageTurnOnEscapeOffer
+ _kADPUpsellLandingPageViewed
+ _kADPUpsellTearDownAction
+ _kCDPAKFollowUpURLKey
+ _kCDPAKNativeActionKey
+ _kCDPAnalyticsEscapeOffer
+ _kCDPAnalyticsEscapeOfferSelected
+ _kCDPAnalyticsEscapeOfferSelectedEvent
+ _kCDPRTCEventCategoryAccountDataAccessRecovery
+ _kDataAccessCancel
+ _objc_autorelease
+ _objc_opt_class
+ _objc_opt_respondsToSelector
+ _objc_retain
+ _objc_retainBlock
+ _objc_retain_x22
+ _objc_retain_x23
+ _objc_retain_x9
CStrings:
+ "\x0e"
+ "\"%@ %@ follow up with error: %@\""
+ "\"%@ ADP Upsell follow up with error: %@\""
+ "\"%@: ADP isEnabled: %d\""
+ "\"%@: Done saving web access state with error: %{private}@\""
+ "\"%@: RemoteUI did handle button: %@.\""
+ "\"%@: RemoteUI did handle the cancel button, calling finishProcessing...\""
+ "\"%@: RemoteUI dismiss flow completed\""
+ "\"%@: RemoteUI dismiss flow.\""
+ "\"%@: Request %@ completed with error: %{private}@\""
+ "\"%s: CDPContext nil while processing ADPUpsell CFU\""
+ "\"%s: Primary Account nil while processing ADPUpsell CFU\""
+ "\"%s: Upsell landing screen should have been populated. Exiting.\""
+ "\"%s:ADPUpsell CFU altDSID nil - using contextForPrimaryAccount\""
+ "\"%s:ADPUpsell CFU creating context using altDSID\""
+ "\"%s:ADPUpsell CFU setting telemetryFlowId: %@ and deviceSessionId: %@\""
+ "\"ADP CFU is present but ADP is already turned on. This is not expected since in most cases IdMS should have sent tearDown signal. Clearing the CFU on the client side...\""
+ "\"Attempting to process the item: %@ and the action: %@\""
+ "\"CDP is already enabled for the primary account. Repair is not needed.\""
+ "\"CDP is not enabled for the primary account. Performing device to device encryption state repair\""
+ "\"CDPFollowUpViewController: AKFollowUpSynchronizer failed to synchronize with an error: %@. Let's do a best effort retry synchronize item with AKFollowUpProvider since AuthKit sometimes post CFU on behalf of other clients (i.e. ADP Upsell CFU)\""
+ "\"CDPFollowUpViewController: Asking Authkit to present Server UI with urlKey=%@\""
+ "\"CDPFollowUpViewController: Failed to display AuthKit Server UI with urlKey=%@, error=%@\""
+ "\"CDPFollowUpViewController: Successfully completed displaying AuthKit Server UI with urlKey=%@, sucess=%{BOOL}d, error=%@\""
+ "\"CDPFollowUpViewController: follow up item synchronized=%{BOOL}d, syncError=%@\""
+ "\"CDPUIDeviceToDeviceEncryptionFlowContext should have been set when processing the follow up item. Setting up again...\""
+ "\"Creating new grand slam presenter with presenting screen: %@\""
+ "\"Done loading Remote UI request with response: %@\""
+ "\"Existing presenter %@ will be overwritten\""
+ "\"Failed to perform device to device repair: %@\""
+ "\"Finished presenting ADP upsell teardown action with success: %d, error: %@\""
+ "\"Firing off best effort teardown with urlKey=%@, altDSID=%@, itemID=%@\""
+ "\"Got delete in X-Apple-AK-Action. Tearing down the ADU CFU...\""
+ "\"Harvesting data from response: %{private}@\""
+ "\"Issue getting Walrus status (got %@) with error: %@\""
+ "\"Loading Remote UI request, %@\""
+ "\"Presenting upsell landing screen and registering for Walrus state change notifications\""
+ "\"Successfully performed encryption state repair. Making upsell view.\""
+ "\"User requested exiting out of the ADP upsell landing page. Not taking any action.\""
+ "\"User tapped Set Up Later on the ADP upsell landing page.\""
+ "\"User tapped Turn On on the ADP upsell landing page. Beginning RUI flow.\""
+ "\"Using context %@ with flow ID %{public}@ and device session ID %{public}@ for ADP upsell. Beginning D2D encryption state repair if needed.\""
+ "\"Value for web access enablement was missing, or settings are nil.\""
+ "\"Web access enablement state is %d\""
+ "\"does not respondToSelector, not passing in cdpContext - custodian events will not be triggered for adpUpsell\""
+ "-[CDPFollowUpViewController _apdUpsellSetupCDPContextForAccountWithAltDSID:itemIdentifier:]"
+ "-[CDPFollowUpViewController upsellViewModelDidRequestBeginEnablementFlowWithContext:]"
+ "-[CDPFollowUpViewController upsellViewModelDidRequestCFUDismissalWithContext:]"
+ "@\"<CDPUIADPUpsellErrorPresenter>\""
+ "@\"AAUIGrandSlamRemoteUIPresenter\""
+ "@\"AKBaseFollowupManager\""
+ "@\"AKFollowUpSynchronizer\""
+ "@\"CDPContext\""
+ "@\"NSDictionary\"24@0:8@\"AIDAAccountManager\"16"
+ "@\"NSString\""
+ "@\"UIViewController\""
+ "@32@0:8@16@24"
+ "AAUIGrandSlamRemoteUIPresenter"
+ "AAUIGrandSlamRemoteUIPresenterDelegate"
+ "AAUIWebAccessChangeNotification"
+ "AIDAAccountManagerDelegate"
+ "B32@0:8@16^@24"
+ "CDPUIADPUpsellViewModelDelegate"
+ "GET"
+ "ICLOUD_ADP_NETWORK_ERROR_ALERT_MESSAGE"
+ "ICLOUD_ADP_NETWORK_ERROR_ALERT_TITLE"
+ "ICLOUD_ENABLEMENT_FLOW_VIEW"
+ "Localizable-Walrus"
+ "T@\"<CDPUIADPUpsellErrorPresenter>\",&,N,V_adpUpsellErrorPresenter"
+ "T@\"AAUIGrandSlamRemoteUIPresenter\",&,N,V_grandSlamPresenter"
+ "T@\"UIViewController\",&,N,V_adpUpsellLandingScreen"
+ "UUID"
+ "UUIDString"
+ "X-Apple-AK-Action"
+ "X-Apple-AK-Advanced-ICloud-Data-Protection"
+ "X-Apple-I-Web-Access"
+ "_adpUpsellErrorPresenter"
+ "_adpUpsellLandingScreen"
+ "_akNativeAction"
+ "_apdUpsellSetupCDPContextForAccountWithAltDSID:itemIdentifier:"
+ "_baseFollowupManager"
+ "_beginUpsellFlowOnIOSUsingContext:completion:"
+ "_beginWalrusEnablementFromUpsellCFU"
+ "_cdpContext"
+ "_clearADPUpsellFollowUp"
+ "_clearADPUpsellFollowUpWithAKController"
+ "_clearFollowUpWithAKControllerWithItemID:"
+ "_followupProvider"
+ "_followupSynchronizer"
+ "_grandSlamPresenter"
+ "_handleADPUpsellHTTPResponse:"
+ "_harvestWebAccessStatus:"
+ "_makeADPUpsellLandingPageViewedEventWithCDPContext:"
+ "_makeEscapeOfferSelectedEventForOffer:withContext:"
+ "_performDeviceToDeviceEncryptionStateRepairIfNeededWithCompletion:"
+ "_postADPUpsellActionEventForItem:selectedAction:"
+ "_presentAKServerUIWithUrlKey:altDSID:itemID:completion:"
+ "_showADPUpsellNetworkError"
+ "_synchronizeFollowUpsWithProvider:error:"
+ "_urlKey"
+ "aaf_arrayAsCommaSeperatedString"
+ "accountsForAccountManager:"
+ "adpUpsellErrorPresenter"
+ "adpUpsellLandingScreen"
+ "allHeaderFields"
+ "analyticsEventWithContext:eventName:category:"
+ "arrayWithObjects:count:"
+ "authKitAccountWithAltDSID:"
+ "boolValue"
+ "bundleIdentifier"
+ "code"
+ "contextForADPUpsell"
+ "dataRecoveryServiceDisableURL"
+ "defaultCenter"
+ "delete"
+ "dictionaryWithObjects:forKeys:count:"
+ "dismissViewControllerAnimated:completion:"
+ "domain"
+ "followUpPerformUpdateWithCompletionHandler:"
+ "grandSlamPresenter"
+ "grandSlamPresenterWithPresentingScreen:"
+ "initWithAccountManager:hookType:presenter:"
+ "initWithAccountManager:hookType:presenter:cdpContext:"
+ "initWithAccountStore:"
+ "initWithClientIdentifier:"
+ "initWithFLFollowupController:"
+ "initWithRootViewController:"
+ "initWithURL:"
+ "isICDPEnabledForDSID:checkWithServer:"
+ "loadRequest:completion:"
+ "localizedDescription"
+ "mainBundle"
+ "makeSwiftUIUpsellViewWithCDPContext:urlBag:networkObserver:viewModelDelegate:completion:"
+ "navigationController"
+ "numberWithUnsignedInteger:"
+ "postNotificationName:object:"
+ "presentServerUIWithContext:withCompletion:withResponse:"
+ "primaryAccountDSID"
+ "primaryAppleAccount"
+ "primaryAuthKitAccount"
+ "remoteUIDidDismiss:"
+ "remoteUIDidEndFlow:"
+ "remoteUIDidHandleButton:"
+ "remoteUIDidPresentObjectModel:modally:"
+ "remoteUIDidReceiveHTTPResponse:"
+ "remoteUIRequestComplete:error:"
+ "remoteUIWillLoadRequest:"
+ "remoteUIWillPresentObjectModel:modally:"
+ "removeFollowUpItemsWithIdentifiers:error:"
+ "rtcAnalyticsReporter"
+ "saveAccount:withCompletionHandler:"
+ "sendEvent:"
+ "setAccountProperty:forKey:"
+ "setAdpUpsellErrorPresenter:"
+ "setAdpUpsellLandingScreen:"
+ "setFollowUpProvider:"
+ "setFollowupProvider:"
+ "setGrandSlamPresenter:"
+ "setHTTPMethod:"
+ "setObject:forKeyedSubscript:"
+ "setTelemetryDeviceSessionID:"
+ "setTelemetryFlowID:"
+ "setUniqueItemIdentifier:"
+ "setUrlKey:"
+ "sharedAuthKitFollowupProvider"
+ "sharedBag"
+ "sharedNetworkObserver"
+ "showErrorAlertTitled:message:"
+ "statusCode"
+ "synchronizeFollowUpsForAccount:error:"
+ "telemetryDeviceSessionID"
+ "telemetryDeviceSessionIDForAccount:"
+ "telemetryFlowID"
+ "upsellViewModelDidRequestBeginEnablementFlowWithContext:"
+ "upsellViewModelDidRequestCFUDismissalWithContext:"
+ "upsellViewModelDidRequestFlowCancellationWithContext:"
+ "v24@0:8@\"CDPContext\"16"
+ "v24@0:8@\"NSDictionary\"16"
+ "v24@0:8@\"NSHTTPURLResponse\"16"
+ "v24@0:8@\"NSMutableURLRequest\"16"
+ "v24@0:8@\"RemoteUIController\"16"
+ "v24@?0@\"UIViewController\"8@\"<CDPUIADPUpsellErrorPresenter>\"16"
+ "v24@?0Q8@\"NSError\"16"
+ "v28@0:8@\"RUIObjectModel\"16B24"
+ "v32@0:8@\"NSURLRequest\"16@\"NSError\"24"
+ "v32@?0@\"NSHTTPURLResponse\"8@\"NSDictionary\"16@\"NSError\"24"
+ "v48@0:8@16@24@32@?40"
+ "walrusStatusWithCompletion:"
+ "webAccessEnabled"
- "\x06"
- "\"Attempting to process: %@\""

```
