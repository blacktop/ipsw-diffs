## FaceTimeMessageStore

> `/System/Library/PrivateFrameworks/FaceTimeMessageStore.framework/FaceTimeMessageStore`

```diff

-1431.500.151.2.13
-  __TEXT.__text: 0xeebe8
-  __TEXT.__auth_stubs: 0x1f70
+1431.600.72.2.2
+  __TEXT.__text: 0xf4718
+  __TEXT.__auth_stubs: 0x2050
   __TEXT.__objc_methlist: 0x560
-  __TEXT.__const: 0x6bc0
-  __TEXT.__cstring: 0x9c01
-  __TEXT.__constg_swiftt: 0x2360
-  __TEXT.__swift5_typeref: 0x26a6
-  __TEXT.__swift5_builtin: 0x154
-  __TEXT.__swift5_reflstr: 0x1778
-  __TEXT.__swift5_fieldmd: 0x1e80
-  __TEXT.__swift5_assocty: 0x388
-  __TEXT.__swift5_proto: 0x648
-  __TEXT.__swift5_types: 0x1f8
-  __TEXT.__swift5_capture: 0x11e4
+  __TEXT.__const: 0x6da0
+  __TEXT.__cstring: 0xa0d1
+  __TEXT.__constg_swiftt: 0x24d8
+  __TEXT.__swift5_typeref: 0x2774
+  __TEXT.__swift5_builtin: 0x168
+  __TEXT.__swift5_reflstr: 0x1838
+  __TEXT.__swift5_fieldmd: 0x1f30
+  __TEXT.__swift5_assocty: 0x3a0
+  __TEXT.__swift5_proto: 0x660
+  __TEXT.__swift5_types: 0x20c
+  __TEXT.__swift5_capture: 0x1208
   __TEXT.__swift5_mpenum: 0x2c
-  __TEXT.__swift5_protos: 0x68
-  __TEXT.__unwind_info: 0x539c
-  __TEXT.__eh_frame: 0x9c64
-  __TEXT.__objc_classname: 0x78
-  __TEXT.__objc_methname: 0x26bc
+  __TEXT.__swift5_protos: 0x6c
+  __TEXT.__unwind_info: 0x5758
+  __TEXT.__eh_frame: 0x9f00
+  __TEXT.__objc_classname: 0x86
+  __TEXT.__objc_methname: 0x275e
   __TEXT.__objc_methtype: 0x8f4
-  __DATA_CONST.__got: 0x560
-  __DATA_CONST.__const: 0x768
-  __DATA_CONST.__objc_classlist: 0xc8
+  __DATA_CONST.__got: 0x5a8
+  __DATA_CONST.__const: 0x7a0
+  __DATA_CONST.__objc_classlist: 0xd8
   __DATA_CONST.__objc_catlist: 0x28
-  __DATA_CONST.__objc_protolist: 0xb8
+  __DATA_CONST.__objc_protolist: 0xc8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_const: 0x2d78
-  __DATA_CONST.__objc_selrefs: 0xaf0
-  __DATA_CONST.__objc_protorefs: 0x78
-  __DATA_CONST.__objc_classrefs: 0x298
-  __AUTH_CONST.__const: 0x7200
+  __DATA_CONST.__objc_const: 0x2f58
+  __DATA_CONST.__objc_selrefs: 0xb28
+  __DATA_CONST.__objc_protorefs: 0x80
+  __DATA_CONST.__objc_classrefs: 0x2b0
+  __AUTH_CONST.__const: 0x7460
   __AUTH_CONST.__objc_const: 0x380
-  __AUTH_CONST.__auth_got: 0xfb8
-  __AUTH.__data: 0x360
+  __AUTH_CONST.__auth_got: 0x1028
+  __AUTH.__data: 0x4b8
   __AUTH.__objc_data: 0x320
   __DATA.__objc_data: 0x368
-  __DATA.__data: 0x2328
+  __DATA.__data: 0x23d8
   __DATA.__objc_stublist: 0x10
-  __DATA.__bss: 0x7fe0
-  __DATA.__common: 0x88
-  __DATA_DIRTY.__objc_data: 0xc80
-  __DATA_DIRTY.__data: 0x2020
+  __DATA.__bss: 0x7de0
+  __DATA.__common: 0xa8
+  __DATA_DIRTY.__objc_data: 0xc88
+  __DATA_DIRTY.__data: 0x20b0
   __DATA_DIRTY.__common: 0x240
-  __DATA_DIRTY.__bss: 0x3d80
+  __DATA_DIRTY.__bss: 0x4200
   - /System/Library/Frameworks/AVFoundation.framework/AVFoundation
+  - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CloudKit.framework/CloudKit
   - /System/Library/Frameworks/Contacts.framework/Contacts
   - /System/Library/Frameworks/CoreData.framework/CoreData

   - /System/Library/PrivateFrameworks/BlastDoor.framework/BlastDoor
   - /System/Library/PrivateFrameworks/CallHistory.framework/CallHistory
   - /System/Library/PrivateFrameworks/CollectionsInternal.framework/CollectionsInternal
+  - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics
   - /System/Library/PrivateFrameworks/FTServices.framework/FTServices
   - /System/Library/PrivateFrameworks/IDS.framework/IDS
   - /System/Library/PrivateFrameworks/MessagesBlastDoorSupport.framework/MessagesBlastDoorSupport

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: A557E455-4B70-3C26-9E7D-858B3F503481
-  Functions: 7372
-  Symbols:   4670
-  CStrings:  1250
+  UUID: 1824077D-FDEB-34C9-82C1-AE96BF3CABBD
+  Functions: 7519
+  Symbols:   4816
+  CStrings:  1287
 
Symbols:
+ _ACAccountDataclassPhoneFaceTime
+ _AnalyticsSendEventLazy
+ _NSFileSize
+ _OBJC_CLASS_$_ACAccountStore
+ _OBJC_CLASS_$_NSError
+ _OUTLINED_FUNCTION_126
+ _TCCAccessCopyInformationForBundleId
+ _TCCAccessSetForBundleId
+ _XPC_ACTIVITY_CHECK_IN
+ __DATA__TtC20FaceTimeMessageStore16AnalyticsManager
+ __DATA__TtC20FaceTimeMessageStore17AnalyticsReporter
+ __IVARS__TtC20FaceTimeMessageStore16AnalyticsManager
+ __METACLASS_DATA__TtC20FaceTimeMessageStore16AnalyticsManager
+ __METACLASS_DATA__TtC20FaceTimeMessageStore17AnalyticsReporter
+ __OBJC_$_PROTOCOL_REFS_OS_xpc_object
+ __OBJC_LABEL_PROTOCOL_$_OS_xpc_object
+ __OBJC_PROTOCOL_$_OS_xpc_object
+ __PROTOCOLS__TtC20FaceTimeMessageStore29VideoMessagingServiceDelegate.40
+ __PROTOCOLS__TtC20FaceTimeMessageStore35MessageStoreProviderServiceDelegate.32
+ ___swift_memcpy408_8
+ _associated conformance 20FaceTimeMessageStore14TCCAccessErrorOSHAASQ
+ _block_copy_helper.24
+ _block_copy_helper.49
+ _block_copy_helper.59
+ _block_copy_helper.69
+ _block_copy_helper.73
+ _block_copy_helper.76
+ _block_copy_helper.8
+ _block_descriptor.10
+ _block_descriptor.26
+ _block_descriptor.51
+ _block_descriptor.61
+ _block_descriptor.71
+ _block_descriptor.75
+ _block_descriptor.78
+ _block_destroy_helper.25
+ _block_destroy_helper.50
+ _block_destroy_helper.60
+ _block_destroy_helper.70
+ _block_destroy_helper.74
+ _block_destroy_helper.77
+ _block_destroy_helper.9
+ _kTCCInfoGranted
+ _kTCCInfoService
+ _kTCCServiceLiverpool
+ _kTCCServiceUbiquity
+ _objectdestroy.15Tm
+ _objectdestroy.53Tm
+ _objectdestroy.60Tm
+ _swift_getErrorValue
+ _swift_weakAssign
+ _swift_weakDestroy
+ _swift_weakInit
+ _symbolic $s20FaceTimeMessageStore9TCCHelperP
+ _symbolic SDySSSo8NSObjectCG
+ _symbolic SDySSypG
+ _symbolic So13OS_xpc_object_p
+ _symbolic So9ACAccountCSg
+ _symbolic _____ 20FaceTimeMessageStore14TCCAccessErrorO
+ _symbolic _____ 20FaceTimeMessageStore15TCCAccessHelperV
+ _symbolic _____ 20FaceTimeMessageStore16AnalyticsManagerC
+ _symbolic _____ 20FaceTimeMessageStore17AnalyticsReporterC
+ _symbolic _____ So12FTDeviceTypeV
+ _symbolic _____Sg 20FaceTimeMessageStore16AnalyticsManagerC
+ _symbolic _____SgXw 20FaceTimeMessageStore16AnalyticsManagerC
+ _symbolic ______p 20FaceTimeMessageStore9TCCHelperP
+ _symbolic _____ySSSo8NSObjectCG s17_NativeDictionaryV
+ _symbolic _____ySS_So8NSObjectCtG s23_ContiguousArrayStorageC
+ _xpc_activity_copy_criteria
+ _xpc_activity_get_state
+ _xpc_activity_register
+ _xpc_activity_set_state
+ _xpc_set_event_stream_handler
- __PROTOCOLS__TtC20FaceTimeMessageStore29VideoMessagingServiceDelegate.37
- __PROTOCOLS__TtC20FaceTimeMessageStore35MessageStoreProviderServiceDelegate.29
- ___swift_memcpy400_8
- _block_copy_helper.46
- _block_copy_helper.56
- _block_copy_helper.66
- _block_copy_helper.70
- _block_descriptor.48
- _block_descriptor.58
- _block_descriptor.68
- _block_descriptor.72
- _block_destroy_helper.47
- _block_destroy_helper.57
- _block_destroy_helper.67
- _block_destroy_helper.71
- _objectdestroy.12Tm
- _objectdestroy.50Tm
- _objectdestroy.55Tm
CStrings:
+ "%@"
+ "@\"NSDictionary\"8@?0"
+ "Could not disable PhoneFacetime dataclass: %{public}s"
+ "Failed TCC migration with error: %{public}@"
+ "Failed to get ACAccount"
+ "Failed to get ACAccountStore"
+ "FileAttribute error: "
+ "Is TCC migration necessary: %{public}s. Current version: %{public}ld. Expected version: %{public}ld"
+ "OS_xpc_object"
+ "Performing TCC migration"
+ "Received an xpc event %s"
+ "Setting TCC access to %{bool,public}d for %{public}s on %{public}s!"
+ "Setting data class to %{bool,public}d!"
+ "Skipping TCC migration because it isn't necessary."
+ "XPC activity checked in. Criteria: %s"
+ "_TtC20FaceTimeMessageStore16AnalyticsManager"
+ "_TtC20FaceTimeMessageStore17AnalyticsReporter"
+ "aa_primaryAppleAccountWithCompletion:"
+ "analyticsManager"
+ "attributesOfItemAtPath:error:"
+ "beginDailyMaintenance"
+ "com.apple.NanoPhone"
+ "com.apple.facetime.debug"
+ "com.apple.facetimemessagestored."
+ "com.apple.notifyd.matching"
+ "com.apple.telephonyutilities.facetimemessagestored.analytics.daily"
+ "defaultStore"
+ "initWithString:"
+ "initWithUnsignedInteger:"
+ "initWithUnsignedLongLong:"
+ "saveAccount:withCompletionHandler:"
+ "sending %s payload: %s"
+ "setEnabled:forDataclass:"
+ "tccHelper"
+ "tccMigrationVersion"
+ "unhandled xpc activity state %ld"
+ "v16@?0@\"<OS_xpc_object>\"8"
+ "v24@?0@\"ACAccount\"8@\"NSError\"16"
- "setApplicationBundleIdentifierOverrideForTCC:"

```
