## ServicesIntelligence

> `/System/Library/PrivateFrameworks/ServicesIntelligence.framework/ServicesIntelligence`

```diff

-1.20.0.0.0
-  __TEXT.__text: 0x82d34
-  __TEXT.__auth_stubs: 0x1690
+1.22.0.0.0
+  __TEXT.__text: 0x97384
+  __TEXT.__auth_stubs: 0x1a70
   __TEXT.__objc_methlist: 0x1bc
-  __TEXT.__const: 0xc2dc
-  __TEXT.__cstring: 0x28d0
-  __TEXT.__constg_swiftt: 0x204c
-  __TEXT.__swift5_typeref: 0x2301
-  __TEXT.__swift5_builtin: 0xf0
-  __TEXT.__swift5_mpenum: 0x68
-  __TEXT.__swift5_reflstr: 0x1018
-  __TEXT.__swift5_fieldmd: 0x24cc
-  __TEXT.__swift5_assocty: 0x290
-  __TEXT.__swift5_proto: 0xba8
-  __TEXT.__swift5_types: 0x32c
-  __TEXT.__swift_as_entry: 0x15c
-  __TEXT.__swift_as_ret: 0x174
-  __TEXT.__swift5_capture: 0xe0
-  __TEXT.__swift5_protos: 0x4
-  __TEXT.__unwind_info: 0x2db0
-  __TEXT.__eh_frame: 0x65b0
+  __TEXT.__const: 0xd088
+  __TEXT.__cstring: 0x3064
+  __TEXT.__swift5_typeref: 0x273a
+  __TEXT.__constg_swiftt: 0x2780
+  __TEXT.__swift5_reflstr: 0x15a3
+  __TEXT.__swift5_fieldmd: 0x2b64
+  __TEXT.__swift5_builtin: 0x118
+  __TEXT.__swift5_assocty: 0x2d8
+  __TEXT.__swift5_proto: 0xc34
+  __TEXT.__swift5_types: 0x3ac
+  __TEXT.__swift_as_entry: 0x198
+  __TEXT.__swift_as_ret: 0x1ac
+  __TEXT.__swift5_mpenum: 0x78
+  __TEXT.__swift5_capture: 0x144
+  __TEXT.__swift5_protos: 0x1c
+  __TEXT.__oslogstring: 0x998
+  __TEXT.__unwind_info: 0x31d8
+  __TEXT.__eh_frame: 0x6db0
   __TEXT.__objc_classname: 0x18
-  __TEXT.__objc_methname: 0x4c0
+  __TEXT.__objc_methname: 0x4f5
   __TEXT.__objc_methtype: 0x178
-  __DATA_CONST.__got: 0x2f0
-  __DATA_CONST.__const: 0x90
-  __DATA_CONST.__objc_classlist: 0x78
+  __DATA_CONST.__got: 0x3c0
+  __DATA_CONST.__const: 0xa8
+  __DATA_CONST.__objc_classlist: 0xc0
   __DATA_CONST.__objc_protolist: 0x20
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x200
+  __DATA_CONST.__objc_selrefs: 0x228
   __DATA_CONST.__objc_protorefs: 0x10
-  __AUTH_CONST.__auth_got: 0xb48
-  __AUTH_CONST.__const: 0x6db8
-  __AUTH_CONST.__objc_const: 0xc98
-  __AUTH.__objc_data: 0x50
-  __AUTH.__data: 0xed8
-  __DATA.__data: 0x2590
-  __DATA.__bss: 0x17500
+  __AUTH_CONST.__auth_got: 0xd38
+  __AUTH_CONST.__const: 0x7a80
+  __AUTH_CONST.__objc_const: 0x1268
+  __AUTH.__objc_data: 0x320
+  __AUTH.__data: 0x1738
+  __DATA.__data: 0x28c8
   __DATA.__common: 0x30
+  __DATA.__bss: 0x17d80
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreML.framework/CoreML
   - /System/Library/Frameworks/Foundation.framework/Foundation
   - /System/Library/PrivateFrameworks/AppleMediaServices.framework/AppleMediaServices
   - /System/Library/PrivateFrameworks/ArgumentParserInternal.framework/ArgumentParserInternal
+  - /System/Library/PrivateFrameworks/IntelligenceFlowContext.framework/IntelligenceFlowContext
+  - /System/Library/PrivateFrameworks/IntelligenceFlowShared.framework/IntelligenceFlowShared
+  - /System/Library/PrivateFrameworks/IntelligencePlatformQuery.framework/IntelligencePlatformQuery
   - /System/Library/PrivateFrameworks/ModelManagerServices.framework/ModelManagerServices
+  - /System/Library/PrivateFrameworks/SeymourClient.framework/SeymourClient
+  - /System/Library/PrivateFrameworks/SeymourCore.framework/SeymourCore
+  - /System/Library/PrivateFrameworks/ToolKit.framework/ToolKit
   - /System/Library/PrivateFrameworks/VectorSearch.framework/VectorSearch
   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libobjc.A.dylib

   - /usr/lib/swift/libswiftAccelerate.dylib
   - /usr/lib/swift/libswiftCompression.dylib
   - /usr/lib/swift/libswiftCore.dylib
+  - /usr/lib/swift/libswiftCoreAudio.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
   - /usr/lib/swift/libswiftCoreImage.dylib
+  - /usr/lib/swift/libswiftCoreLocation.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
+  - /usr/lib/swift/libswiftIntents.dylib
   - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftOSLog.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 722EDAA4-986C-3215-AAA0-9FBAB187BF0B
-  Functions: 3707
-  Symbols:   1358
-  CStrings:  360
+  UUID: 8758F353-C6C2-3264-AE67-9ED1A5263600
+  Functions: 4067
+  Symbols:   1531
+  CStrings:  445
 
Symbols:
+ _OBJC_CLASS_$_IPSQLDatabase
+ _OBJC_CLASS_$_NSDateFormatter
+ _OBJC_CLASS_$_OS_dispatch_queue
+ __DATA__TtC20ServicesIntelligence12IPSQLManager
+ __DATA__TtC20ServicesIntelligence12TimeProvider
+ __DATA__TtC20ServicesIntelligence13MediaProvider
+ __DATA__TtC20ServicesIntelligence15CommuteProvider
+ __DATA__TtC20ServicesIntelligence15WorkoutProvider
+ __DATA__TtC20ServicesIntelligence16AppUsageProvider
+ __DATA__TtC20ServicesIntelligence16LocationProvider
+ __DATA__TtC20ServicesIntelligence26ContextualContentRetrieval
+ __DATA__TtC20ServicesIntelligence26PersonalContextCoordinator
+ __IVARS__TtC20ServicesIntelligence12IPSQLManager
+ __IVARS__TtC20ServicesIntelligence12TimeProvider
+ __IVARS__TtC20ServicesIntelligence13MediaProvider
+ __IVARS__TtC20ServicesIntelligence15CommuteProvider
+ __IVARS__TtC20ServicesIntelligence15WorkoutProvider
+ __IVARS__TtC20ServicesIntelligence16AppUsageProvider
+ __IVARS__TtC20ServicesIntelligence16LocationProvider
+ __IVARS__TtC20ServicesIntelligence26ContextualContentRetrieval
+ __IVARS__TtC20ServicesIntelligence26PersonalContextCoordinator
+ __METACLASS_DATA__TtC20ServicesIntelligence12IPSQLManager
+ __METACLASS_DATA__TtC20ServicesIntelligence12TimeProvider
+ __METACLASS_DATA__TtC20ServicesIntelligence13MediaProvider
+ __METACLASS_DATA__TtC20ServicesIntelligence15CommuteProvider
+ __METACLASS_DATA__TtC20ServicesIntelligence15WorkoutProvider
+ __METACLASS_DATA__TtC20ServicesIntelligence16AppUsageProvider
+ __METACLASS_DATA__TtC20ServicesIntelligence16LocationProvider
+ __METACLASS_DATA__TtC20ServicesIntelligence26ContextualContentRetrieval
+ __METACLASS_DATA__TtC20ServicesIntelligence26PersonalContextCoordinator
+ ___swift_allocate_boxed_opaque_existential_1
+ ___swift_allocate_value_buffer
+ ___swift_memcpy168_8
+ ___swift_project_value_buffer
+ ___unnamed_15
+ __os_log_impl
+ __swift_FORCE_LOAD_$_swiftCoreAudio
+ __swift_FORCE_LOAD_$_swiftCoreAudio_$_ServicesIntelligence
+ __swift_FORCE_LOAD_$_swiftCoreLocation
+ __swift_FORCE_LOAD_$_swiftCoreLocation_$_ServicesIntelligence
+ __swift_FORCE_LOAD_$_swiftIntents
+ __swift_FORCE_LOAD_$_swiftIntents_$_ServicesIntelligence
+ _associated conformance 20ServicesIntelligence12IPSQLManagerC10IPSQLErrorOSHAASQ
+ _associated conformance 20ServicesIntelligence12TimeProviderC0cD5ErrorOSHAASQ
+ _associated conformance 20ServicesIntelligence16LocationProviderC0cD5ErrorOSHAASQ
+ _associated conformance 20ServicesIntelligence17MediaPlaybackTypeOSHAASQ
+ _associated conformance 20ServicesIntelligence9DayOfWeekOSHAASQ
+ _associated conformance 20ServicesIntelligence9DayOfWeekOs12CaseIterableAA8AllCasessADP_Sl
+ _get_enum_tag_for_layout_string 20ServicesIntelligence13ContentResultO
+ _get_enum_tag_for_layout_string 20ServicesIntelligence26ContextualContentRetrievalC11ContextTypeO
+ _get_enum_tag_for_layout_string 20ServicesIntelligence26ContextualContentRetrievalC12ContextErrorO
+ _objc_release_x27
+ _objectdestroy.11Tm
+ _os_log_type_enabled
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
+ _swift_getEnumCaseMultiPayload
+ _swift_projectBox
+ _swift_slowAlloc
+ _symbolic $s20ServicesIntelligence15ContentProviderP
+ _symbolic $s20ServicesIntelligence15ContextProviderP
+ _symbolic $s20ServicesIntelligence17TimeRangeProviderP
+ _symbolic $s20ServicesIntelligence21TimeFilterableContentP
+ _symbolic $s20ServicesIntelligence7ContentP
+ _symbolic $s20ServicesIntelligence7ContextP
+ _symbolic Say_____G 20ServicesIntelligence13MediaPlaybackV
+ _symbolic Say_____G 20ServicesIntelligence17MediaPlaybackTypeO
+ _symbolic Say_____G 20ServicesIntelligence8AppUsageV
+ _symbolic Say_____G 20ServicesIntelligence9DayOfWeekO
+ _symbolic Say_____G 20ServicesIntelligence9TimeRangeV
+ _symbolic Say_____GSg 20ServicesIntelligence12DayTimeRangeV
+ _symbolic Say_____GSg 20ServicesIntelligence9DayOfWeekO
+ _symbolic ScCyShy_____G______pG 11SeymourCore16HealthKitWorkoutV s5ErrorP
+ _symbolic Shy_____G 11SeymourCore16HealthKitWorkoutV
+ _symbolic So13IPSQLDatabaseCSg
+ _symbolic _____ 20ServicesIntelligence11TimeContextV
+ _symbolic _____ 20ServicesIntelligence12DayTimeRangeV
+ _symbolic _____ 20ServicesIntelligence12IPSQLManagerC
+ _symbolic _____ 20ServicesIntelligence12IPSQLManagerC10IPSQLErrorO
+ _symbolic _____ 20ServicesIntelligence12TimeProviderC
+ _symbolic _____ 20ServicesIntelligence12TimeProviderC0cD5ErrorO
+ _symbolic _____ 20ServicesIntelligence13ContentResultO
+ _symbolic _____ 20ServicesIntelligence13MediaPlaybackV
+ _symbolic _____ 20ServicesIntelligence13MediaProviderC
+ _symbolic _____ 20ServicesIntelligence14CommuteContextV
+ _symbolic _____ 20ServicesIntelligence14WorkoutContextV
+ _symbolic _____ 20ServicesIntelligence15CommuteProviderC
+ _symbolic _____ 20ServicesIntelligence15LocationContextV
+ _symbolic _____ 20ServicesIntelligence15WorkoutProviderC
+ _symbolic _____ 20ServicesIntelligence16AppUsageProviderC
+ _symbolic _____ 20ServicesIntelligence16LocationProviderC
+ _symbolic _____ 20ServicesIntelligence16LocationProviderC0cD5ErrorO
+ _symbolic _____ 20ServicesIntelligence17MediaPlaybackTypeO
+ _symbolic _____ 20ServicesIntelligence17TimeContextFilterV
+ _symbolic _____ 20ServicesIntelligence22ContextProviderOptionsV
+ _symbolic _____ 20ServicesIntelligence26ContextualContentRetrievalC
+ _symbolic _____ 20ServicesIntelligence26ContextualContentRetrievalC0D4TypeO
+ _symbolic _____ 20ServicesIntelligence26ContextualContentRetrievalC11ContextTypeO
+ _symbolic _____ 20ServicesIntelligence26ContextualContentRetrievalC12ContextErrorO
+ _symbolic _____ 20ServicesIntelligence26ContextualContentRetrievalC13CommuteFilterV
+ _symbolic _____ 20ServicesIntelligence26ContextualContentRetrievalC14LocationFilterV
+ _symbolic _____ 20ServicesIntelligence26PersonalContextCoordinatorC
+ _symbolic _____ 20ServicesIntelligence8AppUsageV
+ _symbolic _____ 20ServicesIntelligence9DayOfWeekO
+ _symbolic _____ 20ServicesIntelligence9ResultRowV
+ _symbolic _____ 20ServicesIntelligence9TimeFrameO
+ _symbolic _____ 20ServicesIntelligence9TimeRangeV
+ _symbolic _____ 2os6LoggerV
+ _symbolic _____ s6UInt32V
+ _symbolic _____3key_yp5valuet s11AnyHashableV
+ _symbolic _____5start_AA3endt 10Foundation4DateV
+ _symbolic _____Sg 10Foundation4DateV
+ _symbolic _____Sg 20ServicesIntelligence12TimeProviderC
+ _symbolic _____Sg 20ServicesIntelligence13MediaPlaybackV
+ _symbolic _____Sg 20ServicesIntelligence13MediaProviderC
+ _symbolic _____Sg 20ServicesIntelligence15CommuteProviderC
+ _symbolic _____Sg 20ServicesIntelligence15WorkoutProviderC
+ _symbolic _____Sg 20ServicesIntelligence16AppUsageProviderC
+ _symbolic _____Sg 20ServicesIntelligence16LocationProviderC
+ _symbolic _____Sg 7ToolKit10TypedValueO
+ _symbolic ______p 20ServicesIntelligence7ContentP
+ _symbolic ______pSg 20ServicesIntelligence7ContentP
+ _symbolic _____ySDySSypGG s23_ContiguousArrayStorageC
+ _symbolic _____ySS_____8startRow_Sd0A4TimetG s18_DictionaryStorageC 20ServicesIntelligence9ResultRowV
+ _symbolic _____ySS_____8startRow_Sd13totalDurationSd13lastTimestamptG s18_DictionaryStorageC 20ServicesIntelligence9ResultRowV
+ _symbolic _____ySS_yptG s23_ContiguousArrayStorageC
+ _symbolic _____yShy_____GG 11SeymourCore7PromiseV AA16HealthKitWorkoutV
+ _symbolic _____yShy_____G______pGIeghn_Sg s6ResultOsRi_zRi0_zrlE 11SeymourCore16HealthKitWorkoutV s5ErrorP
+ _symbolic _____y_____G s11_SetStorageC 10Foundation8CalendarV9ComponentO
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 10Foundation8CalendarV9ComponentO
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 20ServicesIntelligence12DayTimeRangeV
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 20ServicesIntelligence13MediaPlaybackV
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 20ServicesIntelligence8AppUsageV
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 20ServicesIntelligence9ResultRowV
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 20ServicesIntelligence9TimeRangeV
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 22IntelligenceFlowShared11ContextTypeO
+ _symbolic _____y_____G s23_ContiguousArrayStorageC s5UInt8V
+ _symbolic _____y______pG s23_ContiguousArrayStorageC 20ServicesIntelligence7ContentP
+ _type_layout_string 20ServicesIntelligence12DayTimeRangeV
+ _type_layout_string 20ServicesIntelligence13ContentResultO
+ _type_layout_string 20ServicesIntelligence13MediaPlaybackV
+ _type_layout_string 20ServicesIntelligence14CommuteContextV
+ _type_layout_string 20ServicesIntelligence17TimeContextFilterV
+ _type_layout_string 20ServicesIntelligence26ContextualContentRetrievalC0D4TypeO
+ _type_layout_string 20ServicesIntelligence26ContextualContentRetrievalC11ContextTypeO
+ _type_layout_string 20ServicesIntelligence26ContextualContentRetrievalC12ContextErrorO
+ _type_layout_string 20ServicesIntelligence26ContextualContentRetrievalC13CommuteFilterV
+ _type_layout_string 20ServicesIntelligence26ContextualContentRetrievalC14LocationFilterV
+ _type_layout_string 20ServicesIntelligence8AppUsageV
+ _type_layout_string 20ServicesIntelligence9ResultRowV
+ _type_layout_string 20ServicesIntelligence9TimeRangeV
- ___unnamed_14
CStrings:
+ "\nAND startTime <= "
+ "\nORDER BY eventTimestamp ASC"
+ " AND bundleID IN ("
+ " AND eventTimestamp <= "
+ " AND title LIKE '%"
+ " ORDER BY eventTimestamp ASC"
+ "$__lazy_storage_$_appUsageProvider"
+ "$__lazy_storage_$_commuteProvider"
+ "$__lazy_storage_$_database"
+ "$__lazy_storage_$_locationProvider"
+ "$__lazy_storage_$_mediaProvider"
+ "$__lazy_storage_$_timeProvider"
+ "$__lazy_storage_$_workoutProvider"
+ "%' AND eventType = '"
+ "%s"
+ "'\nAND endTime >= "
+ "---------- 1. Location check ----------"
+ "---------- 2. Commute check ----------"
+ "---------- 3. Time-based filtering ----------"
+ "/System/Library/SecureAnalytics/integrityDiagnose/"
+ "Current Motion State: %s"
+ "Leveraging the current time / day of week and using a 1 hr time radius"
+ "SELECT eventTimestamp, bundleID, starting\nFROM \"App.InFocus\"\nWHERE eventTimestamp >= "
+ "SELECT eventTimestamp, title, artist, album, playbackState, duration, bundleID, \n       iTunesStoreIdentifier, iTunesArtistIdentifier, iTunesAlbumIdentifier, genre\nFROM \"Media.NowPlaying\"\nWHERE eventTimestamp >= "
+ "SELECT title, startTime, endTime, eventType\nFROM \"Event\" \nWHERE NOT title = 'nil' AND eventType = '"
+ "SELECT title, startTime, endTime, eventType\nFROM \"Event\" \nWHERE title LIKE '%"
+ "Semantic Location: %s"
+ "Time range which will be used to filter content: %s\n"
+ "[AppUsageConsolidator][consolidateAppUsageRows] Skipping row with invalid data: %s"
+ "[AppUsageConsolidator][consolidateAppUsageRows] negative duration for session, skipping: %s"
+ "[AppUsageProvider][getContents] Consolidated into %ld app usage sessions"
+ "[AppUsageProvider][getContents] Got %ld raw app focus events, consolidating usage sessions"
+ "[AppUsageProvider][getContents] Warning: Skipping app usage row with invalid data: %s"
+ "[CommuteProvider][getTimeRanges] Found %ld commute events"
+ "[CommuteProvider][getTimeRanges] Found %ld commute time ranges"
+ "[CommuteProvider][getTimeRanges] Invalid output from IPSQLManager, timestamps not found"
+ "[ContextManager][getContentForContext] Got %ld context time ranges"
+ "[ContextualContentRetrieval][retrieveUsageHistory] Discovering %s in %s for %s"
+ "[IPSQLManager][executeQuery] Query execution failed: %s"
+ "[IPSQLManager][executeQuery] Query returned %ld results"
+ "[LocationProvider][getTimeRanges] Found %ld time ranges for location type: %s"
+ "[LocationProvider][getTimeRanges] Invalid output from IPSQLManager, timestamps not found"
+ "[LocationProvider][getTimeRanges] No locationType specified in context filters"
+ "[MediaPlaybackConsolidator][consolidatePlaybackRows] Skipping row with invalid data: %s"
+ "[MediaProvider][getContents] Consolidated into %ld playback sessions"
+ "[MediaProvider][getContents] Got %ld media results, consolidating playback sessions"
+ "[MediaProvider][getContents] Warning: Skipping media playback row with invalid data: %s"
+ "[TimeProvider][getTimeRanges] No timeContext specified in context filters"
+ "[WorkoutProvider][fetchWorkouts] Found %ld total workouts"
+ "[WorkoutProvider][fetchWorkouts] Returning %ld workouts after filtering"
+ "[WorkoutProvider][getTimeRanges] Warning: Invalid types for startDate or duration in workout data (workout: %s)"
+ "_TtC20ServicesIntelligence12IPSQLManager"
+ "_TtC20ServicesIntelligence12TimeProvider"
+ "_TtC20ServicesIntelligence13MediaProvider"
+ "_TtC20ServicesIntelligence15CommuteProvider"
+ "_TtC20ServicesIntelligence15WorkoutProvider"
+ "_TtC20ServicesIntelligence16AppUsageProvider"
+ "_TtC20ServicesIntelligence16LocationProvider"
+ "_TtC20ServicesIntelligence26ContextualContentRetrieval"
+ "_TtC20ServicesIntelligence26PersonalContextCoordinator"
+ "com.apple.ServicesIntelligence"
+ "com.apple.podcasts"
+ "commute identified as current context.\n"
+ "contextManager"
+ "foregroundDuration"
+ "iTunesAlbumIdentifier"
+ "iTunesArtistIdentifier"
+ "iTunesStoreIdentifier"
+ "integrityDiagnose"
+ "ipsqlManager"
+ "location is home!"
+ "location is work!"
+ "logger"
+ "next"
+ "no commute context identified.\n"
+ "no significant location found!"
+ "personal-context"
+ "podcast"
+ "row"
+ "setDateStyle:"
+ "setTimeStyle:"
+ "start end "
+ "stringFromDate:"
+ "unknown"
+ "useCase"
+ "workoutActivityType"
- "/AppleInternal/Tests/Kabuto/"

```
