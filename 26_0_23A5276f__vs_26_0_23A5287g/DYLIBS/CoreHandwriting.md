## CoreHandwriting

> `/System/Library/PrivateFrameworks/CoreHandwriting.framework/CoreHandwriting`

```diff

-547.0.0.0.0
-  __TEXT.__text: 0x353824
-  __TEXT.__auth_stubs: 0x27c0
+549.0.0.0.0
+  __TEXT.__text: 0x343bbc
+  __TEXT.__auth_stubs: 0x2540
   __TEXT.__init_offsets: 0x4
-  __TEXT.__objc_methlist: 0xddb4
-  __TEXT.__const: 0xd8a0
+  __TEXT.__objc_methlist: 0xdbcc
+  __TEXT.__const: 0xd750
   __TEXT.__dlopen_cstrs: 0x22c
-  __TEXT.__cstring: 0x897f
-  __TEXT.__constg_swiftt: 0x21c
-  __TEXT.__swift5_typeref: 0x21c
-  __TEXT.__swift5_fieldmd: 0x110
-  __TEXT.__swift5_builtin: 0x50
-  __TEXT.__swift5_reflstr: 0xe3
+  __TEXT.__cstring: 0x867e
+  __TEXT.__constg_swiftt: 0x140
+  __TEXT.__swift5_typeref: 0x121
+  __TEXT.__swift5_fieldmd: 0x48
+  __TEXT.__swift5_builtin: 0x3c
+  __TEXT.__swift5_reflstr: 0x33
   __TEXT.__swift5_assocty: 0x60
-  __TEXT.__swift5_proto: 0x34
-  __TEXT.__swift5_types: 0x24
-  __TEXT.__oslogstring: 0x169ef
-  __TEXT.__gcc_except_tab: 0x52848
-  __TEXT.__ustring: 0x28b4
-  __TEXT.__unwind_info: 0xb630
-  __TEXT.__eh_frame: 0x1a8
-  __TEXT.__objc_classname: 0x259c
-  __TEXT.__objc_methname: 0x25b5a
-  __TEXT.__objc_methtype: 0xcb2c
-  __TEXT.__objc_stubs: 0x15100
-  __DATA_CONST.__got: 0x9f8
-  __DATA_CONST.__const: 0x5030
-  __DATA_CONST.__objc_classlist: 0xa10
+  __TEXT.__swift5_proto: 0x30
+  __TEXT.__swift5_types: 0x14
+  __TEXT.__oslogstring: 0x1630a
+  __TEXT.__gcc_except_tab: 0x511ac
+  __TEXT.__ustring: 0x28ca
+  __TEXT.__unwind_info: 0xb2a0
+  __TEXT.__eh_frame: 0x50
+  __TEXT.__objc_classname: 0x254e
+  __TEXT.__objc_methname: 0x25da8
+  __TEXT.__objc_methtype: 0xc995
+  __TEXT.__objc_stubs: 0x151e0
+  __DATA_CONST.__got: 0x9b0
+  __DATA_CONST.__const: 0x4f68
+  __DATA_CONST.__objc_classlist: 0xa08
   __DATA_CONST.__objc_catlist: 0x38
-  __DATA_CONST.__objc_protolist: 0x128
+  __DATA_CONST.__objc_protolist: 0x110
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x63b8
-  __DATA_CONST.__objc_protorefs: 0x10
+  __DATA_CONST.__objc_selrefs: 0x63d8
+  __DATA_CONST.__objc_protorefs: 0x8
   __DATA_CONST.__objc_superrefs: 0x7a0
-  __DATA_CONST.__objc_arraydata: 0x22e8
-  __AUTH_CONST.__auth_got: 0x13f8
-  __AUTH_CONST.__const: 0x4eb8
-  __AUTH_CONST.__cfstring: 0xe9c0
-  __AUTH_CONST.__objc_const: 0x1c940
-  __AUTH_CONST.__objc_dictobj: 0x460
-  __AUTH_CONST.__objc_arrayobj: 0xd98
-  __AUTH_CONST.__objc_intobj: 0x1650
+  __DATA_CONST.__objc_arraydata: 0x22f8
+  __AUTH_CONST.__auth_got: 0x12b8
+  __AUTH_CONST.__const: 0x4d50
+  __AUTH_CONST.__cfstring: 0xe9a0
+  __AUTH_CONST.__objc_const: 0x1c7b8
+  __AUTH_CONST.__objc_dictobj: 0x488
+  __AUTH_CONST.__objc_arrayobj: 0xcc0
+  __AUTH_CONST.__objc_intobj: 0x1590
   __AUTH_CONST.__objc_floatobj: 0x40
   __AUTH_CONST.__objc_doubleobj: 0xe0
-  __AUTH.__objc_data: 0x65f0
-  __AUTH.__data: 0xb0
-  __DATA.__objc_ivar: 0x14b4
-  __DATA.__data: 0x1018
-  __DATA.__bss: 0x1350
+  __AUTH.__objc_data: 0x6480
+  __AUTH.__data: 0x50
+  __DATA.__objc_ivar: 0x14d4
+  __DATA.__data: 0xed0
+  __DATA.__bss: 0x1290
   __DATA.__common: 0x80
   __DATA_DIRTY.__objc_data: 0xf0
   - /System/Library/Frameworks/Accelerate.framework/Accelerate

   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswiftos.dylib
-  UUID: 272CE7E9-F041-3848-987C-A005E8A251F1
-  Functions: 7379
-  Symbols:   1189
-  CStrings:  11215
+  UUID: 772AA69D-10A8-3181-AE9E-6FC1A30AEB1D
+  Functions: 7215
+  Symbols:   1181
+  CStrings:  11161
 
Symbols:
+ _CHTextSynthesisOptionForceInventoryDefaultStyle
- _OBJC_CLASS_$_CHTextSynthesisChunker
- _OBJC_CLASS_$_CHTextSynthesizerInputChunk
- _OBJC_METACLASS_$_CHTextSynthesisChunker
- _OBJC_METACLASS_$_CHTextSynthesizerInputChunk
- __swift_stdlib_reportUnimplementedInitializer
- _swift_arrayInitWithCopy
- _swift_bridgeObjectRelease_n
- _swift_getFunctionReplacement
- _swift_isUniquelyReferenced_nonNull_bridgeObject
CStrings:
+ "@\"CHDiffusionTextSynthesizerLatin\""
+ "@132@0:8@16@24@32B40@44@52q60@68B76B80B84B88B92@96@104@112q120B128"
+ "@140@0:8@16@24@32B40@44@52q60@68B76B80B84B88B92@96@104@112@120q128B136"
+ "@28@0:8B16B20B24"
+ "CHPersonalizedSynthesisState (variant %ld - %@): SupportedInitializing"
+ "CHPersonalizedSynthesisState (variant %ld - %@): SupportedInventoryNotReady"
+ "CHPersonalizedSynthesisState (variant %ld - %@): SupportedNotReady"
+ "CHPersonalizedSynthesisState (variant %ld - %@): SupportedReady"
+ "CHPersonalizedSynthesisState (variant %ld - %@): Unsupported (hasPersonalizedSynthesisSupport: %@, hasHandwritingGenerationAllowed: %@)"
+ "CHSynthesisReplacementRecipe"
+ "CHTextCheckUtils"
+ "CHTextCheckingQuery Spelling correction skipped for token = %{sensitive}@ -> %{sensitive}@ because baseline is slanted:%@ (angle %.2f) token angle doen't match:%@ (token angle %.2f)."
+ "CHTextCheckingQuery grammar correction skipped because principal lines not available or too slanted."
+ "CHTextCheckingQuery: Skipping group with transcription %{sensitive}@ because it has a math result expecting evaluation."
+ "Style Sampling: forcing default styles"
+ "Subtile at position %@ not found when removing stroke %@. Parent tile: %@"
+ "T@\"CHTokenizedResult\",R,C,N"
+ "T@\"NSString\",R,V_replacementString"
+ "TB,N,V_forceInventoryDefaultStyle"
+ "Tq,R,V_synthesisSuggestion"
+ "Unable to create replacement plan for text"
+ "_forceInventoryDefaultStyle"
+ "_replacementString"
+ "_shouldForceInventoryDefaultStyle"
+ "_unsafeSupportsPersonalizationForScript:"
+ "chunkForOneShotReplace"
+ "forceInventoryDefaultStyle"
+ "force_inventory_default_style"
+ "hasTextResult"
+ "initWithOriginalString:replacementString:synthesisSuggestion:"
+ "initWithShouldSkipInventoryLookup:shouldSaveStyleSample:shouldForceInventoryDefaultStyle:"
+ "initWithStyleDrawings:styleContents:stylePredictions:isFastPath:fitWidth:fitHeight:synthesizeCharacterInventoryBehavior:xZeroDrawing:fastPathAsXZero:fastPathUseDefaultStyle:styleInventoryQuery:skipStyleInventoryLookup:saveStyleSample:distanceBetweenDigits:forwardProcessRatio:backwardProcessRatio:seed:synthesisSuggestion:forceInventoryDefaultStyle:"
+ "personalizedStyleSamplesForInputSample:prompt:script:samplingAlgorithm:maxStyleSampleLength:"
+ "planForReplacingText:withText:"
+ "preferredTokenizedResult"
+ "rawTranscriptionForStrokesWithEncodedIdentifiers:contextResults:outLocale:"
+ "rawTranscriptionForStrokesWithIdentifiers:strokeProvider:sessionResult:"
+ "remoteTextSynthesizer"
+ "setForceInventoryDefaultStyle:"
+ "shouldForceInventoryDefaultStyleWithOptions:"
+ "styleSamplesWithDrawings:transcriptions:"
+ "synthesisOptionsWithDrawings:contents:stylePredictions:isFastPath:fitWidth:fitHeight:synthesizeCharacterInventoryBehavior:xZeroDrawing:fastPathAsXZero:fastPathUseDefaultStyle:styleInventoryQuery:skipStyleInventoryLookup:saveStyleSample:forwardProcessRatio:backwardProcessRatio:seed:synthesisSuggestion:forceInventoryDefaultStyle:"
- ", rangeInOriginalString: "
- ", valueOriginal: "
- "@\"<CHDiffusionBasedSynthesizingText><CHSynthesizingTextInternal><_TtP15CoreHandwriting24CHTextSynthesisChunkable_>\""
- "@\"CHSynthesisModelHashes\"16@0:8"
- "@\"MLMultiArray\"40@0:8@\"NSArray\"16@\"NSArray\"24@?<B@?>32"
- "@\"NSDictionary\"24@0:8@\"NSString\"16"
- "@\"NSString\"24@0:8@\"NSString\"16"
- "@128@0:8@16@24@32B40@44@52q60@68B76B80B84B88B92@96@104@112q120"
- "@136@0:8@16@24@32B40@44@52q60@68B76B80B84B88B92@96@104@112@120q128"
- "@24@0:8B16B20"
- "Added complementary text result (score=%0.3f) running text recognition and updated the math result to match text transcription (score=%0.3f) in group %ld."
- "Added complementary text result (score=%0.3f) transliterated from math result (score=%0.3f) in group %ld."
- "BEGIN \"CHDiffusionModelInference\""
- "BEGIN \"CHDiffusionPipelineComputeStyleEmbedding\""
- "BEGIN \"CHDiffusionPipelineRun\""
- "BEGIN \"CHDiffusionSwitchConfiguration\""
- "BEGIN \"CHStyleEncoderModelInference\""
- "CHDiffusionModelInference"
- "CHDiffusionPipelineComputeStyleEmbedding"
- "CHDiffusionPipelineRun"
- "CHDiffusionSwitchConfiguration"
- "CHDiffusionTextSynthesizer::runPipeline contents: %{sensitive}@, styleContent: %{sensitive}@, numStyleDrawings: %lu"
- "CHDiffusionTextSynthesizerLatinLegacy"
- "CHFastPathTextSynthesizer: not all characters in the string have native support. Decompose unsupported unicode characters."
- "CHPersonalizedSynthesisState (variant %ld): SupportedInitializing"
- "CHPersonalizedSynthesisState (variant %ld): SupportedInventoryNotReady"
- "CHPersonalizedSynthesisState (variant %ld): SupportedNotReady"
- "CHPersonalizedSynthesisState (variant %ld): SupportedReady"
- "CHPersonalizedSynthesisState (variant %ld): Unsupported (hasPersonalizedSynthesisSupport: %@, hasHandwritingGenerationAllowed: %@)"
- "CHStyleEncoderModelInference"
- "CHSynthesizingTextInternal"
- "CHTextCheckingQuery Spelling correction skipped for token = %{sensitive}@ -> %{sensitive}@ because baseline is slanted (angle %.2f)."
- "CHTextCheckingQuery: Skipping group with transcription %{sensitive}@ because it has a math result."
- "CHTextSynthesizerInputChunk valueForSynthesis: "
- "Canonical decomposition of %@(%d) is %@"
- "Checking out legacy latin synthesizer"
- "Chunkable"
- "Compatibility decomposition of %@(%d) is %@"
- "CoreHandwriting.CHTextSynthesisChunker"
- "CoreHandwriting.CHTextSynthesizerInputChunk"
- "DiffusionSampler: starting from noise"
- "DiffusionSampler: starting timestep %i with x0 * %1.3f + noise * %1.3f"
- "END \"CHDiffusionModelInference\""
- "END \"CHDiffusionPipelineComputeStyleEmbedding\""
- "END \"CHDiffusionPipelineRun\""
- "END \"CHDiffusionSwitchConfiguration\""
- "END \"CHStyleEncoderModelInference\""
- "Falling back to legacy chunking"
- "Model: An error occurred during denoiser inference: %@"
- "Model: An error occurred during style encoder inference: %@"
- "Model: An error occurred loading a program library: %@"
- "Model: Codemap and points-per-character lookup are expected to have the same size: %lu != %lu"
- "Model: Expected numPoints <= %i but got numPoints=%i"
- "Model: failed to load."
- "Restoring initial chunk indexes error."
- "Synthesizer: Diffusion pipeline is running with forward ratio = %.2f, backward ratio = %.2f"
- "Synthesizer: Init with seed x_0 features length %d"
- "Synthesizer: Predicting style embedding for transcription %{sensitive}@\n"
- "Synthesizer: predictStyleEmbedding received shouldCancel. Aborting prediction process."
- "Synthesizer: replacementTranscription after sanitization (%{sensitive}@) contains %lu unsupported characters"
- "T@\"<_TtP15CoreHandwriting24CHTextSynthesisChunkable_>\",N,R,VsuggestedSynthesizer"
- "T@\"NSString\",N,R"
- "TB,N,R,VisNotDef"
- "T{_NSRange=QQ},N,R,VrangeInOriginalString"
- "Unexpected length=%@ is not divisible by %i"
- "_TtP15CoreHandwriting24CHTextSynthesisChunkable_"
- "chunkWithText:"
- "curFeature"
- "curFeatureLength"
- "init()"
- "initWithCodemapFile:ppcFileName:"
- "initWithFeatureValueDictionary:"
- "initWithShouldSkipInventoryLookup:shouldSaveStyleSample:"
- "initWithStyleDrawings:styleContents:stylePredictions:isFastPath:fitWidth:fitHeight:synthesizeCharacterInventoryBehavior:xZeroDrawing:fastPathAsXZero:fastPathUseDefaultStyle:styleInventoryQuery:skipStyleInventoryLookup:saveStyleSample:distanceBetweenDigits:forwardProcessRatio:backwardProcessRatio:seed:synthesisSuggestion:"
- "initWithSynthesizers:"
- "maximumInputLength"
- "notTransliterate"
- "q24@0:8@\"NSString\"16"
- "removeSubtilePosition:"
- "styleSampleForInputSample:prompt:script:samplingAlgorithm:maxStyleSampleLength:"
- "suggestedSynthesizer"
- "supportedCharacterIndexesWithPreferenceFor:"
- "synthesisOptionsWithDrawings:contents:stylePredictions:isFastPath:fitWidth:fitHeight:synthesizeCharacterInventoryBehavior:xZeroDrawing:fastPathAsXZero:fastPathUseDefaultStyle:styleInventoryQuery:skipStyleInventoryLookup:saveStyleSample:forwardProcessRatio:backwardProcessRatio:seed:synthesisSuggestion:"
- "synthesis_expansion"
- "synthesizers"
- "transliterate:"
- "{unique_ptr<CoreHandwriting::synthesis::CHDiffusionPipeline, std::default_delete<CoreHandwriting::synthesis::CHDiffusionPipeline>>=\"__ptr_\"^{CHDiffusionPipeline}}"

```
