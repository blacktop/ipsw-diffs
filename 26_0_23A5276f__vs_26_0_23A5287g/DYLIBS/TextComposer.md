## TextComposer

> `/System/Library/PrivateFrameworks/TextComposer.framework/TextComposer`

```diff

-157.0.0.0.0
-  __TEXT.__text: 0x12660c
-  __TEXT.__auth_stubs: 0x29f0
-  __TEXT.__objc_methlist: 0x46d8
-  __TEXT.__const: 0x6178
-  __TEXT.__cstring: 0x1218f
-  __TEXT.__gcc_except_tab: 0x1748
-  __TEXT.__ustring: 0x1e5e
-  __TEXT.__oslogstring: 0x5aa0
+161.0.0.0.0
+  __TEXT.__text: 0x129590
+  __TEXT.__auth_stubs: 0x2b10
+  __TEXT.__objc_methlist: 0x4718
+  __TEXT.__const: 0x61b8
+  __TEXT.__cstring: 0x125ef
+  __TEXT.__gcc_except_tab: 0x17b0
+  __TEXT.__ustring: 0x1e62
+  __TEXT.__oslogstring: 0x59b0
   __TEXT.__dlopen_cstrs: 0x5c
-  __TEXT.__swift5_typeref: 0x1c8a
-  __TEXT.__swift5_reflstr: 0xd56
+  __TEXT.__swift5_typeref: 0x1ca8
+  __TEXT.__swift5_reflstr: 0xd76
   __TEXT.__swift5_assocty: 0x2e0
-  __TEXT.__constg_swiftt: 0x2a64
-  __TEXT.__swift5_fieldmd: 0x1df0
+  __TEXT.__constg_swiftt: 0x2a8c
+  __TEXT.__swift5_fieldmd: 0x1e24
   __TEXT.__swift5_proto: 0x4d0
-  __TEXT.__swift5_types: 0x264
+  __TEXT.__swift5_types: 0x268
   __TEXT.__swift5_builtin: 0xc8
   __TEXT.__swift5_mpenum: 0x8
   __TEXT.__swift5_protos: 0x18
-  __TEXT.__swift_as_entry: 0x5d8
-  __TEXT.__swift_as_ret: 0x6bc
-  __TEXT.__swift5_capture: 0x9f8
-  __TEXT.__unwind_info: 0x4e40
-  __TEXT.__eh_frame: 0x9578
+  __TEXT.__swift_as_entry: 0x5dc
+  __TEXT.__swift_as_ret: 0x6c4
+  __TEXT.__swift5_capture: 0xa44
+  __TEXT.__unwind_info: 0x4ee8
+  __TEXT.__eh_frame: 0x9620
   __TEXT.__objc_classname: 0xa10
-  __TEXT.__objc_methname: 0xed38
-  __TEXT.__objc_methtype: 0x1cb5
-  __TEXT.__objc_stubs: 0x8ce0
-  __DATA_CONST.__got: 0x988
-  __DATA_CONST.__const: 0x2018
+  __TEXT.__objc_methname: 0xee3d
+  __TEXT.__objc_methtype: 0x1cee
+  __TEXT.__objc_stubs: 0x8da0
+  __DATA_CONST.__got: 0x9b8
+  __DATA_CONST.__const: 0x2048
   __DATA_CONST.__objc_classlist: 0x640
   __DATA_CONST.__objc_protolist: 0x70
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x29b0
+  __DATA_CONST.__objc_selrefs: 0x29e0
   __DATA_CONST.__objc_protorefs: 0x28
   __DATA_CONST.__objc_superrefs: 0x1f8
   __DATA_CONST.__objc_arraydata: 0x1d50
-  __AUTH_CONST.__auth_got: 0x1508
-  __AUTH_CONST.__const: 0x6bc0
-  __AUTH_CONST.__cfstring: 0xc380
+  __AUTH_CONST.__auth_got: 0x1598
+  __AUTH_CONST.__const: 0x6c98
+  __AUTH_CONST.__cfstring: 0xc440
   __AUTH_CONST.__objc_const: 0xdc30
   __AUTH_CONST.__objc_arrayobj: 0x648
   __AUTH_CONST.__objc_dictobj: 0x5a0
   __AUTH_CONST.__objc_intobj: 0x4b0
   __AUTH_CONST.__objc_doubleobj: 0x40
   __AUTH.__objc_data: 0x3068
-  __AUTH.__data: 0x4b48
+  __AUTH.__data: 0x4bd0
   __DATA.__objc_ivar: 0x45c
-  __DATA.__data: 0xe80
-  __DATA.__bss: 0x7620
-  __DATA.__common: 0xd8
+  __DATA.__data: 0xe98
+  __DATA.__bss: 0x7670
+  __DATA.__common: 0xf0
   __DATA_DIRTY.__objc_data: 0x798
   __DATA_DIRTY.__data: 0x69
   __DATA_DIRTY.__bss: 0x1f0

   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 328DB5A2-6604-3E91-9D22-38F27DAB46F1
-  Functions: 6953
-  Symbols:   718
-  CStrings:  5658
+  UUID: 6132B17C-9F88-3D73-957D-D10552C98162
+  Functions: 7029
+  Symbols:   719
+  CStrings:  5695
 
Symbols:
+ _TCTextCompositionAssistantOptionKeyProofreadingRetainList
+ _objc_retain_x10
- _strlen
CStrings:
+ "\t-"
+ " completed with possible error"
+ "\" "
+ "%@ \n"
+ "@80@0:8@16@24@32Q40@48@56@64^@72"
+ "@88@0:8@16@24@32{_NSRange=QQ}40@56@64@72@80"
+ "Additional instructions language check failed. Instructions not in supported language"
+ "B112@0:8@16{_NSRange=QQ}24@40@48{_NSRange=QQ}56@72@80@88@96@104"
+ "B72@0:8@16@24@32@40@48@56@64"
+ "B88@0:8@16@24@32@40@48@56@64@72@80"
+ "Calling completion handler with nil"
+ "Calling generative function"
+ "Calling generative function for questionnaire"
+ "Calling generative functions layer"
+ "Constructed smart action follow up context history: %{sensitive}@"
+ "Constructed smart action intent context history: %{sensitive}@"
+ "Context before cursor:  %{sensitive}@"
+ "Generation failed with error"
+ "Generative functions layer returned result"
+ "Input payload modified"
+ "Input rejection block - no removal or replacement will be done"
+ "Invoked short form smart responses (smart actions) for document type: %@"
+ "Invoked short form smart responses (smart replies) for document type: %@"
+ "Invoked short form smart responses (smart replies, smart actions) for document type: %@"
+ "Model invocation timed out after 1 minute"
+ "Output flagged by safety"
+ "Output rejection block - no removal or replacement will be done"
+ "Parsed smart action follow up action text from model output: %{sensitive}@"
+ "Parsed smart action follow up poll options from model output: %{sensitive}@"
+ "Parsed smart actions intent model output:\n%{sensitive}@"
+ "Prompt is too long - bailing early."
+ "ProofreadingRetainList"
+ "Raw smart action follow up model output: %{sensitive}@"
+ "Raw smart action intent model output: %{sensitive}@"
+ "Returning result"
+ "SmartResponses"
+ "Sorted message history:\n%{sensitive}@"
+ "Submitting questionnaire task with token: "
+ "Submitting task with token: "
+ "Task cancelled, no results will be returned"
+ "Task cancelled, no results will be sent up"
+ "Task with token: "
+ "Valid message history:\n%{sensitive}@"
+ "[TCTextCompositionAssistant] : %s,\nerrorDescription: %{private}s,\nrequestID: %{private}s,\nmodelType: %{private}ld"
+ "[TCTextCompositionAssistant] : %s,\nrequestID: %{private}s,\nmodelType: %{private}ld"
+ "[TCTextCompositionAssistant] : Failed to build prompt (token: %lu)"
+ "[TCTextCompositionAssistant] : Model provided output - calling handler (type: long form reply, token: %lu)"
+ "[TCTextCompositionAssistant] : Model provided output - calling handler (type: questionnaire, token: %lu)"
+ "[TCTextCompositionAssistant] : Model provided output - calling handler (type: short form reply, token: %lu)"
+ "[TCTextCompositionAssistant] : No cached response  was found"
+ "[TCTextCompositionAssistant] : No cached response  was found - and client asked to respond only if cached - will return empty"
+ "[TCTextCompositionAssistant] : No token provided for long form replies - created one (token: %lu)"
+ "[TCTextCompositionAssistant] : No token provided for questionnaire - created one (token: %lu)"
+ "[TCTextCompositionAssistant] : No token provided for short form replies - created one (token: %lu)"
+ "[TCTextCompositionAssistant] : Possible Error in model invocation (token: %lu)"
+ "[TCTextCompositionAssistant] : Successfully constructed prompt for long form replies"
+ "[TCTextCompositionAssistant] : Successfully constructed prompt for long form smart replies"
+ "[TCTextCompositionAssistant] : Successfully constructed prompt for short form replies"
+ "[TCTextCompositionAssistant] : Successfully constructed questionnaire prompt (token: %lu)"
+ "[TCTextCompositionAssistant] : Token provided for long form replies (token: %lu)"
+ "[TCTextCompositionAssistant] : Token provided for questionnaire (token: %lu)"
+ "[TCTextCompositionAssistant] : Token provided for short form replies (token: %lu)"
+ "[TCTextCompositionAssistant] : mail SR QA: User is not a primary recipient or user is in cc list - not eligible"
+ "_matchForRetainList:inputText:outputText:tagger:preferredLanguage:"
+ "_setNeedsToReleaseMemory"
+ "addGrammarCheckingDetailsForRewrittenString:originalString:originalAttributedString:originalSentenceRanges:tagger:preferredLanguage:writingOptions:retainList:toDictionary:"
+ "addGrammarCheckingDetailsForRewrittenString:sentenceRange:originalString:originalAttributedString:sentenceRange:tagger:preferredLanguage:writingOptions:retainList:toDictionary:"
+ "com.apple.TextComposer.TCTextCompositionAssistantInstanceCounter"
+ "com.apple.generativeexperiencesd"
+ "detailDictionaryForTokenDifferenceManager:difference:originalAttributedString:sentenceRange:tagger:preferredLanguage:writingOptions:retainList:"
+ "messageEntriesAsStringArray:"
+ "promptLookupDraftSteps "
+ "releaseDictionaries"
+ "retainListForOptions:resultOptions:"
+ "sharedCheckerIfAlreadyExists"
+ "shouldAcceptDetailForTokenDifferenceManager:difference:originalAttributedString:tagger:preferredLanguage:writingOptions:retainList:"
+ "textCheckingResultsForRewrittenString:originalString:originalAttributedString:offset:preferredLanguage:writingOptions:retainList:error:"
- "@72@0:8@16@24@32Q40@48@56^@64"
- "B104@0:8@16{_NSRange=QQ}24@40@48{_NSRange=QQ}56@72@80@88@96"
- "B64@0:8@16@24@32@40@48@56"
- "B80@0:8@16@24@32@40@48@56@64@72"
- "Invoked short form smart responses for smart actions for document type: %@"
- "Invoked short form smart responses for smart replies and smart actions for document type: %@"
- "Invoked short form smart responses for smart replies for document type: %@"
- "[TCTextCompositionAssistant] : Instructions will not be processed"
- "[TCTextCompositionAssistant] : Invalid model output: no candidates or segments returned by model"
- "[TCTextCompositionAssistant] : Invalid model output: response cannot be parsed as questionnaire entries"
- "[TCTextCompositionAssistant] : Invalid model output: response is nil for unknown reason"
- "[TCTextCompositionAssistant] : Invalid model output: segment content is not text"
- "[TCTextCompositionAssistant] : No cached  response  was found"
- "[TCTextCompositionAssistant] : No cached  response  was found - and client asked to respond only if cached - will return empty"
- "[TCTextCompositionAssistant] : No requestID/token provided - will create one. "
- "[TCTextCompositionAssistant] : Successfully constructed prompt "
- "[TCTextCompositionAssistant] : additional instructions language check failed"
- "[TCTextCompositionAssistant] : calling generative function "
- "[TCTextCompositionAssistant] : input payload modified"
- "[TCTextCompositionAssistant] : input rejection block - no removal or replacement will be done"
- "[TCTextCompositionAssistant] : mail SR QA: User is not a  primary recipient or user is in cc list - not eligible "
- "[TCTextCompositionAssistant] : model invocation timed out after 1 minute"
- "[TCTextCompositionAssistant] : no %s: payload flagged by safety"
- "[TCTextCompositionAssistant] : output flagged by safety"
- "[TCTextCompositionAssistant] : output modified"
- "[TCTextCompositionAssistant] : output rejection block - no removal or replacement will be done"
- "[TCTextCompositionAssistant] : prompt is too long - bailing early."
- "[TCTextCompositionAssistant] : promptLookupDraftSteps %ld"
- "[TCTextCompositionAssistant] : token ID for task: %lu"
- "[TCTextCompositionAssistant]: Generation failed with error"
- "[TCTextCompositionAssistant]: Generation failed with error:%s"
- "[TCTextCompositionAssistant]: Sumbmitting Task with token: %lu"
- "[TCTextCompositionAssistant]: Task cancelled, no results will be sent up"
- "[TCTextCompositionAssistant]: Task with token: %lu completed"
- "[TCTextCompositionAssistant]: Task with token: %lu completed with possible error"
- "[TCTextCompositionAssistant]: Task with token: %lu completed with possible error:%s"
- "[TCTextCompositionAssistant]: calling completion handler with nil"
- "[TCTextCompositionAssistant]: calling generative functions layer:"
- "[TCTextCompositionAssistant]: produced result"
- "[TCTextCompositionAssistant]: returning result"
- "[TCTextCompositionAssistant]:Task cancelled, no results will be sent up"
- "addGrammarCheckingDetailsForRewrittenString:originalString:originalAttributedString:originalSentenceRanges:tagger:preferredLanguage:writingOptions:toDictionary:"
- "addGrammarCheckingDetailsForRewrittenString:sentenceRange:originalString:originalAttributedString:sentenceRange:tagger:preferredLanguage:writingOptions:toDictionary:"
- "detailDictionaryForTokenDifferenceManager:difference:originalAttributedString:sentenceRange:tagger:preferredLanguage:writingOptions:"
- "shouldAcceptDetailForTokenDifferenceManager:difference:originalAttributedString:tagger:preferredLanguage:writingOptions:"
- "textCheckingResultsForRewrittenString:originalString:originalAttributedString:offset:preferredLanguage:writingOptions:error:"

```
