## com.apple.MobileSoftwareUpdate.CleanupPreparePathService

> `/System/Library/PrivateFrameworks/MobileSoftwareUpdate.framework/XPCServices/com.apple.MobileSoftwareUpdate.CleanupPreparePathService.xpc/com.apple.MobileSoftwareUpdate.CleanupPreparePathService`

```diff

-2422.0.31.502.1
-  __TEXT.__text: 0x286c4
-  __TEXT.__auth_stubs: 0x1620
-  __TEXT.__objc_stubs: 0x3760
+2422.0.56.0.2
+  __TEXT.__text: 0x28aac
+  __TEXT.__auth_stubs: 0x1640
+  __TEXT.__objc_stubs: 0x3740
   __TEXT.__objc_methlist: 0x16fc
-  __TEXT.__cstring: 0x105cb
+  __TEXT.__cstring: 0x10b6e
   __TEXT.__const: 0x1220
   __TEXT.__oslogstring: 0x1c6
   __TEXT.__gcc_except_tab: 0x4c8
   __TEXT.__objc_classname: 0x1b8
-  __TEXT.__objc_methname: 0x3b5d
+  __TEXT.__objc_methname: 0x3b47
   __TEXT.__objc_methtype: 0xdfc
-  __TEXT.__unwind_info: 0x8f0
-  __DATA_CONST.__auth_got: 0xb20
+  __TEXT.__unwind_info: 0x900
+  __DATA_CONST.__auth_got: 0xb30
   __DATA_CONST.__got: 0x2e8
   __DATA_CONST.__auth_ptr: 0x38
-  __DATA_CONST.__const: 0x1460
-  __DATA_CONST.__cfstring: 0x9c80
+  __DATA_CONST.__const: 0x1498
+  __DATA_CONST.__cfstring: 0x9ec0
   __DATA_CONST.__objc_classlist: 0xa8
   __DATA_CONST.__objc_catlist: 0x8
   __DATA_CONST.__objc_protolist: 0x18

   __DATA_CONST.__objc_arraydata: 0xb8
   __DATA_CONST.__objc_arrayobj: 0x60
   __DATA.__objc_const: 0x1f70
-  __DATA.__objc_selrefs: 0x1140
+  __DATA.__objc_selrefs: 0x1138
   __DATA.__objc_ivar: 0x16c
   __DATA.__objc_data: 0x690
   __DATA.__data: 0x4d8
-  __DATA.__bss: 0x650
+  __DATA.__bss: 0x660
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreServices.framework/CoreServices
   - /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony

   - /usr/lib/liblzma.5.dylib
   - /usr/lib/libobjc.A.dylib
   - /usr/lib/libpartition2_dynamic.dylib
-  UUID: 2F59DF14-DD6F-3E59-8F95-A2632D388DAB
-  Functions: 791
-  Symbols:   5742
-  CStrings:  4113
+  UUID: E4CB310E-B008-31D1-8487-B850E70346DE
+  Functions: 795
+  Symbols:   5769
+  CStrings:  4154
 
Symbols:
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventCheckpoint.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventCleanup.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventRecorder.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventShim.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventSubmitter.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(DevNodeWriter.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(IODualSPIWriter.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(IOServiceWriter.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(MSUBootFirmwareError.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(MSUBootFirmwareUpdater.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(PCIeNANDBootWriter.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(MSUCheckpointAsyncBlockContext.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(MSUCheckpointAsyncContext.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_checkpoint.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_error.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_iokit_helpers.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_lib.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_log.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_nvram.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_splat.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_update.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libpartition.a(AMRestorePartition.o)
+ /AppleInternal/Library/BuildRoots/4~B4WdugBXmS99ergDuCAjjJ-Caxd9-yn4KLrD0BU/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libpartition.a(partition.o)
+ __56-[UMEventRecorder submitEventsInBackground:withOptions:]_block_invoke.693
+ ___msu_should_save_env_info_for_recovery_block_invoke
+ __block_literal_global.372
+ __block_literal_global.558
+ __rotateRestoreLogFD
+ __storeIpsWithMode
+ _handle_MSUSaveBootedOSState
+ _objc_release_x26
+ _objc_release_x28
+ _saveBootedOSState
+ _saveCurrentBootedOSStateForRecoveryModes
+ msu_should_save_env_info_for_recovery.cold.1
+ msu_should_save_env_info_for_recovery.onceToken
+ msu_should_save_env_info_for_recovery.shouldSaveEnv
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventCheckpoint.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventCleanup.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventRecorder.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventShim.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/lib/libUpdateMetrics.a(UMEventSubmitter.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(DevNodeWriter.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(IODualSPIWriter.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(IOServiceWriter.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(MSUBootFirmwareError.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(MSUBootFirmwareUpdater.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libMSUBootFirmwareUpdater.a(PCIeNANDBootWriter.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(MSUCheckpointAsyncBlockContext.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(MSUCheckpointAsyncContext.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_checkpoint.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_error.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_iokit_helpers.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_lib.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_log.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_nvram.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_splat.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libRamrodUpdateBrain.a(ramrod_update.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libpartition.a(AMRestorePartition.o)
- /AppleInternal/Library/BuildRoots/4~B3ZaugAxEBw_BtYPBYieCAioOZgwuCroMbSNtkA/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/lib/libpartition.a(partition.o)
- __56-[UMEventRecorder submitEventsInBackground:withOptions:]_block_invoke.696
- __block_literal_global.349
- _objc_msgSend$cStringUsingEncoding:
- _rotateRestoreLogFD
- _saveCurrentEnvInfoForNeRD
- _store_ips_with_mode
CStrings:
+ "%s: failed to decode migratorMetrics, reporting encoded metrics instead"
+ "AdditionalBootedOSData"
+ "BooteOSDREBrainAssetURL"
+ "BootedOSDREBrainAssetAudience"
+ "Failed to determine language code for device\n"
+ "Failed to get asset audience for the DeviceRecoveryBrain asset\n"
+ "Failed to get asset audience for the SoftwareUpdate asset\n"
+ "Failed to save BootedOSState to update volume"
+ "Failed to save the booted OS state"
+ "SU configuration:\n Asset Audience : %@\n SU Asset URL: %@\n Brain URL: %@\n Documentation URL: %@\n WatchDocumentation URL: %@\n DeviceRecoveryBrain Asset Audience: %@\n DeviceRecoveryBrain URL: %@\n"
+ "SaveBootedOSState"
+ "Stashing launguageCode %@ to BootedOSState file\n"
+ "Successfully saved the booted OS state"
+ "Unable to determine DeviceRecoveryBrain asset URL: %@\n"
+ "[MSUSaveBootedOSState]: Additional info to be saved: %@\n"
+ "[MSUSaveBootedOSState]: Failed to save BootedOSState\n"
+ "[MSUSaveBootedOSState]: Handling request to save BootedOSState\n"
+ "[MSUSaveBootedOSState]: Saving only default BootedOSState info\n"
+ "[MSUSaveBootedOSState]: Successfully saved BootedOSState\n"
+ "[SaveEnvInfoForRecovery]: Failed to allocate buffer to read OS environment value. Assuming regular OS\n"
+ "[SaveEnvInfoForRecovery]: Running in DeviceRecovery/BaseSystem environment. Should not save environment info\n"
+ "[SaveEnvInfoForRecovery]: Running in NeRD. should not save environment info\n"
+ "[SaveEnvInfoForRecovery]: Running in regular OS environment\n"
+ "[SaveEnvInfoForRecovery]: Unable to determine OS environment(%s). Assuming regular OS\n"
+ "[SaveEnvInfoForRecovery]: Unable to determine size of OS environment variable(%s). Assuming regular OS\n"
+ "com.apple.MobileAsset.DeviceRecoveryBrain"
+ "com.apple.MobileSoftwareUpdate.restore-log-submission"
+ "device-recovery"
+ "hw.osenvironment"
- "%s: bad decoded metrics"
- "%s: failed to find APFSDecodeMetricsString, reporting encoded metrics"
- "Failed to get device locale\n"
- "Failed to get pallas audience\n"
- "SU configuration:\n Asset Audience : %@\n SU Asset URL: %@\n Brain URL: %@\n Documentation URL: %@\n WatchDocumentation URL: %@\n"
- "cStringUsingEncoding:"

```
