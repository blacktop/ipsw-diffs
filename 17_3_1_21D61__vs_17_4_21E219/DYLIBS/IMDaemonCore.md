## IMDaemonCore

> `/System/Library/PrivateFrameworks/IMDaemonCore.framework/IMDaemonCore`

```diff

-1262.400.41.2.3
-  __TEXT.__text: 0x1bcc20
-  __TEXT.__auth_stubs: 0x3510
-  __TEXT.__objc_methlist: 0xe53c
-  __TEXT.__const: 0x1808
-  __TEXT.__gcc_except_tab: 0x13b70
-  __TEXT.__cstring: 0xf9a1
-  __TEXT.__oslogstring: 0x30e4e
+1262.500.151.2.4
+  __TEXT.__text: 0x1c04c8
+  __TEXT.__auth_stubs: 0x35b0
+  __TEXT.__objc_methlist: 0xe6dc
+  __TEXT.__const: 0x1888
+  __TEXT.__gcc_except_tab: 0x13bbc
+  __TEXT.__cstring: 0xffe1
+  __TEXT.__oslogstring: 0x31198
   __TEXT.__ustring: 0x328
   __TEXT.__dlopen_cstrs: 0xa7
-  __TEXT.__swift5_typeref: 0xb1e
-  __TEXT.__constg_swiftt: 0x98c
-  __TEXT.__swift5_reflstr: 0x5ab
-  __TEXT.__swift5_fieldmd: 0x61c
+  __TEXT.__swift5_typeref: 0xb64
+  __TEXT.__constg_swiftt: 0x9d0
+  __TEXT.__swift5_reflstr: 0x5db
+  __TEXT.__swift5_fieldmd: 0x638
   __TEXT.__swift5_builtin: 0xb4
-  __TEXT.__swift5_assocty: 0x228
-  __TEXT.__swift5_capture: 0x9b4
-  __TEXT.__swift5_proto: 0xb4
-  __TEXT.__swift5_types: 0x98
+  __TEXT.__swift5_assocty: 0x240
+  __TEXT.__swift5_capture: 0x9a8
+  __TEXT.__swift5_proto: 0xc4
+  __TEXT.__swift5_types: 0x9c
   __TEXT.__swift5_protos: 0xc
-  __TEXT.__unwind_info: 0x83e4
-  __TEXT.__eh_frame: 0x12f8
-  __TEXT.__objc_classname: 0x22d4
-  __TEXT.__objc_methname: 0x3501f
-  __TEXT.__objc_methtype: 0x71f5
-  __TEXT.__objc_stubs: 0x22480
-  __DATA_CONST.__got: 0x12a0
-  __DATA_CONST.__const: 0x49a8
-  __DATA_CONST.__objc_classlist: 0x5a0
-  __DATA_CONST.__objc_catlist: 0xa8
-  __DATA_CONST.__objc_protolist: 0x4d8
+  __TEXT.__unwind_info: 0x84f8
+  __TEXT.__eh_frame: 0x1320
+  __TEXT.__objc_classname: 0x22db
+  __TEXT.__objc_methname: 0x35754
+  __TEXT.__objc_methtype: 0x7372
+  __TEXT.__objc_stubs: 0x22820
+  __DATA_CONST.__got: 0x12e0
+  __DATA_CONST.__const: 0x4978
+  __DATA_CONST.__objc_classlist: 0x598
+  __DATA_CONST.__objc_catlist: 0xb0
+  __DATA_CONST.__objc_protolist: 0x4e0
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_const: 0x16550
-  __DATA_CONST.__objc_selrefs: 0xa4d8
+  __DATA_CONST.__objc_const: 0x167f0
+  __DATA_CONST.__objc_selrefs: 0xa600
+  __DATA_CONST.__objc_protorefs: 0x178
+  __DATA_CONST.__objc_classrefs: 0xd18
+  __DATA_CONST.__objc_superrefs: 0x3d0
   __DATA_CONST.__objc_arraydata: 0x98
-  __AUTH_CONST.__cfstring: 0xa340
-  __AUTH_CONST.__objc_const: 0x4450
-  __AUTH_CONST.__const: 0x4368
-  __AUTH_CONST.__objc_intobj: 0x6c0
+  __AUTH_CONST.__cfstring: 0xa560
+  __AUTH_CONST.__objc_const: 0x4400
+  __AUTH_CONST.__const: 0x4418
+  __AUTH_CONST.__objc_intobj: 0x6d8
   __AUTH_CONST.__objc_arrayobj: 0xd8
   __AUTH_CONST.__objc_floatobj: 0x10
-  __AUTH_CONST.__auth_got: 0x1a98
-  __AUTH.__objc_data: 0x1bb8
-  __AUTH.__data: 0x398
-  __DATA.__objc_protorefs: 0x178
-  __DATA.__objc_classrefs: 0xd20
-  __DATA.__objc_superrefs: 0x3d8
-  __DATA.__objc_ivar: 0xaf4
+  __AUTH_CONST.__auth_got: 0x1ae8
+  __AUTH.__objc_data: 0x1878
+  __AUTH.__data: 0x250
+  __DATA.__objc_ivar: 0xb04
   __DATA.__objc_data: 0x20
-  __DATA.__data: 0x3608
-  __DATA.__bss: 0x1700
-  __DATA.__common: 0x90
-  __DATA_DIRTY.__objc_data: 0x2300
-  __DATA_DIRTY.__data: 0x538
-  __DATA_DIRTY.__bss: 0x6e0
-  __DATA_DIRTY.__common: 0x60
+  __DATA.__data: 0x3758
+  __DATA.__bss: 0x1900
+  __DATA.__common: 0x30
+  __DATA_DIRTY.__objc_data: 0x2608
+  __DATA_DIRTY.__data: 0x748
+  __DATA_DIRTY.__bss: 0x6c8
+  __DATA_DIRTY.__common: 0xc0
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/AudioToolbox.framework/AudioToolbox
   - /System/Library/Frameworks/CloudKit.framework/CloudKit

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: EA424873-B24F-3C8B-BC77-ADEAC2A103B6
-  Functions: 7535
-  Symbols:   2066
-  CStrings:  14813
+  UUID: 2E26F519-BAD3-3F36-A40F-98ED2F2BAF18
+  Functions: 7612
+  Symbols:   2075
+  CStrings:  14944
 
Symbols:
+ _IMBagBoolValueWithDefault
+ _IMCloudKitAttachmentDownloadCompletedDate
+ _IMCloudKitFirstRestoreAttemptedDate
+ _IMCloudKitFirstRestoreCompletionDate
+ _IMCloudKitSyncCancelled
+ _IMCloudKitTotalAttachmentCount
+ _IMCloudKitTotalChatCount
+ _IMCloudKitTotalLocalRecordCount
+ _IMCloudKitTotalMessageCount
+ _IMCloudKitTotalServerCount
+ _IMDAttachmentRecordMarkAttachmentWithROWIDWithSyncState
+ _IMDChatGroupParticipantVersionKey
+ _IMMetricsCollectorEventMICAttachmentsToWriteRecordCount
+ _IMMetricsCollectorEventMICAttachmentsToWriteRecurseCount
+ _IMMetricsCollectorEventMICAttachmentsToWriteRecursion
+ ___exp10
+ _log10
- _IMBalloonPluginIdentifierDT
- _IMCloudKitDefinesEnableMiCByDefaultBagKey
- _IMCloudKitDefinesSyncAfterIdentityUpdatePhaseKey
- _IMCloudKitTotalDatabaseCount
- _IMDAttachmentRecordMarkAttachmentWithROWIDAsFailedToUploadToCloudKit
- _OBJC_CLASS_$_IMDLegacyDTController
- _OBJC_METACLASS_$_IMDLegacyDTController
- _swift_setDeallocating
CStrings:
+ "\x012"
+ "*** All the records we fetched to write had problems, fetching next batch ***"
+ "**** failed to create CKRecord from IMTransfer guid %@, marking row %lld as failed to upload ***"
+ "******** Marking attachment %@ (rowid %@) as forever failed to upload, as we could not find an associated message"
+ "******** Marking attachment as failed to upload, as we could not update it's guid %@ (rowid %@)"
+ "******** Marking attachment with final failure, as we could not update it's guid %@ (rowid %@)"
+ "<IMFindAccountProcessingPipelineComponent> Failed to find service session for replicated message with source service %@ replicating account %@ (email alias: %@)"
+ "@36@0:8q16i24^@28"
+ "AMB-BIALastUsedReferenceID"
+ "AMB-BIAUserIDs"
+ "Asked to send dictionary to device: %@, send type: %lu, dict: %@"
+ "BIA userID not provided. Early return."
+ "BIAContext"
+ "BusinessInitiatedAlertSpam"
+ "Checking new active list: %@, against previous active list: %@"
+ "Checking to see if we should resume an MiC Sync"
+ "Could not fetch salt due to error %@ aborting cleaning up MOC"
+ "Device is mac, and on by default is disabled for mac"
+ "Done fetching latest salt after unlock, fetched %@ error %@"
+ "Enable MiC by default: shouldAttemptMiCOnByDefault %d default(%@) %@"
+ "Error deleting alternate live photo component: %@"
+ "Error fetching exit record %@, aborting"
+ "Error fetching salt record %@, aborting"
+ "Fatal error"
+ "Fetched salt %@, error %@"
+ "Finished repairing a batch of duplicate chats"
+ "ForceInvalidCredentials"
+ "IMDBadgeUtilitiesQueue"
+ "IMDCKAccountStatusLoggedInWithInvalidCredentials"
+ "IMDChorosControllerObserver"
+ "Insufficient space allocated to copy string contents"
+ "Marking nickname %@ as current for handle %@"
+ "Missing chat service name at insert"
+ "Missing chat service name at load"
+ "MissingChatService"
+ "Negative value is not representable"
+ "No bag value for %@ present return YES"
+ "No chat record zone ID present!"
+ "No handle ID provided for nickname %@"
+ "No salt record fetched, aborting"
+ "Not accepting moment share hasChat: %@"
+ "Not accepting moment share, both isFromKnownSender (%@) and shouldAccept (%@) must be true"
+ "Not enough bits to represent the passed value"
+ "Q68@0:8@16C24@28@36@44B52B56Q60"
+ "Received identical ignoredList. Ignoring."
+ "Removing attachments that failed guid conversion"
+ "Resetting fetch state for assets (afterRow to nil)"
+ "Saving new active list: %@, after previous active list: %@"
+ "Sending active records diff: %@"
+ "Successfully deleted alternate live photo component."
+ "Suppressed: Broadcasting lastFailedMessageDateChanged"
+ "Suppressed: Broadcasting unreadCountChanged"
+ "Suppressed: Rebuilding lastFailedMessageDateChanged"
+ "Suppressed: Rebuilding/Broadcasting unreadCountChanged"
+ "Swift/ContiguousArrayBuffer.swift"
+ "Swift/Integers.swift"
+ "Swift/StringTesting.swift"
+ "Swift/StringUTF8View.swift"
+ "Swift/UnsafeBufferPointer.swift"
+ "Swift/UnsafePointer.swift"
+ "Swift/UnsafeRawPointer.swift"
+ "Sync.fetch.RampState"
+ "T@\"CKRecordZoneID\",R,N"
+ "T@\"NSMutableSet\",&,N,V_observers"
+ "T@\"NSString\",?,R,C"
+ "T@\"NSString\",?,R,N"
+ "TB,N,V_deleteConversation"
+ "TB,N,V_isEmergencySOS"
+ "TB,N,V_isStewieActive"
+ "Unexpectedly found nil while unwrapping an Optional value"
+ "UnsafeMutableBufferPointer with negative count"
+ "UnsafeMutablePointer.initialize overlapping range"
+ "UnsafeMutablePointer.initialize with negative count"
+ "UnsafeMutablePointer.moveInitialize with negative count"
+ "UnsafeMutableRawPointer.initializeMemory overlapping range"
+ "Updated Chat Properties for BIA"
+ "User is not eligibile for onboarding tip since local count %lld > size threshold %lld"
+ "User is under threshold of %lld database record count with %lld local count, eligible for onboarding tip"
+ "We got a pending nickname photo to handle %@"
+ "[IMCreateIMDChat] Chat was missing a service when being inserted into the database."
+ "[IMCreateIMDChat] Chat was missing a service when loaded from the database."
+ "_compareDuplicateChatsWithFirstChat:secondChat:"
+ "_copyDuplicateChatsArrayWithLimit:"
+ "_copyGroupedDuplicateChatsSortedFromWinningToLosingWithLimit:"
+ "_deleteConversation"
+ "_isEmergencySOS"
+ "_isStewieActive"
+ "_isUnexpectedlyLoggedOut"
+ "_markAttachmentWithROWID:withSyncState:"
+ "_observers"
+ "_primaryAccountCountryCode"
+ "_repairMissingServiceName"
+ "_repairUnregisteredChatIfNeeded"
+ "_reportMessageDictionaryForMessages:withLastAddressedHandle:maxMessageLength:isAutoReport:withChat:maxMessagesToReport:totalMessageCount:isJunkReportedToCarrier:reportReason:iMessageReportSpamDictionaries:textMessageReportSpamDictionaries:"
+ "_reportMessageDictionaryForMessages:withLastAddressedHandle:maxMessageLength:isAutoReport:withChat:maxMessagesToReport:totalMessageCount:notifyInternalSecurity:isJunkReportedToCarrier:reportReason:iMessageReportSpamDictionaries:textMessageReportSpamDictionaries:"
+ "_storeChat:updateProtectedProperties:"
+ "_updateAttachmentGUIDIfNeededAndReturnTransfersMarkedWithFailStatus:transfersToSyncRowIDs:"
+ "_updateBadgeForLastFailedMessageDateChangeIfNeeded:"
+ "_updateBadgeForUnreadCountChangeIfNeeded:"
+ "a"
+ "addBIAContextWithUserID:referenceID:"
+ "addObserver:"
+ "afterRow"
+ "alternate live photo path could not be found from a path that was deemed a live photo."
+ "appleIDCountryCodeForAccount:"
+ "attemptToResumeSyncOnAccountUpdateIfAppropriate"
+ "attemptToResumeSyncOnIdentityUpdateIfAppropriate"
+ "batchOfRecordsToWriteWithLimit:recurseCount:error:"
+ "broadcastingQueue"
+ "bucket"
+ "cancelSync:"
+ "checkIfUnexpectedlyLoggedOut"
+ "clearFailureBadge"
+ "closeSessionChatID:identifier:didDeleteConversation:style:"
+ "closeSessionChatID:identifier:didDeleteConversation:style:account:"
+ "closeSessionForChat:chatGUID:didDeleteConversation:style:"
+ "copyDuplicateGroupChatRecordsWithLimit:"
+ "copyDuplicateGroupChatsWithLimit:"
+ "deleteBIAContext"
+ "deleteConversation"
+ "hasFinishedAssetDownloadSync"
+ "hasValidCredentials"
+ "im_isLivePhoto"
+ "im_livePhotoImagePath"
+ "invalid Collection: less than 'count' elements in collection"
+ "isEmergencySOS"
+ "markAsSpamForIDs:style:onServices:chatID:queryID:autoReport:isJunkReportedToCarrier:reportReason:"
+ "markChatAsSpamWithGUID:chatIdentifiers:style:services:isAutoReport:isJunkReportedToCarrier:reportReason:reply:"
+ "messageForTransferGUID failed to get a message record for transfer %@"
+ "messageForTransferGUID:shouldLoadAttachments:"
+ "mic-check-size-cohort-conditions"
+ "mic-check-size-cohort-conditions bag key is false, so skipping size cohort check"
+ "mic-min-onboard-check-version"
+ "mic-size-cohort-database-count-threshold"
+ "no-signup"
+ "noZoneIDPresent"
+ "noteItemFromStorage:extendsStorageTimer:"
+ "observers"
+ "offensive-content"
+ "primaryAccountCountryCode"
+ "primaryAuthKitAccount"
+ "q24@?0@8@16"
+ "report-spam-reason"
+ "reportMessageDictionariesForMessages:withLastAddressedHandle:maxMessageLength:isAutoReport:withChat:maxMessagesToReport:totalMessageCount:notifyInternalSecurity:isJunkReportedToCarrier:reportReason:iMessageReportSpamDictionaries:textMessageReportSpamDictionaries:"
+ "requestGroupPhotoIfNecessary:incomingParticipantVersion:incomingGroupPhotoCreationTime:toIdentifier:fromIdentifier:messageIsFromStorage:"
+ "resetFetchStateForAssets"
+ "restoreEnd"
+ "restoreStart"
+ "retryGroupPhotoUpload:toChatID:identifier:style:account:isPhotoRefresh:"
+ "roundToSignificantDigit:"
+ "satisfiesSizeCohortConditionsWithReply:"
+ "satisfiesSizeCohortConditionsWithStats:"
+ "sendGroupPhotoUpdate:toChatID:identifier:style:account:isPhotoRefresh:"
+ "serverPreventsOnboardingRamp"
+ "serverPreventsOnboardingWithReply:"
+ "setAfterRow:"
+ "setDeleteConversation:"
+ "setIsEmergencySOS:"
+ "setIsStewieActive:"
+ "setObservers:"
+ "setSyncCancelled:"
+ "shouldAttemptMiCOnByDefault"
+ "stewieEnabledStateDidChange:"
+ "stop-request-ignored"
+ "syncCancelled"
+ "too-many-messages"
+ "updateBadgeInCaseOfMistakenLoginInvalidation"
+ "updateLegacyTransferGUIDOn:andUpdateMessageIfNeeded:transfersToSync:"
+ "v100@0:8@16@24Q32B40@44Q52^Q60B68B72Q76@84@92"
+ "v24@0:8@?<v@?BQ>16"
+ "v40@0:8@\"NSString\"16@\"NSString\"24B32C36"
+ "v40@0:8@16@24B32C36"
+ "v48@0:8@\"NSString\"16@\"NSString\"24B32C36@\"NSString\"40"
+ "v48@0:8@16@24B32C36@40"
+ "v56@0:8@\"NSString\"16@\"NSString\"24@\"NSString\"32C40@\"NSString\"44B52"
+ "v56@0:8@16@24@32C40@44B52"
+ "v60@0:8@\"IMDChat\"16q24@\"NSNumber\"32@\"NSString\"40@\"NSString\"48B56"
+ "v60@0:8@16q24@32@40@48B56"
+ "v68@0:8@\"NSString\"16@\"NSArray\"24C32@\"NSArray\"36B44B48Q52@?<v@?Q>60"
+ "v68@0:8@16@24C32@36B44B48Q52@?60"
+ "v96@0:8@16@24Q32B40@44Q52^Q60B68Q72@80@88"
+ "writeToURL:options:error:"
+ "wrong-recipient"
- "**** failed to create CKRecord from IMTransfer guid %@, marking as failed to upload ***"
- "******** Marking attachment as synced up, as we could not update it's guid %@ (rowid %@)"
- "2"
- "<IMFindAccountProcessingPipelineComponent> Failed to find service session for replicated message with source service %@ replicating account %@"
- "Backfill"
- "Command disabled by server bag: %ld"
- "Command manually enabled (%@) using default: %@"
- "Could not fetch salt, aborting cleaning up MOC"
- "Could not find suitable session to process message %@"
- "Created new DT message %@"
- "Done fetching latest salt after unlock"
- "Enable MiC by default: bag %@ default(%@) %@"
- "Fetched salt %@"
- "Got senderID %@"
- "IMDLegacyDTController"
- "IMDLegacyDTController No data %@ or fromID %@ on DT message. Bailing early"
- "IMDLegacyDTController could not get senderID from fromID:%@"
- "Loaded dtService: %@"
- "Marking nickname %@ as current"
- "Not accepting moment share as the URL was marked as not to automatically accept"
- "Not accepting moment share hasChat: %@ isFromKnownSender %@"
- "Periodic"
- "Processed chat with empty servicename, set to %@"
- "Processed message %@ with session  %@"
- "Received incoming DT message service %@ account %@ [data length] %@ fromID %@ context %@"
- "Resuming %@ sync, succeeded %@"
- "Suppressed: Broadcasting lastFailedMessageDateChanged with new value: %lld "
- "Suppressed: Broadcasting unreadCountChanged with new value: %lld "
- "Suppressed: Rebuilding lastFailedMessageDateChanged with new value: %lld "
- "Suppressed: Rebuilding/Broadcasting unreadCountChanged with new value: %lld "
- "T@\"IDSService\",&,N,V_dtService"
- "_dtService"
- "_markAttachmentWithROWIDAsFailedToUploadToCloudKit:"
- "_markAttachmentWithROWIDAsSyncedWithCloudKit:"
- "_randomTemporaryPathWithFileName:"
- "_reportMessageDictionaryForMessages:withLastAddressedHandle:maxMessageLength:isAutoReport:withChat:maxMessagesToReport:totalMessageCount:isJunkReportedToCarrier:iMessageReportSpamDictionaries:textMessageReportSpamDictionaries:"
- "_reportMessageDictionaryForMessages:withLastAddressedHandle:maxMessageLength:isAutoReport:withChat:maxMessagesToReport:totalMessageCount:notifyInternalSecurity:isJunkReportedToCarrier:iMessageReportSpamDictionaries:textMessageReportSpamDictionaries:"
- "_senderIDFromToken could not split into legitimate components %@"
- "_senderIDFromToken invalid input"
- "_senderIDFromToken:"
- "_updateBadgeAndCancelPreviousUpdate"
- "_updateLegacyTransferGUIDOn:andUpdateMessageIfNeeded:transfersToSync:"
- "closeSessionChat:style:"
- "closeSessionChatID:identifier:style:"
- "closeSessionChatID:identifier:style:account:"
- "com.apple.private.alloy.electrictouch"
- "didReceiveDisplayNameChange:fromID:toIdentifier:forChat:style:account:sender:"
- "dtService"
- "enable-blastdoor-%ld"
- "findDuplicateChats:"
- "findDuplicateUnnamedGroups:"
- "initWithRecordName:"
- "isUserSafetyFrameworkEnabled"
- "reportMessageDictionariesForMessages:withLastAddressedHandle:maxMessageLength:isAutoReport:withChat:maxMessagesToReport:totalMessageCount:notifyInternalSecurity:isJunkReportedToCarrier:iMessageReportSpamDictionaries:textMessageReportSpamDictionaries:"
- "requestGroupPhotoIfNecessary:incomingGroupPhotoCreationTime:toIdentifier:fromIdentifier:messageIsFromStorage:"
- "resumeSyncUsingKey:"
- "setDtService:"
- "updateLastUsedBIAReferenceID:"
- "updateLastUsedBIAUserID:"
- "updateLegacyTransferGUID failed to get a matching record"
- "v20@?0B8@\"NSDictionary\"12"
- "v52@0:8@\"IMDChat\"16@\"NSNumber\"24@\"NSString\"32@\"NSString\"40B48"
- "v52@0:8@16@24@32@40B48"
- "v68@0:8@16@24@32@40C48@52@60"
- "v88@0:8@16@24Q32B40@44Q52^Q60B68@72@80"
- "v92@0:8@16@24Q32B40@44Q52^Q60B68B72@76@84"

```
