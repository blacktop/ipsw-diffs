## akd

> `/System/Library/PrivateFrameworks/AuthKit.framework/akd`

```diff

-466.7.15.0.0
-  __TEXT.__text: 0x122328
-  __TEXT.__auth_stubs: 0x1730
-  __TEXT.__objc_stubs: 0x148e0
-  __TEXT.__objc_methlist: 0x76a4
-  __TEXT.__const: 0x1b50
-  __TEXT.__cstring: 0xb068
-  __TEXT.__objc_classname: 0x15bc
-  __TEXT.__objc_methname: 0x1c9b4
-  __TEXT.__objc_methtype: 0x4fee
-  __TEXT.__gcc_except_tab: 0x1a30
-  __TEXT.__oslogstring: 0x16d3d
-  __TEXT.__swift5_typeref: 0xca4
-  __TEXT.__swift5_fieldmd: 0x4b4
+466.23.1.1.0
+  __TEXT.__text: 0x125950
+  __TEXT.__auth_stubs: 0x17d0
+  __TEXT.__objc_stubs: 0x14fc0
+  __TEXT.__objc_methlist: 0x786c
+  __TEXT.__const: 0x1c60
+  __TEXT.__cstring: 0xb888
+  __TEXT.__objc_classname: 0x15fc
+  __TEXT.__objc_methname: 0x1d138
+  __TEXT.__objc_methtype: 0x5048
+  __TEXT.__gcc_except_tab: 0x1afc
+  __TEXT.__oslogstring: 0x177c3
+  __TEXT.__dlopen_cstrs: 0xbc
+  __TEXT.__swift5_typeref: 0xc90
+  __TEXT.__swift5_fieldmd: 0x4c0
   __TEXT.__constg_swiftt: 0x814
   __TEXT.__swift5_reflstr: 0x3e9
   __TEXT.__swift5_assocty: 0xd8
-  __TEXT.__swift5_capture: 0x710
+  __TEXT.__swift5_capture: 0x6f8
   __TEXT.__swift5_builtin: 0x3c
   __TEXT.__swift5_proto: 0x78
   __TEXT.__swift5_types: 0x7c
   __TEXT.__swift5_protos: 0x8
-  __TEXT.__unwind_info: 0x3818
-  __TEXT.__eh_frame: 0x2ff0
-  __DATA_CONST.__auth_got: 0xba8
-  __DATA_CONST.__got: 0xc90
+  __TEXT.__unwind_info: 0x39f4
+  __TEXT.__eh_frame: 0x30c8
+  __DATA_CONST.__auth_got: 0xbf8
+  __DATA_CONST.__got: 0xce8
   __DATA_CONST.__auth_ptr: 0x98
-  __DATA_CONST.__const: 0xa558
-  __DATA_CONST.__cfstring: 0x5dc0
-  __DATA_CONST.__objc_classlist: 0x5a0
+  __DATA_CONST.__const: 0xa028
+  __DATA_CONST.__cfstring: 0x60c0
+  __DATA_CONST.__objc_classlist: 0x5b8
   __DATA_CONST.__objc_catlist: 0x28
   __DATA_CONST.__objc_protolist: 0x220
   __DATA_CONST.__objc_imageinfo: 0x8
+  __DATA_CONST.__objc_protorefs: 0x98
+  __DATA_CONST.__objc_classrefs: 0xa90
+  __DATA_CONST.__objc_superrefs: 0x360
   __DATA_CONST.__objc_doubleobj: 0x10
-  __DATA_CONST.__objc_intobj: 0x210
-  __DATA.__objc_const: 0x1b700
-  __DATA.__objc_selrefs: 0x5fa0
-  __DATA.__objc_protorefs: 0x98
-  __DATA.__objc_classrefs: 0xa78
-  __DATA.__objc_superrefs: 0x360
-  __DATA.__objc_ivar: 0x8d4
-  __DATA.__objc_data: 0x4260
-  __DATA.__data: 0x2418
-  __DATA.__bss: 0x1240
-  __DATA.__common: 0xec
+  __DATA_CONST.__objc_intobj: 0x240
+  __DATA.__objc_const: 0x1b9a0
+  __DATA.__objc_selrefs: 0x6158
+  __DATA.__objc_ivar: 0x8e4
+  __DATA.__objc_data: 0x4358
+  __DATA.__data: 0x2518
+  __DATA.__bss: 0x12c0
+  __DATA.__common: 0x144
   - /System/Library/Frameworks/Accounts.framework/Accounts
+  - /System/Library/Frameworks/CFNetwork.framework/CFNetwork
   - /System/Library/Frameworks/Combine.framework/Combine
   - /System/Library/Frameworks/CoreBluetooth.framework/CoreBluetooth
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  Functions: 5458
-  Symbols:   1056
-  CStrings:  7970
+  Functions: 5608
+  Symbols:   1077
+  CStrings:  8154
 
Symbols:
+ _$sSw10copyMemory4fromySW_tF
+ _$ss17_assertionFailure__4file4line5flagss5NeverOs12StaticStringV_A2HSus6UInt32VtF
+ _$ss18_fatalErrorMessage__4file4line5flagss5NeverOs12StaticStringV_A2HSus6UInt32VtF
+ _AK3PRegulatoryOverrideKey
+ _AKAttestationErrorDomain
+ _AKBeneficiaryInfoKeychainAccessGroup
+ _AKContinutationKeyGenKey
+ _AKEphemeralAuthKey
+ _AKInformationBeneficiaryWrappedKeyKey
+ _AKShortLivedTokenKey
+ _SecKeyCreateSignature
+ ___exp10
+ _kAAFFlowIdString
+ _kAAFTestSignatureString
+ _kCFErrorDomainCFNetwork
+ _kSecKeyAlgorithmECDSASignatureMessageX962SHA256
+ _os_eligibility_get_all_domain_answers
+ _os_eligibility_get_domain_answer
+ _swift_endAccess
+ _sysctlbyname
+ _xpc_dictionary_apply
+ _xpc_uint64_get_value
- _$sSS9hashValueSivg
CStrings:
+ "\x01E)\x1f\x0e\x1f\t"
+ "\t%@(%@)\n"
+ "%@:%ld"
+ "%s: Failed to fetch info with error: %@"
+ "-[AKUserInfoController _fetchUserInformationWithContext:client:dataCenter:completion:]_block_invoke"
+ "-[AKUserInfoController fetchAuthModeWithContext:client:completion:]_block_invoke"
+ "3prs"
+ "3prsd"
+ "@\"AKDBAACheckIn\""
+ "@40@0:8@16^{__SecKey={__CFRuntimeBase=QAQ}^{__SecKeyDescriptor}^v}24^@32"
+ "AKBeneficiaryUpdater"
+ "AKDBAACheckIn"
+ "AKRegulatoryEligibilityHandler"
+ "B24@?0r*8@\"NSObject<OS_xpc_object>\"16"
+ "Begin observing eligibility status change."
+ "Begin reporting for BAA reliability"
+ "Beneficiary wrapped keys added to keychain."
+ "Chance win. Posting BAA analytics."
+ "Client %@ default access level in SiwA entitlement"
+ "Client %@ underage-users access level in SiwA entitlement"
+ "Created radar with result (%i)"
+ "Daemon is fetching apple owned domain"
+ "Daemon is fetching native takeover urls"
+ "Daemon is returning apple owned domain"
+ "Daemon is returning native takeover urls"
+ "DawnBurstE+: BAA error during signing"
+ "DeviceIdentity does not support BAA. No analytics."
+ "DeviceIdentityCreateHostSignature"
+ "DeviceIdentityIsSupported"
+ "DeviceIdentityIssueClientCertificateWithCompletion"
+ "DeviceListStoreManager - Cache is not supported for context - %@"
+ "Eligibilities check failed with error code: %{private}d"
+ "Eligibility check failed with error code: %{private}d"
+ "Eligibility check returned answer: %lld"
+ "Eligibility check returned answers."
+ "Ephermeral auth - Skipping metrics report."
+ "Errored while trying to use cached certs. Will retry"
+ "Failed to BAA, error: %@"
+ "Failed to BAA, failed to generate signature: %@"
+ "Failed to BAA, failed to generate signature: unknown error!"
+ "Failed to BAA, unknown error!"
+ "Failed to add wrapped keys to keychain: %@"
+ "Failed to delete Keychain item: %@"
+ "Failed to generate host signatures: %@"
+ "Failed to save wrapped key in keychain with error:  %@"
+ "Failed to sign using BAA. Error: %@"
+ "Finish Aurora reporting for BAA reliability. Reportdata - %@"
+ "Handling eligiblity darwin notification."
+ "IdMS config blocks BAA analytics."
+ "Insufficient space allocated to copy string contents"
+ "Internal build. Posting BAA analytics."
+ "Liveness is for the iTunes regulatory account. Fetching eligibility."
+ "NSOSStatusErrorDomain"
+ "Network error. Retrying auth once..."
+ "No authKit account found - Skipping metrics report."
+ "No devices found for context: %@"
+ "No error but no signature either. Host signing was unsuccessful"
+ "Not a HSA2 or MAID account - Skipping metrics report."
+ "Not a iCloud service auth - Skipping metrics report."
+ "Passkey cleanup eligibility check failed - didn't meet passkey eligibility criteria"
+ "Posted analytics for BAA"
+ "Private email service deallocated"
+ "Private email service initialized with client id %@"
+ "Regulatory eligibility received. Adding to liveness body."
+ "Remove wrappedKey from beneficiaryInfo"
+ "Removing wrappedKey from beneficiaryInfo and adding it to beneficiaryUUIDWrappedKeyDictionary. For UUID: %@"
+ "Reporting  %@ is not supported for non-prod environments"
+ "Require shortLived token - Skipping metrics report."
+ "Resetting scopes %@ for underage user."
+ "Sampling rate from IdMS is 0. No analytics."
+ "Sending permission request"
+ "Setting server provided context from context - %@"
+ "Skipping TTR for error - %@"
+ "Skipping regulatory eligibility check since there is no primary AuthKit account"
+ "Start creating deleted_device_list table if not exists"
+ "Stop observing eligibility status change."
+ "Storing beneficiaryUUIDWrappedKeyDictionary in keychain"
+ "Successfully read push token from keychain."
+ "Successfully wrote push token to keychain."
+ "Swift/ContiguousArrayBuffer.swift"
+ "Swift/StringTesting.swift"
+ "Swift/StringUTF8View.swift"
+ "Swift/UnsafeBufferPointer.swift"
+ "Swift/UnsafePointer.swift"
+ "Swift/UnsafeRawBufferPointer.swift"
+ "Swift/UnsafeRawPointer.swift"
+ "T@\"NSNumber\",R,N,V_thirdPartyRegulatoryOverride"
+ "T@\"NSString\",?,R,C"
+ "T@\"NSString\",R,N,V_authorizationAccessLevel"
+ "TB,R,N,V_isSiwaForChildEnabled"
+ "The error is already TTR'ed by this device. Ignoring."
+ "Triggering liveness to report latest eligibility"
+ "Trying TTR for error signature - %@"
+ "Unable to establishing connection with notification center, client is missing required entitlement!"
+ "Unexpectedly found nil while unwrapping an Optional value"
+ "UnsafeMutableBufferPointer with negative count"
+ "UnsafeMutablePointer.initialize overlapping range"
+ "UnsafeMutablePointer.initialize with negative count"
+ "UnsafeMutablePointer.moveInitialize with negative count"
+ "UnsafeMutableRawBufferPointer.copyMemory source has too many elements"
+ "UnsafeMutableRawPointer.initializeMemory overlapping range"
+ "_authorizationAccessLevel"
+ "_authorizationAccessLevels"
+ "_baaOptionsUsingCacheOnly:"
+ "_beginObservingRegulatoryEligibilityChangeNotification"
+ "_beneficiaryWrappedKeyKeychainDescriptor"
+ "_buildNumber"
+ "_errorForTesting1"
+ "_errorForTesting2"
+ "_errorForTesting3"
+ "_isKnownSkippableError:"
+ "_isSiwaForChildEnabled"
+ "_isVirtualMachine"
+ "_matchingServiceAccountForAuthKitAccount:service:"
+ "_postInternalAnalyticsForBAA"
+ "_reportBAASigningForEvent:"
+ "_reportCriticalAuthTokensTelemetryForContext:serverResponse:"
+ "_reportTokenWithTelemetryID:account:telemetryFlowID:error:"
+ "_sendPermissionRequestWithCompletion:"
+ "_shouldProceedWithAanalytics"
+ "_signAndReportHostSigningForVirtualMachinesUsingCachedCerts:flowID:completion:"
+ "_signAndReportSampleDataWithCachedCerts:analyticsEvent:flowID:completion:"
+ "_signatureForData:withReferenceKey:error:"
+ "_signatureForError:"
+ "_skippableErrorForTesting"
+ "_stopObservingRegulatoryEligibilityChangeNotification"
+ "_thirdPartyRegulatoryOverride"
+ "_ttrForError:"
+ "_updateAnalyticsEvent:withError:"
+ "ak-baa-ttr-messages"
+ "ak_allUnderlyingErrors"
+ "ak_base64EncodedJsonFromObject:"
+ "ams_isRegulatoryAccount"
+ "baaSigningSamplingRate"
+ "chanceInOptionsCountUsingTenExponent:"
+ "checkInAnalytics"
+ "com.apple.MobileActivation.ErrorDomain"
+ "com.apple.authkit.baa-analytics"
+ "com.apple.authkit.baa.signing"
+ "com.apple.authkit.baa.signing.cached"
+ "com.apple.authkit.baa.signing.host"
+ "com.apple.authkit.token.ck.create"
+ "com.apple.authkit.token.hb.create"
+ "com.apple.authkit.token.prk.create"
+ "com.apple.os-eligibility-domain.change"
+ "configurationValueForKey:"
+ "credentialWithError:"
+ "deviceListResponse(with:serviceController:)"
+ "get3PRegulatoryOverride:"
+ "has"
+ "hasSiwaDefaultEntitlementAccess"
+ "hasSiwaEntitlement"
+ "hasSiwaUnderageEntitlementAccess"
+ "initWithStoreManager:cdpFactory:accountManager:client:"
+ "invalid Collection: less than 'count' elements in collection"
+ "isBAAAnalyticsDisabled"
+ "isSiwaEnabled"
+ "isSiwaEnabledForChildAccount:"
+ "isSiwaForChildEnabled"
+ "isTiburonU13Enabled"
+ "kMAOptionsBAAKeychainAccessGroup"
+ "kMAOptionsBAAKeychainLabel"
+ "kMAOptionsBAAOIDDeviceOSInformation"
+ "kMAOptionsBAAOIDSToInclude"
+ "kMAOptionsBAAOIDUCRTDeviceIdentifiers"
+ "kMAOptionsBAASCRTAttestation"
+ "kMAOptionsBAASkipNetworkRequest"
+ "kMAOptionsBAAValidity"
+ "kern.hv_vmm_present"
+ "lastObject"
+ "regulatoryEligibilities"
+ "regulatoryEligibility"
+ "removeWrappedKeyFrom:"
+ "reportData"
+ "reportRegulatoryEligibilityStatusToIdMS"
+ "sample"
+ "sample-domain"
+ "saveWrappedKeyInKeychain:"
+ "sendAnalyticsForBAAWithCompletion:"
+ "set3PRegulatoryOverride:forAccount:"
+ "setBeneficiaryLastModified:forAccount:"
+ "setConfigurationValue:forKey:"
+ "setIsSiwaEnabled:forChildAccount:"
+ "setIsSiwaForChildEnabled:"
+ "setThirdPartyRegulatoryOverride:"
+ "setUserAgeRange:"
+ "setValue:forKey:"
+ "shouldReportMetricsForAccount:clientProvidedData:"
+ "softlink:r:path:/System/Library/PrivateFrameworks/AppleMediaServices.framework/AppleMediaServices"
+ "softlink:r:path:/System/Library/PrivateFrameworks/DeviceIdentity.framework/DeviceIdentity"
+ "super-domain"
+ "super-domain1"
+ "super-domain2"
+ "super-domain3"
+ "thirdPartyRegulatoryOverride"
+ "underage-users"
+ "v32@?0@\"NSError\"8Q16^B24"
+ "v32@?0^{__SecKey={__CFRuntimeBase=QAQ}^{__SecKeyDescriptor}^v}8@\"NSArray\"16@\"NSError\"24"
+ "|"
- "\x015)\x1f\x0e\x1f\b"
- "\x06"
- "DeviceListStoreManager - No idms account found for altDSID - %s"
- "DeviceListStoreManager - failed to save device list version & cache offset for account - %@ with error - %@"
- "Failed to fetch info with error: %@"
- "Handling a client with authorization level: %@"
- "Passkey cleanup eligibility check failed - didn't meet passkey eligiblity criteria"
- "X-Apple-Ephemeral-Auth"
- "ckgen"
- "deletedDevicesCacheExpiryOffset"
- "fetchDeviceListFromServer(with:serviceController:accountManager:)"
- "initWithStoreManager:cdpFactory:accountManager:"
- "setBeneficaryLastModified:forAccount:"
- "setDeletedDevicesCacheExpiryOffset:forAccount:"
- "slt"

```
