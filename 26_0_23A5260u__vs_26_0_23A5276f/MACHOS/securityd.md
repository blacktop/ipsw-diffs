## securityd

> `/usr/libexec/securityd`

```diff

-61901.0.9.0.1
-  __TEXT.__text: 0x2581e0
-  __TEXT.__auth_stubs: 0x4240
-  __TEXT.__objc_stubs: 0x1c4a0
-  __TEXT.__objc_methlist: 0x15248
-  __TEXT.__const: 0x859
-  __TEXT.__objc_methname: 0x2c0ea
+61901.0.33.0.2
+  __TEXT.__text: 0x259198
+  __TEXT.__auth_stubs: 0x4250
+  __TEXT.__objc_stubs: 0x1c4e0
+  __TEXT.__objc_methlist: 0x152d0
+  __TEXT.__const: 0x869
+  __TEXT.__objc_methname: 0x2c238
   __TEXT.__cstring: 0x20db9
-  __TEXT.__oslogstring: 0x2cbfb
-  __TEXT.__swift5_typeref: 0x3a4
+  __TEXT.__oslogstring: 0x2cc40
+  __TEXT.__swift5_typeref: 0x37a
   __TEXT.__swift5_fieldmd: 0x120
   __TEXT.__constg_swiftt: 0x274
   __TEXT.__swift5_reflstr: 0xc3

   __TEXT.__swift_as_entry: 0x40
   __TEXT.__swift_as_ret: 0x3c
   __TEXT.__dlopen_cstrs: 0x170
-  __TEXT.__gcc_except_tab: 0xb600
-  __TEXT.__objc_classname: 0x2346
-  __TEXT.__objc_methtype: 0xa388
+  __TEXT.__gcc_except_tab: 0xb6b4
+  __TEXT.__objc_classname: 0x2378
+  __TEXT.__objc_methtype: 0xa3ce
   __TEXT.__ustring: 0x28
-  __TEXT.__unwind_info: 0x6708
-  __TEXT.__eh_frame: 0xa18
-  __DATA_CONST.__auth_got: 0x2130
-  __DATA_CONST.__got: 0x1290
-  __DATA_CONST.__auth_ptr: 0x1d0
-  __DATA_CONST.__const: 0x14058
-  __DATA_CONST.__cfstring: 0x1b0a0
-  __DATA_CONST.__objc_classlist: 0x8b8
+  __TEXT.__unwind_info: 0x6720
+  __TEXT.__eh_frame: 0xa30
+  __DATA_CONST.__auth_got: 0x2138
+  __DATA_CONST.__got: 0x1338
+  __DATA_CONST.__auth_ptr: 0x1d8
+  __DATA_CONST.__const: 0x14000
+  __DATA_CONST.__cfstring: 0x1b060
+  __DATA_CONST.__objc_classlist: 0x8c0
   __DATA_CONST.__objc_catlist: 0x68
-  __DATA_CONST.__objc_protolist: 0x238
+  __DATA_CONST.__objc_protolist: 0x240
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0x70
-  __DATA_CONST.__objc_superrefs: 0x7f8
-  __DATA_CONST.__objc_intobj: 0x12f0
+  __DATA_CONST.__objc_superrefs: 0x800
+  __DATA_CONST.__objc_intobj: 0x12d8
   __DATA_CONST.__objc_arraydata: 0x3f8
   __DATA_CONST.__objc_dictobj: 0x78
   __DATA_CONST.__objc_arrayobj: 0x360
-  __DATA.__objc_const: 0x228b0
-  __DATA.__objc_selrefs: 0x9298
-  __DATA.__objc_ivar: 0x1a04
-  __DATA.__objc_data: 0x5a28
-  __DATA.__data: 0x2260
+  __DATA.__objc_const: 0x229f0
+  __DATA.__objc_selrefs: 0x92b0
+  __DATA.__objc_ivar: 0x1a10
+  __DATA.__objc_data: 0x5a78
+  __DATA.__data: 0x22c8
   __DATA.__thread_vars: 0xc0
   __DATA.__thread_bss: 0x28
-  __DATA.__bss: 0xe80
+  __DATA.__bss: 0xe78
   - /AppleInternal/Library/Frameworks/TapToRadarKit.framework/TapToRadarKit
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CloudKit.framework/CloudKit

   - /usr/lib/swift/libswiftCoreLocation.dylib
   - /usr/lib/swift/libswiftCoreMIDI.dylib
   - /usr/lib/swift/libswiftCoreMedia.dylib
-  - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib

   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
-  - /usr/lib/swift/libswift_DarwinFoundation1.dylib
-  - /usr/lib/swift/libswift_DarwinFoundation2.dylib
-  - /usr/lib/swift/libswift_DarwinFoundation3.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 18A3CA7C-5E8B-3489-958A-EF36644BD169
-  Functions: 9622
-  Symbols:   1756
-  CStrings:  19465
+  UUID: 92FF590C-D092-3B9A-A16F-9C830F6B3604
+  Functions: 9629
+  Symbols:   1775
+  CStrings:  19471
 
Symbols:
+ _$s17CloudCoreInternal21SessionReadinessErrorO22accountUnauthenticatedyA2CmFWC
+ _$s17CloudCoreInternal26SessionInvalidationContextVs23CustomStringConvertibleAAMc
+ _$ss23CustomStringConvertibleP11descriptionSSvgTj
+ _kCloudServicesErrorDomain
+ _kSecurityRTCEventNameEvaluateTLKShares
+ _kSecurityRTCFieldCKKSFetchBecauseAPIFetchRequest
+ _kSecurityRTCFieldCKKSFetchBecauseAPNS
+ _kSecurityRTCFieldCKKSFetchBecauseCurrentItemFetchRequest
+ _kSecurityRTCFieldCKKSFetchBecauseInitialStart
+ _kSecurityRTCFieldCKKSFetchBecauseKeyHierarchy
+ _kSecurityRTCFieldCKKSFetchBecauseKeySetFetchRequest
+ _kSecurityRTCFieldCKKSFetchBecauseMoreComing
+ _kSecurityRTCFieldCKKSFetchBecauseOctagonPairingComplete
+ _kSecurityRTCFieldCKKSFetchBecausePeriodicRefetch
+ _kSecurityRTCFieldCKKSFetchBecausePreviousFetchFailed
+ _kSecurityRTCFieldCKKSFetchBecauseResolvingConflict
+ _kSecurityRTCFieldCKKSFetchBecauseResync
+ _kSecurityRTCFieldCKKSFetchBecauseSEAPIFetchRequest
+ _kSecurityRTCFieldCKKSFetchBecauseTesting
+ _kSecurityRTCFieldNumDeletionsFetched
+ _kSecurityRTCFieldNumModificationsFetched
+ _kSecurityRTCFieldNumPeersMissingShares
+ _kSecurityRTCFieldNumTLKSharesEvaluated
+ _kSecurityRTCFieldNumZonesReverseSyncing
+ _kSecurityRTCFieldPeersEvaluatedForTLKShares
- _OBJC_CLASS_$_OTEscrowMoveRequestContext
- __swift_FORCE_LOAD_$_swiftDarwin
- __swift_FORCE_LOAD_$_swift_DarwinFoundation1
- __swift_FORCE_LOAD_$_swift_DarwinFoundation2
- __swift_FORCE_LOAD_$_swift_DarwinFoundation3
- _kSecurityRTCFieldNumKeychainItems
CStrings:
+ "%s going for session invalidation"
+ "%s setting nil databases"
+ "<HealthCheckResult: postRepairCFU: %@, postEscrowCFU: %@, resetOctagon: %@, leaveTrust: %@, reroll: %@, totalEscrowRecords: %llu, collectableEscrowRecords: %llu, collectedEscrowRecords: %llu, escrowRecordGarbageCollectionEnabled: %@, totalTlkShares: %llu, collectableTlkShares: %llu, collectedTlkShares: %llu, tlkShareGarbageCollectionEnabled: %@, totalPeers: %llu, trustedPeers: %llu, superfluousPeers: %llu, peersCleanedup: %llu, superfluousPeersCleanupEnabled: %@>"
+ "@\"<OTSecureBackupAdapter>\""
+ "@128@0:8B16B20B24B28B32Q36Q44Q52B60Q64Q72Q80B88Q92Q100Q108Q116B124"
+ "@152@0:8@16@24@32@40@48@56@64@72#80#88#96#104@112@120@128@136@144"
+ "@176@0:8@16@24@32@40@48@56@64@72@80@88@96@104@112@120@128@136#144#152#160@168"
+ "@188@0:8@16@24@32@40@48@56@64@72@80@88@96@104@112@120@128#136#144@152@160B168B172B176@180"
+ "@60@0:8@16@24@32@40B48^@52"
+ "Application Identifier"
+ "B40@0:8@\"NSString\"16@\"NSString\"24^@32"
+ "Completing without cancelling pending operations"
+ "Finished processing the outgoing queue: %@"
+ "Invalidation Context Get: Getting Invalidation Context as:  %{private}s"
+ "Invalidation Context Set: Setting Invalidation Context to %{private}s"
+ "OTSecureBackupActualAdapter"
+ "OTSecureBackupAdapter"
+ "Returning after successfully acquiring a session"
+ "Returning from cuttlefish trust check call: postRepairCFU(%d), postEscrowCFU(%d), resetOctagon(%d), leaveTrust(%d), reroll(%d), results=%@"
+ "Session Invalidation Handler: Might be missing DBs reference %@"
+ "Session Invalidation Handler: NOT Setting up session reinit"
+ "Setting Up operation for CKSyncEnginesInit"
+ "T@\"<OTSecureBackupAdapter>\",&,V_secureBackupAdapter"
+ "T@\"<OTSecureBackupAdapter>\",R,V_secureBackupAdapter"
+ "T@\"ACAccountStore\",&,V_store"
+ "Trying reinit sync engines after acquiring a session"
+ "Unable to perform escrow check"
+ "_secureBackupAdapter"
+ "ckksFetchBecauseMap"
+ "createMissingKeyShares:peers:databaseProvider:altDSID:sendMetric:error:"
+ "createMissingKeyShares:trustStates:databaseProvider:altDSID:sendMetric:error:"
+ "error while requesting to CKDatabases: %{public}@"
+ "error while requesting to init Sync Engines: %{public}@"
+ "filterTrustedPeers:missingTLKSharesFor:databaseProvider:altDSID:sendMetric:error:"
+ "forceNilOutCKDatabases"
+ "forceNilOutCKDatabases()"
+ "forceSessionInvalidation(requestSessionReInit:)"
+ "forceSessionInvalidationWithRequestSessionReInit:"
+ "initForContainer:contextID:activeAccount:stateHolder:flagHandler:sosAdapter:octagonAdapter:accountsAdapter:authKitAdapter:personaAdapter:deviceInfoAdapter:secureBackupAdapter:ckksAccountSync:lockStateTracker:cuttlefishXPCWrapper:escrowRequestClass:notifierClass:flowID:deviceSessionID:permittedToSendMetrics:accountIsG:accountIsW:reachabilityTracker:"
+ "initSyncEnginesWithPrivateDB:sharedDB:withCompletion:"
+ "initWithContainerName:contextID:activeAccount:cuttlefish:ckksAccountSync:sosAdapter:accountsAdapter:authKitAdapter:personaAdapter:tooManyPeersAdapter:tapToRadarAdapter:lockStateTracker:reachabilityTracker:accountStateTracker:deviceInformationAdapter:secureBackupAdapter:apsConnectionClass:escrowRequestClass:notifierClass:cdpd:"
+ "initWithPostRepairCFU:postEscrowCFU:resetOctagon:leaveTrust:reroll:totalEscrowRecords:collectableEscrowRecords:collectedEscrowRecords:escrowRecordGarbageCollectionEnabled:totalTlkShares:collectableTlkShares:collectedTlkShares:tlkShareGarbageCollectionEnabled:totalPeers:trustedPeers:superfluousPeers:peersCleanedup:superfluousPeersCleanupEnabled:"
+ "initWithSOSAdapter:accountsAdapter:authKitAdapter:tooManyPeersAdapter:tapToRadarAdapter:deviceInformationAdapter:secureBackupAdapter:personaAdapter:apsConnectionClass:escrowRequestClass:notifierClass:loggerClass:lockStateTracker:reachabilityTracker:cloudKitClassDependencies:cuttlefishXPCConnection:cdpd:"
+ "removeCKNotificationListenersAfterSessionInvalidationWithPrivateDB:sharedDB:"
+ "repair disabled, will not perform silent repair"
+ "repairDisabled"
+ "secureBackupAdapter"
+ "securityd2"
+ "setSecureBackupAdapter:"
+ "testing"
+ "v56@0:8@\"NSString\"16@\"NSString\"24@\"NSString\"32@\"<_TtP9securityd33KCSharingCloudCoreTestingProtocol_>\"40@?<v@?@\"NSError\">48"
+ "withCKDatabases:"
+ "\xe1"
- "<HealthCheckResult: postRepairCFU: %@, postEscrowCFU: %@, resetOctagon: %@, leaveTrust: %@, reroll: %@, moveRequest? %@, totalEscrowRecords: %llu, collectableEscrowRecords: %llu, collectedEscrowRecords: %llu, escrowRecordGarbageCollectionEnabled: %@, totalTlkShares: %llu, collectableTlkShares: %llu, collectedTlkShares: %llu, tlkShareGarbageCollectionEnabled: %@, totalPeers: %llu, trustedPeers: %llu, superfluousPeers: %llu, peersCleanedup: %llu, superfluousPeersCleanupEnabled: %@>"
- "@\"OTEscrowMoveRequestContext\""
- "@136@0:8B16B20B24B28B32@36Q44Q52Q60B68Q72Q80Q88B96Q100Q108Q116Q124B132"
- "@144@0:8@16@24@32@40@48@56@64#72#80#88#96@104@112@120@128@136"
- "@168@0:8@16@24@32@40@48@56@64@72@80@88@96@104@112@120@128#136#144#152@160"
- "@180@0:8@16@24@32@40@48@56@64@72@80@88@96@104@112@120#128#136@144@152B160B164B168@172"
- "Already have CloudCore DBs"
- "Failed to get altDSID: %@"
- "Invalidation Context Set: Might be missing KCSharingCloudCoreDelegate reference"
- "OctagonEscrowMoveUnthrottled"
- "OctagonEventEscrowMoveRateLimited"
- "OctagonEventEscrowMoveTermsNeeded"
- "OctagonEventEscrowMoveTriggered"
- "Posted secure terms followup"
- "Received escrow move request: %@"
- "Returning DB refs after successfully acquiring a session"
- "Returning Private DB Reference"
- "Returning Shared DB Reference"
- "Returning from cuttlefish trust check call: postRepairCFU(%d), postEscrowCFU(%d), resetOctagon(%d), leaveTrust(%d), reroll(%d), moveRequest(%d), results=%@"
- "Secure terms not accepted, posting followup"
- "Setting DBs using Cloud Core"
- "Setting Up  operation for CKSyncEnginesInit"
- "Skipping escrow move request (rate limited), posting follow up"
- "T@\"ACAccountStore\",&,N,V_store"
- "T@\"OTEscrowMoveRequestContext\",&,V_moveRequest"
- "Triggered escrow move"
- "Unable to acquire EscrowRequest object: %@"
- "_moveRequest"
- "createMissingKeyShares:peers:databaseProvider:error:"
- "createMissingKeyShares:trustStates:databaseProvider:error:"
- "filterTrustedPeers:missingTLKSharesFor:databaseProvider:error:"
- "getPrivateDB"
- "getSharedDB"
- "initForContainer:contextID:activeAccount:stateHolder:flagHandler:sosAdapter:octagonAdapter:accountsAdapter:authKitAdapter:personaAdapter:deviceInfoAdapter:ckksAccountSync:lockStateTracker:cuttlefishXPCWrapper:escrowRequestClass:notifierClass:flowID:deviceSessionID:permittedToSendMetrics:accountIsG:accountIsW:reachabilityTracker:"
- "initWithContainerName:contextID:activeAccount:cuttlefish:ckksAccountSync:sosAdapter:accountsAdapter:authKitAdapter:personaAdapter:tooManyPeersAdapter:tapToRadarAdapter:lockStateTracker:reachabilityTracker:accountStateTracker:deviceInformationAdapter:apsConnectionClass:escrowRequestClass:notifierClass:cdpd:"
- "initWithPostRepairCFU:postEscrowCFU:resetOctagon:leaveTrust:reroll:moveRequest:totalEscrowRecords:collectableEscrowRecords:collectedEscrowRecords:escrowRecordGarbageCollectionEnabled:totalTlkShares:collectableTlkShares:collectedTlkShares:tlkShareGarbageCollectionEnabled:totalPeers:trustedPeers:superfluousPeers:peersCleanedup:superfluousPeersCleanupEnabled:"
- "initWithSOSAdapter:accountsAdapter:authKitAdapter:tooManyPeersAdapter:tapToRadarAdapter:deviceInformationAdapter:personaAdapter:apsConnectionClass:escrowRequestClass:notifierClass:loggerClass:lockStateTracker:reachabilityTracker:cloudKitClassDependencies:cuttlefishXPCConnection:cdpd:"
- "octagon-health: Failed to post secure terms followup: %@"
- "octagon-health: Unable to trigger escrow move: %@"
- "processMoveRequest:error:"
- "removeCKNotificationListenersAfterSessionInvalidation"
- "setMoveRequest:"
- "setServices:"
- "v56@0:8@\"NSString\"16@\"NSString\"24@\"NSString\"32@\"<_TtP9securityd33KCSharingCloudCoreTestingProtocol_>\"40@?<v@?@\"CKDatabase\"@\"CKDatabase\"@\"NSError\">48"
- "\xd1"

```
