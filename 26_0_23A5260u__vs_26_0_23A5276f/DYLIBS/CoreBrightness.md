## CoreBrightness

> `/System/Library/PrivateFrameworks/CoreBrightness.framework/CoreBrightness`

```diff

-2079.0.9.502.1
-  __TEXT.__text: 0x1beab8
-  __TEXT.__auth_stubs: 0x1600
-  __TEXT.__objc_methlist: 0x978c
-  __TEXT.__cstring: 0xa566
-  __TEXT.__const: 0x104bc
-  __TEXT.__oslogstring: 0x15354
+2079.0.21.0.0
+  __TEXT.__text: 0x1bf218
+  __TEXT.__auth_stubs: 0x15f0
+  __TEXT.__objc_methlist: 0x9794
+  __TEXT.__cstring: 0xa5a3
+  __TEXT.__const: 0x104d4
+  __TEXT.__oslogstring: 0x15447
   __TEXT.__gcc_except_tab: 0x21e0
   __TEXT.__dlopen_cstrs: 0x1d5
-  __TEXT.__unwind_info: 0x33c8
+  __TEXT.__unwind_info: 0x33e8
   __TEXT.__objc_classname: 0xe68
-  __TEXT.__objc_methname: 0x13e7c
-  __TEXT.__objc_methtype: 0x4bb8
+  __TEXT.__objc_methname: 0x13ea2
+  __TEXT.__objc_methtype: 0x4bbc
   __TEXT.__objc_stubs: 0xeee0
-  __DATA_CONST.__got: 0x400
-  __DATA_CONST.__const: 0x22d0
+  __DATA_CONST.__got: 0x3f8
+  __DATA_CONST.__const: 0x2338
   __DATA_CONST.__objc_classlist: 0x4f0
   __DATA_CONST.__objc_catlist: 0x10
   __DATA_CONST.__objc_protolist: 0x108

   __DATA_CONST.__objc_protorefs: 0x50
   __DATA_CONST.__objc_superrefs: 0x4a8
   __DATA_CONST.__objc_arraydata: 0x7a0
-  __AUTH_CONST.__auth_got: 0xb18
-  __AUTH_CONST.__const: 0x9f0
+  __AUTH_CONST.__auth_got: 0xb10
+  __AUTH_CONST.__const: 0xa30
   __AUTH_CONST.__cfstring: 0xc620
-  __AUTH_CONST.__objc_const: 0x1f410
+  __AUTH_CONST.__objc_const: 0x1f430
   __AUTH_CONST.__objc_doubleobj: 0x70
   __AUTH_CONST.__objc_intobj: 0xa50
   __AUTH_CONST.__objc_arrayobj: 0x288
   __AUTH_CONST.__objc_floatobj: 0x140
   __AUTH_CONST.__objc_dictobj: 0x168
   __AUTH.__objc_data: 0xaf0
-  __DATA.__objc_ivar: 0x13c0
-  __DATA.__data: 0x2d0a8
-  __DATA.__bss: 0x398
+  __DATA.__objc_ivar: 0x13c4
+  __DATA.__data: 0x2d0b0
+  __DATA.__bss: 0x3b0
   __DATA_DIRTY.__objc_data: 0x2670
   __DATA_DIRTY.__data: 0x10
   __DATA_DIRTY.__bss: 0x138

   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libc++.1.dylib
   - /usr/lib/libobjc.A.dylib
-  UUID: E0B04D4C-C362-3C6B-A34F-9948548F6736
-  Functions: 5399
-  Symbols:   17119
-  CStrings:  10057
+  UUID: DA78977A-CB5D-350D-A8A9-D3395CC07FAE
+  Functions: 5407
+  Symbols:   17143
+  CStrings:  10061
 
Symbols:
+ -[CBABCurve dealloc]
+ -[CBABCurve provideDefaultPreferencesWithConfiguration:]
+ -[CBLowPowerMode isAmbrosiaLevel]
+ GCC_except_table112
+ GCC_except_table155
+ GCC_except_table218
+ GCC_except_table260
+ GCC_except_table261
+ GCC_except_table298
+ GCC_except_table300
+ GCC_except_table305
+ GCC_except_table310
+ GCC_except_table319
+ GCC_except_table326
+ GCC_except_table337
+ GCC_except_table349
+ GCC_except_table351
+ GCC_except_table369
+ GCC_except_table373
+ GCC_except_table386
+ GCC_except_table396
+ GCC_except_table397
+ GCC_except_table403
+ GCC_except_table404
+ GCC_except_table409
+ GCC_except_table442
+ GCC_except_table457
+ GCC_except_table463
+ GCC_except_table464
+ GCC_except_table477
+ GCC_except_table502
+ _CBU_PlatformNativelySupportsALS.onceToken
+ _CBU_PlatformNativelySupportsALS.supported
+ _CBU_PlatformNativelySupportsColorALS.onceToken
+ _CBU_PlatformNativelySupportsColorALS.supported
+ _IORegistryEntryCreateIterator
+ _OBJC_IVAR_$_CBABCurve.config
+ _OBJC_IVAR_$_CBABCurve.maximumBrightness
+ _OBJC_IVAR_$_CBABCurve.minimumBrightness
+ _OBJC_IVAR_$_CBIndicatorBrightnessModule._contentHeadroom
+ _OBJC_IVAR_$_CBIndicatorBrightnessModule._hdrContent
+ __ZNKSt3__15arrayI17PMMitigationLevelLm4EE4sizeB8ne200100Ev
+ __ZNSt3__15arrayI17PMMitigationLevelLm4EEixB8ne200100Em
+ ___70-[KeyboardBacklight updateBacklightDeviceWithFadeSpeed:commit:reason:]_block_invoke
+ ___70-[KeyboardBacklight updateBacklightDeviceWithFadeSpeed:commit:reason:]_block_invoke_2
+ ___CBU_PlatformNativelySupportsALS_block_invoke
+ ___CBU_PlatformNativelySupportsColorALS_block_invoke
+ ___DisplayCPMSHDRFactor
+ ___DisplayCPMSMaxHDRNits
+ ___DisplaySetProperty_block_invoke.458
+ ___DisplaySetProperty_block_invoke.591
+ ___DisplaySetState_block_invoke.376
+ ____DisplaySetBrightnessFactor_block_invoke.748
+ _____DisplayUpdateSlider_block_invoke.912
+ _____DisplayUpdateSlider_block_invoke.914
+ ___block_descriptor_40_e8_32o_e19_v40?0{?=QIBBffff}8ls32l8
+ ___block_descriptor_48_e8_32o40r_e19_v40?0{?=QIBBffff}8lr40l8s32l8
+ ___block_descriptor_49_e8_32o40o_e5_v8?0ls32l8s40l8
+ ___block_descriptor_tmp.100
+ ___block_descriptor_tmp.106
+ ___block_descriptor_tmp.132
+ ___block_descriptor_tmp.23
+ ___block_descriptor_tmp.34
+ ___block_descriptor_tmp.38
+ ___block_descriptor_tmp.62
+ ___block_descriptor_tmp.76
+ ___block_descriptor_tmp.82
+ ___block_literal_global.102
+ ___block_literal_global.1041
+ ___block_literal_global.108
+ ___block_literal_global.134
+ ___block_literal_global.25
+ ___block_literal_global.36
+ ___block_literal_global.40
+ ___block_literal_global.64
+ ___block_literal_global.78
+ ___block_literal_global.84
+ ___os_log_helper_16_0_6_4_0_8_0_8_0_8_0_8_0_8_0
+ _objc_msgSend$isAmbrosiaLevel
+ _objc_msgSend$provideDefaultPreferencesWithConfiguration:
- -[CBABCurve init]
- -[CBALSNode getUseForAAB]
- -[CBALSNode useForAAB]
- GCC_except_table111
- GCC_except_table123
- GCC_except_table173
- GCC_except_table258
- GCC_except_table259
- GCC_except_table295
- GCC_except_table297
- GCC_except_table301
- GCC_except_table306
- GCC_except_table316
- GCC_except_table324
- GCC_except_table334
- GCC_except_table346
- GCC_except_table348
- GCC_except_table366
- GCC_except_table370
- GCC_except_table383
- GCC_except_table387
- GCC_except_table394
- GCC_except_table401
- GCC_except_table406
- GCC_except_table439
- GCC_except_table460
- GCC_except_table461
- GCC_except_table474
- GCC_except_table499
- GCC_except_table512
- GCC_except_table55
- GCC_except_table87
- _CFStringFind
- _MGGetStringAnswer
- _OBJC_CLASS_$_NSLock
- _OBJC_IVAR_$_CBALSNode._useForAAB
- _OBJC_IVAR_$_CBIndicatorBrightnessModule._hasEDR
- _OBJC_IVAR_$_CBIndicatorBrightnessModule._hdrApplied
- _OBJC_IVAR_$_KeyboardBacklight._backlightUpdateLock
- ___DisplaySetProperty_block_invoke.461
- ___DisplaySetProperty_block_invoke.594
- ___DisplaySetState_block_invoke.379
- ____DisplaySetBrightnessFactor_block_invoke.751
- _____DisplayUpdateSlider_block_invoke.915
- _____DisplayUpdateSlider_block_invoke.917
- ___block_descriptor_40_e8_32o_e19_v40?0{?=QIBBBfff}8ls32l8
- ___block_descriptor_48_e8_32o40r_e19_v40?0{?=QIBBBfff}8lr40l8s32l8
- ___block_descriptor_tmp.114
- ___block_descriptor_tmp.29
- ___block_descriptor_tmp.53
- ___block_descriptor_tmp.67
- ___block_descriptor_tmp.73
- ___block_descriptor_tmp.88
- ___block_descriptor_tmp.91
- ___block_literal_global.1035
- ___block_literal_global.116
- ___block_literal_global.31
- ___block_literal_global.55
- ___block_literal_global.69
- ___block_literal_global.75
- ___block_literal_global.90
- ___block_literal_global.93
- ___os_log_helper_16_2_3_8_32_8_64_4_0
- _objc_msgSend$getUseForAAB
- _objc_msgSend$useForAAB
CStrings:
+ "@\"CBABCurveConfiguration\""
+ "CBDynamicSliderScaler"
+ "CBPowerMitigationLevel"
+ "CPMS table end %f is beyond display maximum brightness: %f"
+ "Calculated contrast IB=%f, capped=%f, contentHeadroom=%f, HDR=%d"
+ "Failed to load ALS color support information."
+ "IODeviceTree"
+ "IODeviceTree:/arm-io/aop/iop-aop-nub"
+ "IODeviceTree:/arm-io/aop/iop-aop-nub/als"
+ "Platform natively supports ALS: %d"
+ "Platform natively supports color ALS: %d"
+ "Set maximum restriction %f for E=%f (scaled by %f)"
+ "Setting CPMS HDR factor %f which is > 1. This is likely a bug."
+ "[%x]: _Esensor_filtered=%0.4f _Esensor_trusted=%0.4f _Esensor_aggregated=%0.4f _Esensor_front_trusted=%0.4f _Esensor_front_aggregated=%0.4f"
+ "_contentHeadroom"
+ "_hdrContent"
+ "als-supports-color"
+ "config"
+ "isAmbrosiaLevel"
+ "maximumBrightness"
+ "minimumBrightness"
+ "provideDefaultPreferencesWithConfiguration:"
+ "v40@?0{?=QIBBffff}8"
+ "v48@0:8{?=QIBBffff}16"
+ "{?=\"bl1\"f\"bl2\"f\"e1\"f\"e2\"f\"eThresh\"f}"
+ "{?=\"maxContrastBoostedBrightness\"f\"sdrBrightness\"f\"appliedHeadroom\"f\"minimumIndicatorBrightness\"f\"lux\"f\"contentHeadroom\"f\"rtplc\"{?=\"cap\"f\"applied\"B}\"silEnabled\"B\"dirty\"B}"
+ "{?=fffff}24@0:8@16"
- "%s: HW name %@ supports ALS = %d"
- "%s: error: failed to retrieve the model name"
- "@\"NSLock\""
- "ALS Color support is %s available"
- "CBCPMSRampHDR"
- "CBU_PlatformNativelySupportsColorALS"
- "Calculated contrast IB=%f, capped=%f"
- "Failed to load ALS location."
- "NOT"
- "PhysicalHardwareNameString"
- "TB,R,N,V_useForAAB"
- "[%x]: _Esensor_filtered=%0.4f _Esensor_trusted=%0.4f _Esensor_aggregated=%0.4f"
- "_backlightUpdateLock"
- "_hasEDR"
- "_hdrApplied"
- "_useForAAB"
- "getUseForAAB"
- "use-for-aab"
- "useForAAB"
- "v40@?0{?=QIBBBfff}8"
- "v48@0:8{?=QIBBBfff}16"
- "{?=\"maxContrastBoostedBrightness\"f\"sdrBrightness\"f\"appliedHeadroom\"f\"minimumIndicatorBrightness\"f\"lux\"f\"rtplc\"{?=\"cap\"f\"applied\"B}\"hasEDR\"B\"silEnabled\"B\"dirty\"B}"
- "{?=\"minimumBrightness\"f\"maximumBrightness\"f\"bl1\"f\"bl2\"f\"e1\"f\"e2\"f\"eThresh\"f}"

```
