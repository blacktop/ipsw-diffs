## TrustedUIService

> `/System/Library/Frameworks/AppKit.framework/Versions/C/XPCServices/TrustedUIService.xpc/Contents/MacOS/TrustedUIService`

```diff

-2575.40.6.0.0
-  __TEXT.__text: 0x2ee1c
-  __TEXT.__auth_stubs: 0x1350
+2575.50.26.0.0
+  __TEXT.__text: 0x31e84
+  __TEXT.__auth_stubs: 0x15f0
   __TEXT.__objc_stubs: 0x40
-  __TEXT.__objc_methlist: 0x3d8
-  __TEXT.__gcc_except_tab: 0xf4
-  __TEXT.__cstring: 0x19d4
-  __TEXT.__objc_classname: 0x2a4
-  __TEXT.__objc_methname: 0x1104
-  __TEXT.__objc_methtype: 0xa4c
+  __TEXT.__objc_methlist: 0x9b4
+  __TEXT.__gcc_except_tab: 0xb8
+  __TEXT.__objc_classname: 0x27f
+  __TEXT.__objc_methname: 0x119d
+  __TEXT.__objc_methtype: 0xa13
+  __TEXT.__cstring: 0x1d0b
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__const: 0x110a
-  __TEXT.__constg_swiftt: 0x78c
-  __TEXT.__swift5_typeref: 0xb83
-  __TEXT.__swift5_builtin: 0x78
-  __TEXT.__swift5_reflstr: 0x741
-  __TEXT.__swift5_fieldmd: 0x684
+  __TEXT.__const: 0x13ea
+  __TEXT.__constg_swiftt: 0x90c
+  __TEXT.__swift5_typeref: 0xbdb
+  __TEXT.__swift5_builtin: 0x8c
+  __TEXT.__swift5_reflstr: 0x7b4
+  __TEXT.__swift5_fieldmd: 0x770
   __TEXT.__swift5_assocty: 0x90
-  __TEXT.__swift5_proto: 0xdc
-  __TEXT.__swift5_types: 0x78
-  __TEXT.__oslogstring: 0x116b
-  __TEXT.__swift5_capture: 0x428
-  __TEXT.__swift5_protos: 0x18
-  __TEXT.__unwind_info: 0xa78
-  __TEXT.__eh_frame: 0x798
-  __DATA_CONST.__auth_got: 0x9b8
-  __DATA_CONST.__got: 0x3c0
-  __DATA_CONST.__auth_ptr: 0x580
-  __DATA_CONST.__const: 0x1598
-  __DATA_CONST.__cfstring: 0x60
-  __DATA_CONST.__objc_classlist: 0x50
-  __DATA_CONST.__objc_protolist: 0x1b8
+  __TEXT.__swift5_proto: 0xec
+  __TEXT.__swift5_types: 0x94
+  __TEXT.__oslogstring: 0x15bb
+  __TEXT.__swift5_capture: 0x458
+  __TEXT.__swift_as_entry: 0x40
+  __TEXT.__swift_as_ret: 0x38
+  __TEXT.__swift5_protos: 0x1c
+  __TEXT.__unwind_info: 0xa90
+  __TEXT.__eh_frame: 0x7d0
+  __DATA_CONST.__auth_got: 0xb08
+  __DATA_CONST.__got: 0x460
+  __DATA_CONST.__auth_ptr: 0x5d0
+  __DATA_CONST.__const: 0x16c8
+  __DATA_CONST.__cfstring: 0x40
+  __DATA_CONST.__objc_classlist: 0x80
+  __DATA_CONST.__objc_protolist: 0x198
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_protorefs: 0x118
-  __DATA.__objc_const: 0x4d20
-  __DATA.__objc_selrefs: 0x578
-  __DATA.__objc_data: 0x9e0
-  __DATA.__data: 0x1630
-  __DATA.__bss: 0x1390
-  __DATA.__common: 0xb8
+  __DATA_CONST.__objc_protorefs: 0x108
+  __DATA.__objc_const: 0x4620
+  __DATA.__objc_selrefs: 0x6a8
+  __DATA.__objc_data: 0xd80
+  __DATA.__data: 0x17a0
+  __DATA.__common: 0x110
+  __DATA.__bss: 0x1500
   - /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
   - /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
+  - /System/Library/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
   - /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
   - /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC
   - /System/Library/PrivateFrameworks/ViewBridge.framework/Versions/A/ViewBridge

   - /usr/lib/swift/libswiftCoreFoundation.dylib
   - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
+  - /usr/lib/swift/libswiftDataDetection.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftIOKit.dylib
   - /usr/lib/swift/libswiftMetal.dylib

   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
+  - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswift_errno.dylib
   - /usr/lib/swift/libswift_math.dylib
   - /usr/lib/swift/libswift_signal.dylib

   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  UUID: 766E7D4A-65E6-3DD8-89EB-599D653927C6
-  Functions: 849
-  Symbols:   168
-  CStrings:  575
+  - /usr/lib/system/libquarantine.dylib
+  UUID: 1394859F-B3EA-39AF-A026-82052068B10C
+  Functions: 895
+  Symbols:   199
+  CStrings:  607
 
Symbols:
+ _CFLocaleCopyCurrent
+ _CFLocaleGetValue
+ _CFPasteboardGeneratePasteVerificationToken
+ _CPSGetKeyFocusProcess
+ _OBJC_CLASS_$_NSXPCConnection
+ _OBJC_CLASS_$__TtC16TrustedUIService19PasteboardTCCChecks
+ _OBJC_CLASS_$__TtC16TrustedUIService23PasteboardTokenRequests
+ _OBJC_CLASS_$__TtC16TrustedUIService25PasteAccessOverrideChecks
+ _OBJC_CLASS_$__TtC16TrustedUIService27PasteboardEntitlementChecks
+ _OBJC_CLASS_$__TtC16TrustedUIService30PasteboardResponsibilityChecks
+ _OBJC_METACLASS_$__TtC16TrustedUIService19PasteboardTCCChecks
+ _OBJC_METACLASS_$__TtC16TrustedUIService23PasteboardTokenRequests
+ _OBJC_METACLASS_$__TtC16TrustedUIService25PasteAccessOverrideChecks
+ _OBJC_METACLASS_$__TtC16TrustedUIService27PasteboardEntitlementChecks
+ _OBJC_METACLASS_$__TtC16TrustedUIService30PasteboardResponsibilityChecks
+ __CPSEqualProcess
+ __kCFBundleDisplayNameKey
+ __swift_FORCE_LOAD_$_swiftDataDetection
+ _close
+ _kCFAllocatorSystemDefault
+ _kCFBundleExecutableKey
+ _kCFBundleNameKey
+ _kCFLocaleCountryCode
+ _proc_pidpath_audittoken
+ _responsibility_get_attribution_for_audittoken
+ _responsibility_identity_open_binary_fd
+ _responsibility_identity_release
+ _swift_initStackObject
+ _swift_makeBoxUnique
+ _swift_setDeallocating
+ _swift_stdlib_isStackAllocationSafe
+ _swift_unknownObjectRetain_n
+ _swift_weakDestroy
+ _swift_weakInit
+ _swift_weakLoadStrong
- _NSLog
- _OBJC_CLASS_$_NSRunningApplication
- __NSConcreteGlobalBlock
- _dispatch_once
CStrings:
+ "%s Cannot highlight menu."
+ "%s Cannot post accessibility notification. activeConnection is nil."
+ "%{public}s Cannot display submenu. %{public}s"
+ "%{public}s Present submenu %{public}s delayed=%{bool}d."
+ "/System/Library/Frameworks/Security.framework/Security"
+ "An unidentified process is trying to access the pasteboard."
+ "B68@0:8@\"NSMenuItem\"16{CGRect={CGPoint=dd}{CGSize=dd}}24B56B60B64"
+ "B68@0:8@16{CGRect={CGPoint=dd}{CGSize=dd}}24B56B60B64"
+ "CancelIndirectPasteVerificationAlertAction: Cancellation requested for an alert that is not currently showing."
+ "CancelIndirectPasteVerificationAlertAction: Cancelling alert."
+ "CancelIndirectPasteVerificationAlertAction: Process for current alert is nil."
+ "CancelIndirectPasteVerificationAlertAction: Reply block for current alert is nil."
+ "Cannot display submenu. Item is not in a menu."
+ "Dialog message for the allow/deny dialog shown on unexpected pasteboard access, if neither app name nor CLI process name are known."
+ "Dialog message for the allow/deny dialog shown on unexpected pasteboard access, if only the CLI child process is known."
+ "Dialog message for the allow/deny dialog shown on unexpected pasteboard access, if parent app and child CLI processes are both known."
+ "Dialog message for the allow/deny dialog shown on unexpected pasteboard access, if the app name is known."
+ "Entitlement: Error getting value for entitlement '%s': %s"
+ "Entitlement: Failed to load Security.framework"
+ "Entitlement: Failed to load a required Security.framework function"
+ "Entitlement: audit token not available"
+ "No valid audit token for untrusted process."
+ "Override_AlwaysAllow"
+ "Override_AlwaysDeny"
+ "PASTEBOARD_VERIFICATION_ALERT_MESSAGE_WITHOUT_PROCESS_NAMES"
+ "PASTEBOARD_VERIFICATION_ALERT_MESSAGE_WITH_APP_NAME"
+ "PASTEBOARD_VERIFICATION_ALERT_MESSAGE_WITH_CLI_CHILD_NAME"
+ "PASTEBOARD_VERIFICATION_ALERT_MESSAGE_WITH_PARENT_APP_AND_CLI_CHILD_NAMES"
+ "Paste Access Alert: No client connection."
+ "Paste Access Alert: Unable to access token requesting process during sendUserResponseIfNeeded."
+ "Paste Access Alert: Unable to load PasteAccessAlertController."
+ "Paste-related action NOT TRUSTED for NSPasteControl."
+ "Paste-related action TRUSTED because of entitlement or TCC allow override."
+ "Paste-related action TRUSTED for NSPasteControl."
+ "Pasteboard Read Access: Creating new TCC record."
+ "Pasteboard Read Access: TCC state is Always Allow."
+ "Pasteboard Read Access: TCC state is Always Deny."
+ "Pasteboard Read Access: TCC state is Ask (default)."
+ "Pasteboard Read Access: TCC state is Ask (explicit)."
+ "Pasteboard Read Access: entitlement is enabled."
+ "SecTaskCopyValueForEntitlement"
+ "SecTaskCreateWithAuditToken"
+ "T@\"NSMenu\",R"
+ "The item does not have a submenu."
+ "The item is not in a menu."
+ "The menu is not visible."
+ "TrustedUIService.PasteAccessAlert"
+ "Unable to connect to the pasteboard."
+ "_TtC16TrustedUIService16PasteAccessAlert"
+ "_TtC16TrustedUIService19PasteboardTCCChecks"
+ "_TtC16TrustedUIService23PasteboardTokenRequests"
+ "_TtC16TrustedUIService25PasteAccessOverrideChecks"
+ "_TtC16TrustedUIService26PasteAccessAlertController"
+ "_TtC16TrustedUIService27PasteboardEntitlementChecks"
+ "_TtC16TrustedUIService30PasteboardResponsibilityChecks"
+ "_alert"
+ "_forEachLinkedMenuItem:"
+ "_highlightVisibleItemAtIndex:allowingDisabledItems:"
+ "_pasteAlert_childProcessName"
+ "_pasteAlert_process"
+ "_pasteAlert_reply"
+ "_pasteAlert_responsibleAppIcon"
+ "_pasteAlert_responsibleAppName"
+ "addSubmenu:"
+ "alertController"
+ "cachedHasEntitlement"
+ "cachedTCCOverrideType"
+ "cachedTCCOverrideTypeTimeStamp"
+ "com.apple.private.security.pasteboard.programmatic-read-access"
+ "compare:options:"
+ "iconForFile:"
+ "infoDictionary"
+ "initWithPath:"
+ "invokePasteControlActionWithToken:"
+ "lastPathComponent"
+ "localizedInfoDictionary"
+ "mainMenu"
+ "pasteboardPrivacyDeveloperPreviewEnabled"
+ "requestPasteboardTokenData(forUntrustedProcess:)"
+ "shouldIssuePasteTokens"
+ "shouldPresentSubmenu:parentFrame:highlightingFirstItem:delayed:animated:"
+ "trackingSessionDidLoseFocus"
+ "unhighlightItemIfNeeded"
+ "v40@?0@\"NSMenuItem\"8q16q24^B32"
+ "willDismissMenu:parent:coalescingSubmenus:"
+ "“%@” is trying to access the pasteboard on behalf of “%@”."
- "$__lazy_storage_$__tccServer"
- "$__lazy_storage_$__tccServicePasteboard"
- "$__lazy_storage_$__tccSyncMessageOptions"
- "$__lazy_storage_$_hasPasteboardReadAccessEntitlement"
- "$__lazy_storage_$_pasteboardTCCOverrideType"
- "/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation"
- "Attempting to present a submenu from a remote menu that is not visible."
- "B20@0:8B16"
- "CFPasteboardGeneratePasteVerificationToken"
- "CFPasteboardGetPasteVerificationToken"
- "Dialog message for the allow/deny dialog shown on unexpected pasteboard access."
- "Entitlement: no valid entitlement found"
- "Error: CFPasteboardGetPasteVerificationToken not found!"
- "Insufficient space allocated to copy string contents"
- "No valid connection to untrusted app."
- "OS_tcc_message_options"
- "OS_tcc_server"
- "PASTEBOARD_VERIFICATION_ALERT_MESSAGE"
- "Paste Access Alert: Unable to access clientConnection during loadView."
- "Paste Access Alert: Unable to locate the connection's running application."
- "Paste-related action TRUSTED because of TCC override."
- "Paste-related action TRUSTED because of entitlement."
- "Requesting to open a submenu %s index=%ld, delayed=%{bool}d."
- "Swift/ContiguousArrayBuffer.swift"
- "Swift/StringTesting.swift"
- "Swift/StringUTF8View.swift"
- "Swift/UnsafeBufferPointer.swift"
- "Swift/UnsafePointer.swift"
- "Swift/UnsafeRawPointer.swift"
- "The item at a specified index (%ld) does not have a submenu."
- "TrustedUIService.PasteAlert"
- "Unexpectedly found nil while unwrapping an Optional value"
- "UnsafeMutableBufferPointer with negative count"
- "UnsafeMutablePointer.initialize overlapping range"
- "UnsafeMutablePointer.initialize with negative count"
- "UnsafeMutableRawPointer.initializeMemory overlapping range"
- "_TtC16TrustedUIService10PasteAlert"
- "alert"
- "com.apple.pasteboard.programmatic_read_access"
- "forEachMenuItemDo:"
- "icon"
- "invalid Collection: less than 'count' elements in collection"
- "invokeTrustedActionWithToken:"
- "localizedName"
- "presentSubmenuFromMenu:itemAtIndex:parent:highlightingFirstItem:delayed:animated:"
- "requestPasteboardTokenData()"
- "runningApplicationWithProcessIdentifier:"
- "setupImplAsSubmenu:"
- "trustedPasteEnabled"
- "v24@0:8@?16"
- "v24@0:8@?<v@?@\"NSMenuItem\"qq>16"
- "v32@?0@\"NSMenuItem\"8q16q24"
- "v76@0:8@\"NSMenu\"16q24{CGRect={CGPoint=dd}{CGSize=dd}}32B64B68B72"
- "v76@0:8@16q24{CGRect={CGPoint=dd}{CGSize=dd}}32B64B68B72"
- "willDismissSubmenu:fromParent:coalescingSubmenus:"

```
