## IMDaemonCore

> `/System/Library/PrivateFrameworks/IMDaemonCore.framework/IMDaemonCore`

```diff

-1262.600.61.2.9
-  __TEXT.__text: 0x1c1348
-  __TEXT.__auth_stubs: 0x35a0
-  __TEXT.__objc_methlist: 0xe6dc
-  __TEXT.__const: 0x1898
-  __TEXT.__gcc_except_tab: 0x13c3c
-  __TEXT.__cstring: 0xffb1
-  __TEXT.__oslogstring: 0x311fe
+1262.700.71.2.1
+  __TEXT.__text: 0x1c8088
+  __TEXT.__auth_stubs: 0x35f0
+  __TEXT.__objc_methlist: 0xe7dc
+  __TEXT.__const: 0x19a8
+  __TEXT.__gcc_except_tab: 0x13df4
+  __TEXT.__cstring: 0x10661
+  __TEXT.__oslogstring: 0x3166d
   __TEXT.__ustring: 0x328
   __TEXT.__dlopen_cstrs: 0xa7
-  __TEXT.__swift5_typeref: 0xb64
-  __TEXT.__constg_swiftt: 0x9d0
-  __TEXT.__swift5_reflstr: 0x5db
-  __TEXT.__swift5_fieldmd: 0x638
+  __TEXT.__swift5_typeref: 0xbc8
+  __TEXT.__constg_swiftt: 0xa24
+  __TEXT.__swift5_reflstr: 0x61b
+  __TEXT.__swift5_fieldmd: 0x67c
   __TEXT.__swift5_builtin: 0xb4
   __TEXT.__swift5_assocty: 0x240
   __TEXT.__swift5_capture: 0x9a8
-  __TEXT.__swift5_proto: 0xc4
-  __TEXT.__swift5_types: 0x9c
+  __TEXT.__swift5_proto: 0xd4
+  __TEXT.__swift5_types: 0xa4
   __TEXT.__swift5_protos: 0xc
-  __TEXT.__unwind_info: 0x8690
-  __TEXT.__eh_frame: 0x13f0
-  __TEXT.__objc_classname: 0x22db
-  __TEXT.__objc_methname: 0x356fe
-  __TEXT.__objc_methtype: 0x739a
-  __TEXT.__objc_stubs: 0x22860
-  __DATA_CONST.__got: 0x12e0
-  __DATA_CONST.__const: 0x49e0
-  __DATA_CONST.__objc_classlist: 0x598
+  __TEXT.__unwind_info: 0x87ec
+  __TEXT.__eh_frame: 0x1440
+  __TEXT.__objc_classname: 0x2301
+  __TEXT.__objc_methname: 0x35b6e
+  __TEXT.__objc_methtype: 0x7401
+  __TEXT.__objc_stubs: 0x229e0
+  __DATA_CONST.__got: 0x1330
+  __DATA_CONST.__const: 0x4ab8
+  __DATA_CONST.__objc_classlist: 0x5a0
   __DATA_CONST.__objc_catlist: 0xb0
-  __DATA_CONST.__objc_protolist: 0x4e0
+  __DATA_CONST.__objc_protolist: 0x4e8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_const: 0x16790
-  __DATA_CONST.__objc_selrefs: 0xa608
+  __DATA_CONST.__objc_const: 0x16a50
+  __DATA_CONST.__objc_selrefs: 0xa6c0
   __DATA_CONST.__objc_protorefs: 0x178
-  __DATA_CONST.__objc_classrefs: 0xd18
+  __DATA_CONST.__objc_classrefs: 0xd38
   __DATA_CONST.__objc_superrefs: 0x3d0
   __DATA_CONST.__objc_arraydata: 0x98
-  __AUTH_CONST.__cfstring: 0xa520
+  __AUTH_CONST.__cfstring: 0xa780
   __AUTH_CONST.__objc_const: 0x4400
-  __AUTH_CONST.__const: 0x4420
+  __AUTH_CONST.__const: 0x45b8
   __AUTH_CONST.__objc_intobj: 0x6f0
   __AUTH_CONST.__objc_arrayobj: 0xd8
   __AUTH_CONST.__objc_floatobj: 0x10
-  __AUTH_CONST.__auth_got: 0x1ae0
-  __AUTH.__objc_data: 0x1828
-  __AUTH.__data: 0x250
-  __DATA.__objc_ivar: 0xb04
+  __AUTH_CONST.__auth_got: 0x1b08
+  __AUTH.__objc_data: 0x1898
+  __AUTH.__data: 0x280
+  __DATA.__objc_ivar: 0xb10
   __DATA.__objc_data: 0x20
-  __DATA.__data: 0x3748
-  __DATA.__bss: 0x1900
+  __DATA.__data: 0x3848
+  __DATA.__bss: 0x1b00
   __DATA.__common: 0x28
   __DATA_DIRTY.__objc_data: 0x2658
-  __DATA_DIRTY.__data: 0x7a8
+  __DATA_DIRTY.__data: 0x7b0
   __DATA_DIRTY.__bss: 0x6b0
   __DATA_DIRTY.__common: 0xc8
   - /System/Library/Frameworks/Accounts.framework/Accounts

   - /System/Library/PrivateFrameworks/BiomeStreams.framework/BiomeStreams
   - /System/Library/PrivateFrameworks/BlastDoor.framework/BlastDoor
   - /System/Library/PrivateFrameworks/CacheDelete.framework/CacheDelete
+  - /System/Library/PrivateFrameworks/CallHistory.framework/CallHistory
   - /System/Library/PrivateFrameworks/CommonUtilities.framework/CommonUtilities
   - /System/Library/PrivateFrameworks/FTServices.framework/FTServices
   - /System/Library/PrivateFrameworks/IDS.framework/IDS

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 3F826E1D-46EF-30DA-9422-8732CC2DC478
-  Functions: 7626
-  Symbols:   2074
-  CStrings:  14944
+  UUID: 562DAFE7-642D-3B72-8FAE-D2789912C18D
+  Functions: 7723
+  Symbols:   2086
+  CStrings:  15067
 
Symbols:
+ _IMAttachmentPropertyGUID
+ _IMAttachmentPropertyOriginalGUID
+ _IMChatPropertyRequestedDowngradeExpirationDate
+ _IMDChatRecordCopyChatRecord
+ _IMHandlePropertyCanonicalizedURIKey
+ _IMHandlePropertyUncanonicalizedURIKey
+ _OBJC_CLASS_$_CHHandle
+ _OBJC_CLASS_$_CHManager
+ _OBJC_CLASS_$_CHRecentCall
+ _OBJC_CLASS_$_IMPurgedAttachmentHandler
+ _OBJC_METACLASS_$_IMPurgedAttachmentHandler
+ _swift_unknownObjectWeakAssign
CStrings:
+ "\x12\x1f\x01"
+ "\x14\x11"
+ " => No chat for %@, joining chat"
+ " => No existing chat, no change to downgrade flag"
+ "%@ clearing downgrade flag for %@"
+ "%@ setting downgrade flag for %@ (expiration: %@) to %@"
+ "%K == %@ || %K == %@"
+ "%K IN %@"
+ "%K IN %@ OR %K IN %@"
+ "%ld"
+ "%ld unique guids found."
+ "%ld-%@.data"
+ "(nil SCI) Message is not from known family member, received from: %@"
+ "(with SCI lookup) Message is not from known family member, received from: %@"
+ "131"
+ "<IMDiMessageIDSDelegate %p> Received incoming iMessage %p for service %@ account %@ fromID: %@ command: %ld, guid: %@"
+ "<Warning> Incoming command doesn't match BlastDoor command (%ld), trustedData: %@"
+ "@\"CHManager\""
+ "@\"IMPurgedAttachmentHandler\""
+ "Alias matches Family member %@"
+ "Apple ID matches Family member %@"
+ "Could not find sender correlation identifier in SCI list derived from Family"
+ "Deleted %ld matching live photo components:%s"
+ "Didn't find family member relation using raw handles. Attempting to lookup using SCIs."
+ "Empty normalizedFamilyMemberHandles. Dropping Family message received from: %@"
+ "Errors:\n%s"
+ "FAFetchFamilyCircleRequest returned no Family circle, but there was no specific error."
+ "FTCommandIDEditMessage"
+ "FTCommandIDRecoverJunkMessage"
+ "Failed to create IMDChat for guid %@ chatIdentifier %@ ChatRecord %@"
+ "Failed to find chat by guid %@, tried rowid %lld instead, found? %@"
+ "Failed to generate IMDChat for IMDChatRecordRef"
+ "Family IDS handles were empty"
+ "Family IDS lookup result had %lu elements"
+ "FamilyCircle fetch failed with specific error"
+ "Finished processing batch %ld."
+ "Fixing chat join state"
+ "Found %lu IDS endpoints for Family member with handle %@"
+ "Found family member relation using SCI"
+ "Found family member relation using raw handles! %@"
+ "Found no transfers!"
+ "Has call history with sender:%@"
+ "Has messages history with sender:%@"
+ "IDS data had no sender correlation identifier"
+ "IDSCommandIDStickerRepositionMessage"
+ "IMDaemonCore_Private.IMPurgedAttachmentHandler"
+ "IMPurgedAttachmentHandler"
+ "IMPurgedAttachmentHandlerDelegate"
+ "Ignored %s live photo bundles or bundle components."
+ "Legacy downgrade only supports SMS"
+ "Matching guid (%s) found in transfers."
+ "Matching original guid (%s) found in transfers."
+ "No matching guid or original guid found in transfers for guid: %s"
+ "No matching guid or original guid found in transfers for guid: %s attachmentPath: %s"
+ "NullIMDChatForChatRecordRef"
+ "Numbers of transfers %ld did not match the expected %ld transfers."
+ "Only %ld guids could be found out of %ld attachment paths."
+ "Phone number matches Family member %@"
+ "Processing batch %ld with %ld attachment paths."
+ "PurgeNotificationCallbackHandler"
+ "Received message that should only be from me (trustedData: %@)"
+ "Rejecting BlastDoor processing for trustedData %@"
+ "Setting up pipeline for notify recipient fromID: %@, "
+ "Should decode image fields: %@"
+ "Skipping normalization of empty handle in allFamilyMemberHandles"
+ "T@\"<IMPurgedAttachmentHandlerDelegate>\",N,W,Vdelegate"
+ "T@\"CHManager\",&,N,V_callHistoryManager"
+ "T@\"IMPurgedAttachmentHandler\",&,N,V_purgedAttachmentHandler"
+ "T@\"NSDate\",&"
+ "T@\"NSString\",C,N,V_senderCorrelationIdentifier"
+ "There were %lu SCIs in allFamilyMemberSCIs"
+ "Unknown FamilyCircle fetch error"
+ "_addSnapNameKeysToReportMessageDictionary:forSender:"
+ "_callHistoryManager"
+ "_containsHandlesForTrustedData:"
+ "_purgedAttachmentHandler"
+ "_senderCorrelationIdentifier"
+ "accountWithUniqueID:"
+ "attachmentPaths"
+ "batchCompletedWithTransfers:"
+ "blockCommandForTrustedData:"
+ "callHistoryManager"
+ "clearDowngradeRequestForHandleID:"
+ "complete"
+ "countCallsWithPredicate:"
+ "currentBatch"
+ "downgradeRequestedForHandleID:expirationDate:preferredService:"
+ "first-name"
+ "getNicknameWithRecordID:decryptionKey:wallpaperDataTag:wallpaperLowResDataTag:wallpaperMetadataTag:isKnownSender:shouldDecodeImageFields:completionBlock:"
+ "guid: %s attachmentPath: %s"
+ "handle could not be normalized for IDS lookup: %@"
+ "handleRecordsFilteredByPredicate:"
+ "initWithAccount:idsTrustedData:"
+ "initWithBatchSize:"
+ "initWithType:value:"
+ "inline-message-data"
+ "isMe"
+ "last-name"
+ "livePhotoBundleOrComponentPaths"
+ "livePhotoComponentDeletionFailures"
+ "message-edits"
+ "message-extension-bundle-id"
+ "message-extension-data"
+ "mmcs-filename"
+ "normalizedFamilyMemberHandles: %@"
+ "predicateForCallsWithRemoteParticipantHandle:"
+ "purgedAttachmentHandler"
+ "registerPurgedAttachmentAtPath:"
+ "requestedDowngradeExpirationDate"
+ "sender-shared-name-and-photo"
+ "senderCorrelationIdentifier"
+ "serviceSwitchRequestReceivedForChatWithIdentifier:"
+ "setCallHistoryManager:"
+ "setPurgedAttachmentHandler:"
+ "setRequestedDowngradeExpirationDate:"
+ "setSenderCorrelationIdentifier:"
+ "simulateDowngradeRequestFromID:fromService:toService:expirationDate:"
+ "successfullyDeletedLivePhotoComponents"
+ "updating transfer with guid %s as waiting for accept."
+ "v48@0:8@\"NSString\"16@\"NSString\"24@\"NSString\"32@\"NSDate\"40"
+ "v72@0:8@16@24@32@40@48B56B60@?64"
- "\x12\x1f"
- "/"
- "118"
- "119"
- "122"
- "<IMDiMessageIDSDelegate %p> Received incoming iMessage %p for service %@ account %@ fromID: %@ command: %@, guid: %@"
- "Enable MiC by default: No exit record found. Checking Quota!"
- "Enable MiC by default: Quota needs: %lld error %@"
- "Error deleting alternate live photo component: %@"
- "Message is not from known family member, received from: %@"
- "No need to update db for [%@] this is a live photo bundle."
- "ReceivePipelineFamilyValidation"
- "Rejecting BlastDoor processing for command %@"
- "Sender not found in family"
- "Successfully deleted alternate live photo component."
- "__wrapperAroundCacheDeletePurgeNotificationCallback:"
- "alternate live photo path could not be found from a path that was deemed a live photo."
- "fullyQualifiedDigits"
- "v68@0:8@16@24@32@40@48B56@?60"

```
