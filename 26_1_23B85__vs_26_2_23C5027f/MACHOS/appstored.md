## appstored

> `/System/Library/PrivateFrameworks/AppStoreDaemon.framework/Support/appstored`

```diff

-12.1.17.0.0
-  __TEXT.__text: 0x409828
-  __TEXT.__auth_stubs: 0x4680
-  __TEXT.__objc_stubs: 0x13420
-  __TEXT.__objc_methlist: 0xe3c8
+12.2.9.1.0
+  __TEXT.__text: 0x40f228
+  __TEXT.__auth_stubs: 0x4760
+  __TEXT.__objc_stubs: 0x134a0
+  __TEXT.__objc_methlist: 0xe448
   __TEXT.__dlopen_cstrs: 0x45e
-  __TEXT.__const: 0x18980
-  __TEXT.__cstring: 0x23e5c
-  __TEXT.__objc_methname: 0x1bbb2
-  __TEXT.__constg_swiftt: 0x2794
-  __TEXT.__swift5_typeref: 0x4250
-  __TEXT.__swift5_fieldmd: 0x2930
+  __TEXT.__const: 0x18ad0
+  __TEXT.__cstring: 0x24125
+  __TEXT.__objc_methname: 0x1bd8c
+  __TEXT.__constg_swiftt: 0x2820
+  __TEXT.__swift5_typeref: 0x42f2
+  __TEXT.__swift5_fieldmd: 0x299c
   __TEXT.__swift5_builtin: 0x17c
-  __TEXT.__swift5_reflstr: 0x1cea
+  __TEXT.__swift5_reflstr: 0x1d0e
   __TEXT.__swift5_assocty: 0x450
   __TEXT.__swift5_proto: 0x40c
-  __TEXT.__swift5_types: 0x2c4
+  __TEXT.__swift5_types: 0x2d0
   __TEXT.__objc_classname: 0x423e
-  __TEXT.__objc_methtype: 0x7d90
-  __TEXT.__swift5_capture: 0x27bc
-  __TEXT.__oslogstring: 0x39dad
-  __TEXT.__swift_as_entry: 0x490
-  __TEXT.__swift_as_ret: 0x584
+  __TEXT.__objc_methtype: 0x7dd4
+  __TEXT.__swift5_capture: 0x283c
+  __TEXT.__oslogstring: 0x3a41d
+  __TEXT.__swift_as_entry: 0x4a8
+  __TEXT.__swift_as_ret: 0x5a4
   __TEXT.__swift5_mpenum: 0x18
   __TEXT.__swift5_types2: 0x4
   __TEXT.__swift5_protos: 0x18
-  __TEXT.__gcc_except_tab: 0xa708
-  __TEXT.__unwind_info: 0xb690
-  __TEXT.__eh_frame: 0xc3e4
-  __DATA_CONST.__auth_got: 0x2350
-  __DATA_CONST.__got: 0x1978
-  __DATA_CONST.__auth_ptr: 0x9f0
-  __DATA_CONST.__const: 0x202a0
-  __DATA_CONST.__cfstring: 0x1b860
-  __DATA_CONST.__objc_classlist: 0x1688
+  __TEXT.__gcc_except_tab: 0xa764
+  __TEXT.__unwind_info: 0xb7a0
+  __TEXT.__eh_frame: 0xc784
+  __DATA_CONST.__auth_got: 0x23c0
+  __DATA_CONST.__got: 0x19b8
+  __DATA_CONST.__auth_ptr: 0xa10
+  __DATA_CONST.__const: 0x20528
+  __DATA_CONST.__cfstring: 0x1baa0
+  __DATA_CONST.__objc_classlist: 0x1698
   __DATA_CONST.__objc_catlist: 0x60
   __DATA_CONST.__objc_protolist: 0x558
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0x1a0
-  __DATA_CONST.__objc_superrefs: 0xda8
+  __DATA_CONST.__objc_superrefs: 0xdb0
   __DATA_CONST.__objc_intobj: 0x1c98
-  __DATA_CONST.__objc_arraydata: 0x890
-  __DATA_CONST.__objc_arrayobj: 0x4b0
-  __DATA_CONST.__objc_dictobj: 0x168
+  __DATA_CONST.__objc_arraydata: 0x898
+  __DATA_CONST.__objc_arrayobj: 0x498
+  __DATA_CONST.__objc_dictobj: 0x190
   __DATA_CONST.__objc_doubleobj: 0x10
-  __DATA.__objc_const: 0x35db8
-  __DATA.__objc_selrefs: 0x66f0
+  __DATA.__objc_const: 0x35e80
+  __DATA.__objc_selrefs: 0x6720
   __DATA.__objc_ivar: 0x2460
-  __DATA.__objc_data: 0x10b60
-  __DATA.__data: 0x73a0
+  __DATA.__objc_data: 0x10cd0
+  __DATA.__data: 0x7450
   __DATA.__bss: 0x8880
   __DATA.__common: 0xb6c
   - /System/Library/Frameworks/Accounts.framework/Accounts

   - /System/Library/PrivateFrameworks/AppleMediaServices.framework/AppleMediaServices
   - /System/Library/PrivateFrameworks/AppleMediaServicesKitInternal.framework/AppleMediaServicesKitInternal
   - /System/Library/PrivateFrameworks/ApplePushService.framework/ApplePushService
+  - /System/Library/PrivateFrameworks/AskPermission.framework/AskPermission
   - /System/Library/PrivateFrameworks/AssetCacheServices.framework/AssetCacheServices
   - /System/Library/PrivateFrameworks/AuthKit.framework/AuthKit
   - /System/Library/PrivateFrameworks/BackgroundSystemTasks.framework/BackgroundSystemTasks

   - /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
   - /System/Library/PrivateFrameworks/NanoPreferencesSync.framework/NanoPreferencesSync
   - /System/Library/PrivateFrameworks/NanoRegistry.framework/NanoRegistry
+  - /System/Library/PrivateFrameworks/OSEligibility.framework/OSEligibility
   - /System/Library/PrivateFrameworks/OnBoardingKit.framework/OnBoardingKit
   - /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer
   - /System/Library/PrivateFrameworks/ReflectionInternal.framework/ReflectionInternal

   - /usr/lib/swift/libswiftCoreFoundation.dylib
   - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftCoreLocation.dylib
-  - /usr/lib/swift/libswiftCryptoTokenKit.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftIntents.dylib

   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 5BD54665-07A3-38E8-AADE-44F66F1105C1
-  Functions: 13662
-  Symbols:   2177
-  CStrings:  18910
+  UUID: 08990719-8C9D-3F39-9D29-48E34380ADA5
+  Functions: 13726
+  Symbols:   2200
+  CStrings:  18967
 
Symbols:
+ _$s13OSEligibility0A6AnswerO2eeoiySbAC_ACtFZ
+ _$s13OSEligibility0A6AnswerO8eligibleyA2CmFWC
+ _$s13OSEligibility0A6AnswerOMa
+ _$s13OSEligibility0A6DomainO5boronyA2CmFWC
+ _$s13OSEligibility0A6DomainO8titaniumyA2CmFWC
+ _$s13OSEligibility0A6DomainOMa
+ _$s13OSEligibility0A6ResultV6answerAA0A6AnswerOvg
+ _$s13OSEligibility0A6ResultV6result3forAcA0A6DomainO_tKFZ
+ _$s13OSEligibility0A6ResultV7contextShyAA0A7ContextOGvg
+ _$s13OSEligibility0A6ResultVMa
+ _$s13OSEligibility0A6ResultVMn
+ _$s13OSEligibility0A7ContextO11entitlementyACSDySSAC16EntitlementValueOGcACmFWC
+ _$s13OSEligibility0A7ContextO16EntitlementValueO5arrayyAESayAEGcAEmFWC
+ _$s13OSEligibility0A7ContextO16EntitlementValueO6stringyAESScAEmFWC
+ _$s13OSEligibility0A7ContextO16EntitlementValueOMa
+ _$s13OSEligibility0A7ContextOMa
+ _$sScG8IteratorVyx_GScIsMc
+ _$sScG9cancelAllyyF
+ _$sScGyxGScisMc
+ _$ss23AsyncCompactMapSequenceV4basexvg
+ _$ss23AsyncCompactMapSequenceV8IteratorV04baseE00aE0QzvM
+ _$ss23AsyncCompactMapSequenceV8IteratorV9transformyq_Sg7ElementQzYacvg
+ _$ss23AsyncCompactMapSequenceV8IteratorVMn
+ _$ss23AsyncCompactMapSequenceV8IteratorV_9transformADyxq__G0aE0Qz_q_Sg7ElementQzYactcfC
+ _$ss23AsyncCompactMapSequenceV9transformyq_Sg7ElementQzYacvg
+ _$ss23AsyncCompactMapSequenceVMn
+ _$ss23AsyncCompactMapSequenceV_9transformAByxq_Gx_q_Sg7ElementQzYactcfC
+ _OBJC_CLASS_$_APRequestHandler
- _$sScg17makeAsyncIteratorScg0C0Vyxq__GyF
- _$sScg8IteratorV4next9isolationxSgScA_pSgYi_tYaq_YKF
- _$sScg8IteratorV4next9isolationxSgScA_pSgYi_tYaq_YKFTu
- _$sScg8IteratorVMn
- __swift_FORCE_LOAD_$_swiftCryptoTokenKit
CStrings:
+ "%@-uses-non-webkit-browser-engine"
+ "0.00"
+ "01:46:00"
+ "@48@0:8@16q24q32@40"
+ "AppWithCustomBrowserEngine"
+ "BrowserChoice"
+ "CREATE TABLE IF NOT EXISTS purchase_history_apps (pid INTEGER PRIMARY KEY, app_icon_artwork_url TEXT, app_icon_artwork_token TEXT, app_icon_compatible_artwork_url TEXT, bundle_id TEXT, content_rating_flags INTEGER, circular_app_icon_artwork_url TEXT, circular_app_icon_artwork_token TEXT, circular_app_icon_compatible_artwork_url, TEXT, date_purchased DATETIME, developer_name TEXT, family_shared INTEGER, first_party INTEGER, is_ios_binary_macos_available INTEGER, is_ios_binary_macos_compatible INTEGER, has_messages_extension INTEGER, hidden INTEGER, hidden_from_springboard INTEGER, icon_url_template TEXT, is_32_bit_only INTEGER, is_eligible_for_games_app INTEGER, is_preorder INTEGER, is_verified_for_macos INTEGER, long_title TEXT, mac_app_required_capabilities JSON, media_kind INTEGER, oval_icon_url_template TEXT, preflight_package_url URL, product_url URL, purchaser_dsid INTEGER, redownload_params TEXT, required_capabilities JSON, requires_rosetta INTEGER, runs_on_apple_silicon INTEGER, runs_on_intel INTEGER, has_any_version_that_runs_on_intel INTEGER, store_item_id INTEGER, supports_ipad INTEGER, supports_iphone INTEGER, supports_mac INTEGER, supports_reality_device INTEGER, purchase_token INTEGER, locker_item_id INTEGER, genre_id INTEGER, genre_name TEXT, watch_app_delivered_in_ios_app INTEGER, watch_app_runs_independently INTEGER, watch_app_watch_only INTEGER, supports_layered_image INTEGER, has_p3 INTEGER, title TEXT, circular_icon_url TEXT, ros_app_required_capabilities JSON, ios_to_ros_release_date DATETIME, opted_in_for_ros_eligibility INTEGER, currently_opted_in_for_ros_eligibility INTEGER, min_os_for_ros_eligibility INTEGER, UNIQUE(purchaser_dsid, store_item_id) ON CONFLICT REPLACE);"
+ "Created %lu age rating exception request(s), %lu install(s) will proceed normally"
+ "CustomBrowserEngineApp"
+ "Expected non-nil bag; falling back to letting AMS create its own bag."
+ "Failed to load bag on network state change notification; waiting for next notification to make another attempt."
+ "Oct 25 2025"
+ "WiFiNetworkSharing"
+ "[%@] Checking support for alternative distribution"
+ "[%@] Checking support for custom browser apps"
+ "[%@] Checking support for non-WebKit browser engine apps"
+ "[%@] Checking support for non-WebKit browser engine apps (Steward)"
+ "[%@] Error fetching restriction exceptions: no dsid provided"
+ "[%@] Error when fetching restriction exceptions for %@: %@"
+ "[%@] Error when removing restriction exceptions for %{public}s: %@"
+ "[%@] Failed to create age rating exception request with error: %{public}@"
+ "[%@] Finished updating storeMetadata for bundleID: %{public}s to %ld"
+ "[%@] Hydrating apps: [%{public}@]"
+ "[%@] No update available for 32-bit app: %{public}@"
+ "[%@] Notifying ScreenTime of app rating changes for %ld app(s)"
+ "[%@] Posted installation event without proof of purchase.\nitemResponse.error? => %{bool}hhd\npurchase result count = %hhu\nfirst purchase result stauts = %hhd\nfinalizedBlindedData == nil => %{bool}hhd\nfinalizedBlindedData.count=%hhu\nisArcade=%{bool}d\nisPreorderFulfillment=%{bool}hhd\nisUserInitiated=%{bool}hhd\nrecoveryCount=%d\nshouldAskForRatingException=%{bool}hhd"
+ "[%@] Successfully created age rating exception request with UUID: %{public}@"
+ "[%@] Successfully fetched %ld restriction exceptions for %llu"
+ "[%@] Successfully removed exception for %{public}s"
+ "[%@] System app requires age rating exception, requesting permission"
+ "[%@] Unable to determine eligibility for domain %{public}s"
+ "[%@] Unable to find store metadata for itemID: %llu"
+ "[%@] Unable to update store metadata for itemID: %llu because %{public}@"
+ "[%@] Unable to update store metadata for itemID: %llu because of missing bundleID"
+ "[%@] Unable to update store metadata for itemID: %llu because of missing bundleURL"
+ "[%@] [%{public}@] Added to deny listed because of entitlement: %{public}@ -> %{public}@"
+ "[%@] revokeAppConsentForAccountID complete with error: %{public}@"
+ "[%@] revokeAppConsentForAccountID:completionBlock for client: %{public}@"
+ "[%{public}@] [%@] Check for demoted placeholders complete"
+ "[%{public}@] [%@] Promoting previously failed upgrade with bundleID: %{public}@"
+ "[%{public}@] revokeAppConsentForAccountID complete for client: %{public}@"
+ "[%{public}@]: [%@] Checking if we can re-hydrate bundleIDs: [%{public}@]"
+ "[%{public}@]: [%@] Promoting system app %{public}@ (%{public}@)"
+ "[%{public}@]: [%@] Promoting system app %{public}@ failed: %{public}@"
+ "_TtC9appstored21AgeRevocationNotifier"
+ "_TtC9appstoredP33_1D0CA4202202EC2E79D75091001C648835AgeRevocationNotifierRequestEncoder"
+ "addExceptionRequestWithUUID:type:bundleIdentifier:adamID:distributorID:ageRatingValue:withCompletion:"
+ "age_rating_value"
+ "appstored.AgeRevocationNotifier"
+ "askForExceptionRequested"
+ "browserChoiceScreenBuy"
+ "com.apple.appstored.%@[%@]"
+ "com.apple.appstored.AppInstallQueue.TaskQueue"
+ "com.apple.appstored.AppInstallsDatabaseTransaction.NotifyTestFlightClientTaskQueue"
+ "com.apple.appstored.ArcadeManager.RepairNotification"
+ "com.apple.appstored.ArcadeManagerTaskQueue"
+ "com.apple.appstored.ArcadeRepair"
+ "com.apple.appstored.BackgroundAssetRelayTaskQueue"
+ "com.apple.appstored.ExternalManifestRequestTaskQueue"
+ "com.apple.appstored.InstallationService.TaskQueue"
+ "com.apple.appstored.LaunchServicesObserver.AppleIDDidChange.ValidateAppleIDs"
+ "com.apple.appstored.RestoreManager"
+ "com.apple.appstored.RestoreManager.dispatch"
+ "com.apple.appstored.VPPRepair"
+ "com.apple.developer.embedded-web-browser-engine.engine-association"
+ "com.apple.developer.wifi-infrastructure"
+ "customBrowserEngineAppType"
+ "customBrowserEngineAssociation"
+ "deferredInstall"
+ "deleteExceptionFor:completionHandler:"
+ "deleteExceptionIfExistsForDSID:bundleID:logKey:"
+ "fetchAllAppExceptionsForRequesterDSID:completionHandler:"
+ "https://mzstorekit.itunes.apple.com/inApps/v1/rescindConsent"
+ "initWithAccount:rescindDSID:rescindItemID:bag:"
+ "mtPrevPage"
+ "requestWithMethod:URL:headers:parameters:"
+ "rescindAppConsent"
+ "revokeAppConsentForAccountID:itemID:account:completionHandler:"
+ "runAsyncSubTask:logKey:completionHandler:"
+ "runTaskWithLogKey:completionHandler:"
+ "seed"
+ "setSupportsAlternativeAppDistribution:"
+ "should_ask_for_rating_exception"
+ "supportsAlternativeAppDistribution"
+ "usesNonWebKitBrowserEngines"
+ "usesNonWebKitBrowserEnginesAsSteward"
+ "v28@?0B8@\"NSUUID\"12@\"NSError\"20"
+ "v48@0:8@\"NSNumber\"16@\"NSNumber\"24@\"ACAccount\"32@?<v@?B@\"NSError\">40"
+ "x-download-token"
- "22:45:30"
- "A time out occurred during an app install, please help us diagnose this issue by filing a radar."
- "App install timed out"
- "CREATE TABLE IF NOT EXISTS purchase_history_apps (pid INTEGER PRIMARY KEY, app_icon_artwork_url TEXT, app_icon_artwork_token TEXT, app_icon_compatible_artwork_url TEXT, bundle_id TEXT, content_rating_flags INTEGER, circular_app_icon_artwork_url TEXT, circular_app_icon_artwork_token TEXT, circular_app_icon_compatible_artwork_url, TEXT, date_purchased DATETIME, developer_name TEXT, family_shared INTEGER, first_party INTEGER, is_ios_binary_macos_available INTEGER, is_ios_binary_macos_compatible INTEGER, has_messages_extension INTEGER, hidden INTEGER, hidden_from_springboard INTEGER, icon_url_template TEXT, is_32_bit_only INTEGER, is_eligible_for_games_app INTEGER, is_preorder INTEGER, is_verified_for_macos INTEGER, long_title TEXT, mac_app_required_capabilities JSON, media_kind INTEGER, oval_icon_url_template TEXT, preflight_package_url URL, product_url URL, purchaser_dsid INTEGER, redownload_params TEXT, required_capabilities JSON, requires_rosetta INTEGER, runs_on_apple_silicon INTEGER, runs_on_intel INTEGER, store_item_id INTEGER, supports_ipad INTEGER, supports_iphone INTEGER, supports_mac INTEGER, supports_reality_device INTEGER, purchase_token INTEGER, locker_item_id INTEGER, genre_id INTEGER, genre_name TEXT, watch_app_delivered_in_ios_app INTEGER, watch_app_runs_independently INTEGER, watch_app_watch_only INTEGER, supports_layered_image INTEGER, has_p3 INTEGER, title TEXT, circular_icon_url TEXT, ros_app_required_capabilities JSON, ios_to_ros_release_date DATETIME, opted_in_for_ros_eligibility INTEGER, currently_opted_in_for_ros_eligibility INTEGER, min_os_for_ros_eligibility INTEGER, UNIQUE(purchaser_dsid, store_item_id) ON CONFLICT REPLACE);"
- "CrashReporter"
- "Hydrating apps: [%{public}@]"
- "InternalBuild"
- "LastPromptForTimeoutTTR"
- "No update available for 32-bit app: %{public}@"
- "Oct 22 2025"
- "RK"
- "TB,N,R,VhasCategory"
- "Update All (Background) - "
- "Update All (User) - "
- "[%@"
- "[%@] Checking support for feature A"
- "[%@] Checking support for feature B"
- "[%@] Checking support for feature C"
- "[%@] Failed to load bag"
- "[%@] Finished updating storeMetadata for bundleID:%{public}s to %@"
- "[%@] Loading bag"
- "[%@] Notifying ScreenTime of app rating changes for %{public}ld %s"
- "[%@] Succesfully fetched %ld restriction exceptions for %llu"
- "[%@] Unable to find store metadata for itemID: %{public}s"
- "[%@] Unable to update store metadata for itemID: %{public}s because %{public}@"
- "[%@] Unable to update store metadata for itemID: %{public}s because of missing%s%s"
- "[%{public}@] Promoting previously failed upgrade with bundleID: %{public}@"
- "[%{public}@] [%{public}@] Check for demoted placeholders complete"
- "[%{public}@]: Checking if we can re-hydrate bundleIDs: [%{public}@]"
- "[%{public}@]: Promoting system app %{public}@ (%{public}@)"
- "[%{public}@]: Promoting system app %{public}@ failed: %{public}@"
- "callStackSymbols"
- "com.apple.AppInstallsDatabaseTransaction.NotifyTestFlightClientTaskQueue"
- "com.apple.LaunchServicesObserver.AppleIDDidChange.ValidateAppleIDs"
- "com.apple.RestoreManager.dispatch"
- "com.apple.appstored.%@.%@"
- "com.apple.appstored.ManagedApplicationTask"
- "com.apple.appstored.StoreQueueManager.callback"
- "com.apple.appstored.TaskQueue"
- "com.apple.appstored.TaskQueue.barrierBlock"
- "com.apple.appstored.metrics.purchase"
- "gold"
- "hasCategory"
- "publicInputComponents"
- "runAsyncSubTask:completionHandler:"
- "runTaskWithCompletionHandler:"
- "setSupportsFeatureA:"
- "supportsFeatureA"
- "supportsFeatureB"
- "supportsFeatureC"

```
