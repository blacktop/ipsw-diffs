## identityservicesd

> `/System/Library/PrivateFrameworks/IDS.framework/identityservicesd.app/identityservicesd`

```diff

-1968.200.71.2.1
-  __TEXT.__text: 0x932c88
-  __TEXT.__auth_stubs: 0x5b90
-  __TEXT.__objc_stubs: 0x46760
-  __TEXT.__objc_methlist: 0x295dc
-  __TEXT.__const: 0x64d40
-  __TEXT.__gcc_except_tab: 0x29e10
-  __TEXT.__objc_methname: 0x731e2
-  __TEXT.__cstring: 0x59777
-  __TEXT.__oslogstring: 0x7abbb
-  __TEXT.__objc_classname: 0x43ae
-  __TEXT.__objc_methtype: 0x12394
+1968.300.13.2.2
+  __TEXT.__text: 0x93ef1c
+  __TEXT.__auth_stubs: 0x5ba0
+  __TEXT.__objc_stubs: 0x46980
+  __TEXT.__objc_methlist: 0x297b4
+  __TEXT.__const: 0x64e90
+  __TEXT.__gcc_except_tab: 0x29ea0
+  __TEXT.__objc_methname: 0x7362d
+  __TEXT.__cstring: 0x59bd7
+  __TEXT.__oslogstring: 0x7b3bb
+  __TEXT.__objc_classname: 0x4410
+  __TEXT.__objc_methtype: 0x1247f
   __TEXT.__ustring: 0x4ca
   __TEXT.__dlopen_cstrs: 0xea
-  __TEXT.__swift5_typeref: 0x5de0
-  __TEXT.__swift5_capture: 0x12f8
-  __TEXT.__constg_swiftt: 0x5164
-  __TEXT.__swift5_reflstr: 0x4f54
-  __TEXT.__swift5_fieldmd: 0x5270
+  __TEXT.__swift5_typeref: 0x6088
+  __TEXT.__swift5_capture: 0x1358
+  __TEXT.__constg_swiftt: 0x5310
+  __TEXT.__swift5_reflstr: 0x5084
+  __TEXT.__swift5_fieldmd: 0x5390
   __TEXT.__swift5_builtin: 0xb4
   __TEXT.__swift5_protos: 0x60
-  __TEXT.__swift5_proto: 0x9ac
-  __TEXT.__swift5_types: 0x4cc
+  __TEXT.__swift5_proto: 0x9b8
+  __TEXT.__swift5_types: 0x4d4
   __TEXT.__swift_as_entry: 0x70
   __TEXT.__swift_as_ret: 0x6c
   __TEXT.__swift5_assocty: 0xfc0
   __TEXT.__swift5_mpenum: 0x8
-  __TEXT.__unwind_info: 0x12198
-  __TEXT.__eh_frame: 0x9a2c
-  __DATA_CONST.__auth_got: 0x2dd8
-  __DATA_CONST.__got: 0x3898
-  __DATA_CONST.__auth_ptr: 0x798
-  __DATA_CONST.__const: 0x2dd98
-  __DATA_CONST.__cfstring: 0x348e0
-  __DATA_CONST.__objc_classlist: 0x1118
+  __TEXT.__unwind_info: 0x122d0
+  __TEXT.__eh_frame: 0x9ae4
+  __DATA_CONST.__auth_got: 0x2de0
+  __DATA_CONST.__got: 0x38c0
+  __DATA_CONST.__auth_ptr: 0x7a0
+  __DATA_CONST.__const: 0x2e018
+  __DATA_CONST.__cfstring: 0x34a20
+  __DATA_CONST.__objc_classlist: 0x1128
   __DATA_CONST.__objc_catlist: 0x50
-  __DATA_CONST.__objc_protolist: 0x750
+  __DATA_CONST.__objc_protolist: 0x760
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_protorefs: 0x108
-  __DATA_CONST.__objc_superrefs: 0xb90
+  __DATA_CONST.__objc_protorefs: 0x110
+  __DATA_CONST.__objc_superrefs: 0xb98
   __DATA_CONST.__objc_intobj: 0x1b30
   __DATA_CONST.__objc_arraydata: 0x5b0
   __DATA_CONST.__objc_arrayobj: 0x360
   __DATA_CONST.__objc_doubleobj: 0x10
   __DATA_CONST.__objc_dictobj: 0x50
-  __DATA.__objc_const: 0x47ea0
-  __DATA.__objc_selrefs: 0x15da8
-  __DATA.__objc_ivar: 0x32c0
-  __DATA.__objc_data: 0xd380
-  __DATA.__data: 0xeb20
-  __DATA.__bss: 0x16f78
-  __DATA.__common: 0xf20
+  __DATA.__objc_const: 0x482a8
+  __DATA.__objc_selrefs: 0x15e90
+  __DATA.__objc_ivar: 0x32d4
+  __DATA.__objc_data: 0xd638
+  __DATA.__data: 0xebe0
+  __DATA.__bss: 0x17158
+  __DATA.__common: 0xf30
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork
   - /System/Library/Frameworks/CoreBluetooth.framework/CoreBluetooth
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswiftCoreLocation.dylib
   - /usr/lib/swift/libswiftCoreMIDI.dylib
   - /usr/lib/swift/libswiftCoreMedia.dylib
-  - /usr/lib/swift/libswiftCryptoTokenKit.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftIntents.dylib
   - /usr/lib/swift/libswiftMetal.dylib

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: CC819F34-C715-3830-8C1E-C40E7DB9CCB8
-  Functions: 25292
-  Symbols:   2747
-  CStrings:  41491
+  UUID: 777C43E1-7A05-3BED-9415-983F3D657979
+  Functions: 25391
+  Symbols:   2752
+  CStrings:  41604
 
Symbols:
+ _IDSRegistrationPropertySupportsSignificantAppUpdate
+ _IDSServiceNameStatusKitKeySharing
+ _OBJC_CLASS_$_KTIDSData
+ _OBJC_CLASS_$_KTIDSDataURI
+ _OBJC_CLASS_$_KTIDSIdentity
+ _OBJC_CLASS_$_KTNetworkResponse
+ __IDSU2DEnhancementsEnabled
- _IDSRegistrationPropertySupportsQueueOneReadReceiptsV2
- __swift_FORCE_LOAD_$_swiftCryptoTokenKit
CStrings:
+ "%s: Finished transparency validation for URIs %s"
+ "%s: IDS query complete, still waiting for KT Query for URIs %s"
+ "%s: IDS query complete, transitioning to .validating"
+ "%s: KT Query response received, duration: %f"
+ "%s: Kicking KT Query for URIs %s"
+ "%s: Kicking transparency validation for URIs %s, validating %s"
+ "%s: Logging query completion metric"
+ "%s: Missing a query response for URI %s! Skipping validation..."
+ "%s: Received KT Query Responses: %s"
+ "%s: Received KT Response for URI: %s, Response data: %s SH: %s Error: %s"
+ "%s: Transitioning to .validating"
+ "%s: Transitioning to .waitingForIDSResponse"
+ "%s: Transparency validation results %s"
+ "20:46:14"
+ "<%@: %p { configID: %@, config: %@, isNew: %@ }>"
+ "@\"NSDictionary\"64@0:8@\"NSDictionary\"16@\"NSArray\"24@\"IDSURI\"32@\"NSString\"40@\"NSUUID\"48@\"IDSQueryCompletionMetric\"56"
+ "Clearing server storage state for topic %@"
+ "Concurrent queries enabled, not kicking peer verification after remote query finished"
+ "Concurrent queries enabled, query metric will be posted by the response state machine"
+ "Dropping GUID %@ Destination %@ in requireAll QueueOneReadReceipts (enableU2DEnhancements == NO)"
+ "Failed to forceRollSMSConfigWipeAll, will retry at %@"
+ "Failed to noteOffGridState for token: %@ remoteURI: %@ error: %@"
+ "Finished a query with id %@ but no corresponding query state machine?"
+ "Found no last Active or iMessaged device"
+ "IDSPeerIDQueryStartedContext"
+ "Ignoring GUID %@ Destination %@ in lackAll QueueOneReadReceipts (enableU2DEnhancements == NO)"
+ "Invalid transition: Received %s while in state %s"
+ "KTConcurrentQueryMetricsOnly"
+ "Last Active device was seen at: %s token: %s"
+ "Loaded next heartbeat { nextHeartbeat: %@, smsConfigExpiration: %@ }"
+ "NOT Noting off grid state. Rate limit reached: %@"
+ "Not posting firewall notification because it is a StatusKit notification from a user in contacts: {uri: %@}"
+ "Noted off grid state: %@ with error %@"
+ "Noting off grid state: %@"
+ "Oct 28 2025"
+ "SELECT DISTINCT handle, last_seen_date, is_donated, merge_id FROM firewall_record WHERE is_donated = 1;"
+ "SELECT DISTINCT handle, last_seen_date, is_donated, merge_id FROM firewall_record;"
+ "SMSConfigExpiration"
+ "SenderKeySelectionLogic"
+ "Setting heartbeat timer for next heartbeat { nextHeartbeat: %@, smsConfigExpiration: %@ }"
+ "T@\"NSMutableDictionary\",&,N,V_queryResponseStateMachines"
+ "T@\"NSSet\",&,N,V_uris"
+ "T@\"NSUUID\",&,N,V_queryID"
+ "T@\"NSUUID\",N,C"
+ "TB,N,V_isNewConfig"
+ "U2D Enhancements enabled? %@"
+ "Using updated sender key logic"
+ "_TtC17identityservicesd34IDSPeerIDQueryResponseStateMachine"
+ "_TtP17identityservicesd42IDSPeerIDQueryResponseStateMachineDelegate_"
+ "_isNewConfig"
+ "_queryID"
+ "_queryResponseStateMachines"
+ "clearServerStorageStateForService:withCompletion:"
+ "clearStateForTopic:"
+ "coreAnalyticsLogger"
+ "currentState"
+ "enhanced_read_receipts"
+ "finishedQueryWithInfo:forURIs:fromURI:service:identifier:metric:"
+ "forceRollSMSConfig attempt %ld failed: %@"
+ "forceRollSMSConfig attempt %ld timed out"
+ "forceRollSMSConfig exhausted all attempts!"
+ "forceRollSMSConfig succeeded on attempt %ld"
+ "forceRollSMSConfigWipeAll:completion:"
+ "idsData"
+ "initWithConfig:withID:isNewConfig:"
+ "initWithIDSData:ktResponse:"
+ "initWithIdentities:uri:application:ktAccountKey:"
+ "initWithPushToken:ktLoggableData:signature:ktCapable:"
+ "initWithQueryID:uris:service:"
+ "initWithTransparencyDaemon:delegate:queryID:coreAnalyticsLogger:"
+ "isNewConfig"
+ "kt-concurrent-query-disable-metrics-only"
+ "ktConcurrentQueryEnablementStatus"
+ "ktQuery:application:queryOptions:trace:complete:"
+ "ktQueryDuration"
+ "ktResponses"
+ "ktServerDisabledConcurrentQueryMetricsOnly"
+ "noteIDSQueryResponse:metric:"
+ "noteIDSQueryStartWithUris:service:"
+ "noteOffGridState:completion:"
+ "offGridStatus"
+ "onAllDevices not found. Picking one from last Active or iMessaged device, in that order"
+ "persistSMSConfigExpiration:"
+ "persistedSMSConfigExpiration"
+ "queryID"
+ "queryMetric"
+ "queryResponseStateMachines"
+ "serverHint"
+ "setIsNewConfig:"
+ "setKtQueryKickedConcurrently:"
+ "setQueryID:"
+ "setQueryResponseStateMachines:"
+ "sps-prov-sms-config-expiration-interval"
+ "sps-prov-sms-config-retry-interval"
+ "startedQueryWithContext:"
+ "u2DEnhancementsEnabled"
+ "updateOffGridState:completion:"
+ "v24@0:8@\"IDSPeerIDQueryStartedContext\"16"
+ "v24@?0@\"IDSOffGridState\"8@\"NSError\"16"
+ "v32@0:8@\"IDSOffGridState\"16@?<v@?@\"IDSOffGridState\"@\"NSError\">24"
+ "v32@0:8@\"_TtC17identityservicesd34IDSPeerIDQueryResponseStateMachine\"16@\"NSDictionary\"24"
+ "validateURIs:queryOptions:complete:"
+ "validationFinished:ktVerifierResults:"
+ "waitingForIDSResponse"
+ "waitingForKTResponse"
- "00:26:36"
- "<%@: %p { configID: %@, config: %@}>"
- "@\"NSDictionary\"48@0:8@\"NSDictionary\"16@\"NSArray\"24@\"IDSURI\"32@\"NSString\"40"
- "Loaded next heartbeat { nextHeartbeat: %@ }"
- "Oct 11 2025"
- "Setting heartbeat timer for next heartbeat { nextHeartbeat: %@ }"
- "finishedQueryWithInfo:forURIs:fromURI:service:"
- "forceRollSMSConfig finished { error : %@ }"
- "forceRollSMSConfigWipeAll:"
- "initWithConfig:withID:"

```
