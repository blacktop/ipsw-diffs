## IMDaemonCore

> `/System/Library/PrivateFrameworks/IMDaemonCore.framework/IMDaemonCore`

```diff

-1450.200.89.2.31
-  __TEXT.__text: 0x30abc0
-  __TEXT.__auth_stubs: 0x5240
-  __TEXT.__objc_methlist: 0x18d44
-  __TEXT.__const: 0x6298
-  __TEXT.__cstring: 0x146c1
-  __TEXT.__gcc_except_tab: 0x25958
-  __TEXT.__oslogstring: 0x4c838
+1450.300.16.2.4
+  __TEXT.__text: 0x317b1c
+  __TEXT.__auth_stubs: 0x5410
+  __TEXT.__objc_methlist: 0x191e4
+  __TEXT.__const: 0x64e8
+  __TEXT.__cstring: 0x149a1
+  __TEXT.__gcc_except_tab: 0x25738
+  __TEXT.__oslogstring: 0x4d007
   __TEXT.__ustring: 0x32c
   __TEXT.__dlopen_cstrs: 0x246
-  __TEXT.__constg_swiftt: 0x2168
-  __TEXT.__swift5_typeref: 0x291c
+  __TEXT.__constg_swiftt: 0x2288
+  __TEXT.__swift5_typeref: 0x2b6a
   __TEXT.__swift5_builtin: 0x1b8
-  __TEXT.__swift5_reflstr: 0x11af
-  __TEXT.__swift5_fieldmd: 0x1400
+  __TEXT.__swift5_reflstr: 0x127f
+  __TEXT.__swift5_fieldmd: 0x1504
   __TEXT.__swift5_assocty: 0x688
-  __TEXT.__swift5_capture: 0x1218
-  __TEXT.__swift5_proto: 0x2e4
-  __TEXT.__swift5_types: 0x1e8
-  __TEXT.__swift_as_entry: 0x2a0
-  __TEXT.__swift_as_ret: 0x358
-  __TEXT.__swift5_protos: 0x24
+  __TEXT.__swift5_capture: 0x1238
+  __TEXT.__swift5_proto: 0x2f0
+  __TEXT.__swift5_types: 0x1f8
+  __TEXT.__swift_as_entry: 0x2a8
+  __TEXT.__swift_as_ret: 0x364
+  __TEXT.__swift5_protos: 0x28
   __TEXT.__swift5_mpenum: 0x10
-  __TEXT.__unwind_info: 0xc7d0
-  __TEXT.__eh_frame: 0x61e4
-  __TEXT.__objc_classname: 0x3519
-  __TEXT.__objc_methname: 0x4bfd7
-  __TEXT.__objc_methtype: 0xa0c7
-  __TEXT.__objc_stubs: 0x2f400
-  __DATA_CONST.__got: 0x30c0
-  __DATA_CONST.__const: 0x6288
-  __DATA_CONST.__objc_classlist: 0x938
+  __TEXT.__unwind_info: 0xc938
+  __TEXT.__eh_frame: 0x645c
+  __TEXT.__objc_classname: 0x354a
+  __TEXT.__objc_methname: 0x4d09e
+  __TEXT.__objc_methtype: 0xa0e1
+  __TEXT.__objc_stubs: 0x2fc20
+  __DATA_CONST.__got: 0x3168
+  __DATA_CONST.__const: 0x62b0
+  __DATA_CONST.__objc_classlist: 0x958
   __DATA_CONST.__objc_catlist: 0xe8
-  __DATA_CONST.__objc_protolist: 0x738
+  __DATA_CONST.__objc_protolist: 0x748
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xf730
-  __DATA_CONST.__objc_protorefs: 0x258
+  __DATA_CONST.__objc_selrefs: 0xfa10
+  __DATA_CONST.__objc_protorefs: 0x268
   __DATA_CONST.__objc_superrefs: 0x588
   __DATA_CONST.__objc_arraydata: 0x158
-  __AUTH_CONST.__auth_got: 0x2930
-  __AUTH_CONST.__const: 0x7c30
-  __AUTH_CONST.__cfstring: 0xdf60
-  __AUTH_CONST.__objc_const: 0x1f690
-  __AUTH_CONST.__objc_intobj: 0x990
+  __AUTH_CONST.__auth_got: 0x2a18
+  __AUTH_CONST.__const: 0x7e38
+  __AUTH_CONST.__cfstring: 0xde20
+  __AUTH_CONST.__objc_const: 0x1ffb8
+  __AUTH_CONST.__objc_intobj: 0x9d8
   __AUTH_CONST.__objc_arrayobj: 0x1e0
   __AUTH_CONST.__objc_floatobj: 0x10
-  __AUTH.__objc_data: 0x2f48
-  __AUTH.__data: 0x4c0
-  __DATA.__objc_ivar: 0x1104
-  __DATA.__data: 0x5770
-  __DATA.__bss: 0x4b60
-  __DATA.__common: 0x110
-  __DATA_DIRTY.__objc_data: 0x3278
-  __DATA_DIRTY.__data: 0x2440
+  __AUTH.__objc_data: 0x31a8
+  __AUTH.__data: 0x568
+  __DATA.__objc_ivar: 0x116c
+  __DATA.__data: 0x5928
+  __DATA.__bss: 0x4c60
+  __DATA.__common: 0x130
+  __DATA_DIRTY.__objc_data: 0x3250
+  __DATA_DIRTY.__data: 0x2400
   __DATA_DIRTY.__bss: 0x1720
   __DATA_DIRTY.__common: 0x1b0
   - /System/Library/Frameworks/Accounts.framework/Accounts

   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 096E73D7-8B04-3A73-B70A-02645E316E51
-  Functions: 12396
-  Symbols:   2910
-  CStrings:  21035
+  UUID: D7DE0B5C-D04C-3FE6-B13C-F5197CA276A2
+  Functions: 12610
+  Symbols:   2950
+  CStrings:  21203
 
Symbols:
+ OBJC_IVAR_$_IMReadReceiptProcessingPipelineComponent._storageController
+ OBJC_IVAR_$_IMTextMessageProcessingPipelineComponent._storageController
+ _IDSDevicePropertyIdentitiesURI
+ _IMAttachmentPersistentPath
+ _IMChatLookupLogHandle
+ _IMChatPropertySpamDetectedMessageKey
+ _IMDDScanAttributedStringWithTranslations
+ _IMDRelayMessageItemDictionarySendAsUnencryptedRCSKey
+ _IMDaemonLogHandle
+ _IMMetricsCollectorNumChatsMarkedRead
+ _IMMetricsCollectorNumChatsMarkedReadWithV0
+ _IMMetricsCollectorNumChatsMarkedReadWithV1NoQOI
+ _IMMetricsCollectorNumChatsMarkedReadWithV1WithQOI
+ _IMMetricsCollectorNumReadReceipts
+ _IMMetricsCollectorNumV0ReadReceipts
+ _IMMetricsCollectorNumV1ReadReceipts
+ _IMMetricsCollectorNumV1ReadReceiptsNoQOI
+ _IMMetricsCollectorNumV1ReadReceiptsNoQOIMarkedMessageAfterInitial
+ _IMMetricsCollectorNumV1ReadReceiptsWithQOI
+ _IMMetricsCollectorNumV1ReadReceiptsWithQOINoChat
+ _IMReceivePipelineLogHandle
+ _IMReceivePipelineReadReceiptsLogHandle
+ _IMSimulatedMessagesLogHandle
+ _IMStorageBatchLogHandle
+ _IMStorageLogHandle
+ _IMStringFromMessageFilterActionCategory
+ _IMStringFromMessageFilterActionSubcategory
+ _OBJC_CLASS_$_IMDBatchSimulatedEntryProcessor
+ _OBJC_CLASS_$_IMEnhancedStorageMetrics
+ _OBJC_CLASS_$_IMSimulatedEntry
+ _OBJC_CLASS_$_IMSimulatedEntryConfiguration
+ _OBJC_CLASS_$_IMSimulatedMessageFileTransferPart
+ _OBJC_CLASS_$_IMSimulatedMessagePart
+ _OBJC_CLASS_$_IMSimulatedMessageTextPart
+ _OBJC_CLASS_$_IMTrackedReadReceipt
+ _OBJC_CLASS_$_RCSEncryptionDowngradeHandler
+ _OBJC_CLASS_$__TtC12IMDaemonCore18ReadReceiptTracker
+ _OBJC_METACLASS_$_IMDBatchSimulatedEntryProcessor
+ _OBJC_METACLASS_$_IMEnhancedStorageMetrics
+ _OBJC_METACLASS_$_IMTrackedReadReceipt
+ _OBJC_METACLASS_$_RCSEncryptionDowngradeHandler
+ _OBJC_METACLASS_$__TtC12IMDaemonCore18ReadReceiptTracker
+ _swift_isUniquelyReferenced_native
- _OBJC_CLASS_$_IMDBatchMessageSimulator
- _OBJC_CLASS_$_IMSimulatedMessageConfiguration
- _OBJC_METACLASS_$_IMDBatchMessageSimulator
CStrings:
+ "    Is from storage %{BOOL}d is last %{BOOL}d"
+ "    Item from storage finished processing"
+ "  Existing domain identifiers prior to malformed domain identifier: %@"
+ "%@-%@-%@ [identifier-domain-chatIdentifier]"
+ "@\"IMEnhancedStorageMetrics\""
+ "@64@0:8@16Q24Q32@40B48q52B60"
+ "Account %@ Batch Message (%lld/%lld) isLast %{BOOL}d"
+ "AssignIdentifier"
+ "AssignUniqueHistoricalIdentifiers"
+ "Batch %@ (%lld/%lld), grabbing latest context"
+ "Batch identifier %@ is empty, but we're tracking for messages, is tracking compromised?"
+ "BlastDoorRelayReachabilityHandleResult for %@ does not support encryption."
+ "Completed processing of batch %@ with %lld messages, (batch %lld/%lld) removing tracker"
+ "Could not derive From Display ID for chat identification"
+ "Could not store %ld reparentable messages; nil pTaskQueryProvider."
+ "Dropping repeated read receipt for: %@ as it is not from me and the message was already marked read at %@"
+ "Error tracking completion of batch id %@ (%lld/%lld)"
+ "IMDBatchSimulatedEntryProcessor"
+ "IMDaemonCore.IMDBatchSimulatedEntryProcessor"
+ "IMDaemonCore_Private.TrackedReadReceipt"
+ "IMEnhancedStorageMetrics"
+ "IMTrackedReadReceipt"
+ "Identifier is not malformed. No metric event will be posted."
+ "Invalid entry type"
+ "Junk filtering: TrustKit decisioning skipped because chat is a self chat."
+ "Junk filtering: TrustKitForcedSpamDecisionResult enabled, bypassing skip checks and allowing TrustKit decisioning."
+ "Junk filtering: TrustKitForcedSpamDecisionResult enabled, returning forced junk result instead of performing TrustKit inference"
+ "Malformed domain identifier %@ already present in the cache. No metric event will be posted."
+ "Malformed domain identifier %@ in domain %@ being assigned to chat %@"
+ "MalformedDomainIdentifier"
+ "MalformedDomainIdentifierCache"
+ "Message from storage processed with no context! Might have been delivered while under first unlock. Can't track batches!"
+ "No batch available for entry type: %s"
+ "Noting %sitem from storage (%@)"
+ "Noting item processed from storage index %lld of batch %@ isLast %{BOOL}d"
+ "Processed %ld chats in %ld batches."
+ "Processing message guids in chat %@ marked as read: %@"
+ "Push of read state marked message guids in chat %s as read: %s"
+ "RCSEncryptionDowngrade"
+ "RCSEncryptionDowngradeHandler"
+ "ReadFlagForInput: Message %@ date %@ was lower than the high watermark for chat %@ in storageController's cache"
+ "ReadFlagForInput: Message guid was in readReceiptsForMissingMessage cache: %@"
+ "ReadReceiptTracker"
+ "ReadReceipts"
+ "ReceivePipeline+ReadReceipts"
+ "Received read receipt for: %@ receipt from me: %{BOOL}d isDefaultPairedDevice: %{BOOL}d isEnhanced: %{BOOL}d"
+ "Resetting Batch Set Tracking for %@, IDS timedout waiting for SSM completion"
+ "Set initial last read receipt for chat %s to message %s readDate %s rcptVer %ld hadQOI %{bool}d"
+ "SetDomainIdentifiers"
+ "Started tracking batch identifier %@, %lld/%lld"
+ "Storage cycle complete for account %@, last batch set complete"
+ "Submitting message from storage metric with numMessages %lud service %@ time %0.2f numReadReceipts %lud { v0 %lud v1 %lud v1NoQOI %lud v1WithQOI %lud v1WithQOINoChat %lud v1MarkedAfterInitial %lud } numChats %lud { v0 %lud v1NoQOI %lud v1WithQOI %lud }"
+ "T@\"IMEnhancedStorageMetrics\",&,N,V_enhancedStorageMetrics"
+ "T@\"IMNetworkMonitor\",&,N,V_networkMonitor"
+ "T@\"NSDate\",N,R"
+ "T@\"NSDictionary\",N,C"
+ "T@\"NSMutableDictionary\",R,N,V_hasSeenLastBatchByAccountID"
+ "T@\"NSMutableSet\",&,N,V_myV1ReadReceiptsReceivedDuringStorageNoQOI"
+ "T@\"NSMutableSet\",&,N,V_myV1ReadReceiptsReceivedDuringStorageWithQOI"
+ "T@\"NSNumber\",&,N,V_receiptVersion"
+ "T@\"NSNumber\",R,N,V_readTimestamp"
+ "T@\"NSString\",&,N"
+ "TB,N,R,VhadQOI"
+ "TB,N,R,VisFromMe"
+ "TB,N,V_haveSeenReceiptsWithQOIThisBatchSet"
+ "TB,R,N,V_hadQOI"
+ "TB,R,N,V_isFromActivePairedDevice"
+ "TQ,N,R,VmessageDateTS"
+ "TQ,N,R,VreadDateTS"
+ "TQ,V_numChatsMarkedRead"
+ "TQ,V_numChatsMarkedReadWithV0"
+ "TQ,V_numChatsMarkedReadWithV1NoQOI"
+ "TQ,V_numChatsMarkedReadWithV1WithQOI"
+ "TQ,V_numReadReceipts"
+ "TQ,V_numReadReceiptsNoMessage"
+ "TQ,V_numReadReceiptsV0"
+ "TQ,V_numReadReceiptsV1"
+ "TQ,V_numReadReceiptsV1NoQOI"
+ "TQ,V_numReadReceiptsV1NoQOIMarkedMessageAfterInitial"
+ "TQ,V_numReadReceiptsV1WithQOI"
+ "TQ,V_numReadReceiptsV1WithQOINoChat"
+ "TQ,V_numReadReceiptsV1WithQOINoDupe"
+ "TQ,V_numSSMFallbackResets"
+ "Tq,N,R,VreceiptVersion"
+ "Tracked batch #%lld/%@ message %lld of %lld"
+ "TrustKitForcedSpamDecisionResult"
+ "Updated last read receipt for chat %s to message %s readDate %s rcptVer %ld hadQOI %{bool}d"
+ "_TtC12IMDaemonCore18ReadReceiptTracker"
+ "_enhancedStorageMetrics"
+ "_hadQOI"
+ "_hasSeenLastBatchByAccountID"
+ "_haveSeenReceiptsWithQOIThisBatchSet"
+ "_isFromActivePairedDevice"
+ "_lastIncomingMessageInMessageItems:"
+ "_metricIdentifierIfMalformed:domain:subType:"
+ "_metricIdentifiersIfMalformed:subType:"
+ "_myV1ReadReceiptsReceivedDuringStorageNoQOI"
+ "_myV1ReadReceiptsReceivedDuringStorageWithQOI"
+ "_noteLastItemProcessedWithError:"
+ "_numChatsMarkedRead"
+ "_numChatsMarkedReadWithV0"
+ "_numChatsMarkedReadWithV1NoQOI"
+ "_numChatsMarkedReadWithV1WithQOI"
+ "_numReadReceipts"
+ "_numReadReceiptsNoMessage"
+ "_numReadReceiptsV0"
+ "_numReadReceiptsV1"
+ "_numReadReceiptsV1NoQOI"
+ "_numReadReceiptsV1NoQOIMarkedMessageAfterInitial"
+ "_numReadReceiptsV1WithQOI"
+ "_numReadReceiptsV1WithQOINoChat"
+ "_numReadReceiptsV1WithQOINoDupe"
+ "_numSSMFallbackResets"
+ "_readTimestamp"
+ "_receiptVersion"
+ "_resetLastBatchFromStorageForAccountID:"
+ "_resetMetrics"
+ "_resetMetricsForBatchSet"
+ "_retryAsUnencryptedRCSForMessage:"
+ "addResultForMessageGUID:result:"
+ "allSupportEncryption"
+ "appendFileTransferWithGUID:"
+ "carrierNameForPhoneNumber:simID:"
+ "collectReadReceiptMetrics"
+ "condition"
+ "createDirectoryAtURL:withIntermediateDirectories:attributes:error:"
+ "createNewOutgoingTransferWithLocalFileURL:guid:"
+ "enhancedStorageMetrics"
+ "entries"
+ "fileName"
+ "firstMessageAfterTimeout"
+ "from exists and is active"
+ "hadQOI"
+ "handleRelayEncryptionFailureForRelayMessageID:"
+ "hasSeenLastBatchByAccountID"
+ "haveSeenReceiptsWithQOIThisBatchSet"
+ "initWithEntries:configuration:"
+ "initWithMessageGUID:messageDateTS:readDateTS:fromIdentifier:isFromMe:receiptVersion:hadQOI:"
+ "initWithMessageStore:chatRegistry:recents:IDSService:storageController:"
+ "initWithMessageStore:storageController:"
+ "initWithUnsignedLongLong:"
+ "intelligentlyClassifiedAsTimeSensitive"
+ "isFromActivePairedDevice"
+ "isMessageReadWithMessageDate:inChatGUID:"
+ "isOnLastBatchFromStorageForAccountID:"
+ "isRCSEncryptionEnabled"
+ "isRCSSendWithoutEncryption"
+ "kickoffStorageTimerIfNeeded"
+ "last "
+ "lastReadReceiptPerChat"
+ "messageDate"
+ "messageDateTS"
+ "messagesCount"
+ "myV1ReadReceiptsReceivedDuringStorageNoQOI"
+ "myV1ReadReceiptsReceivedDuringStorageWithQOI"
+ "noteBatchSetCompleteForAccountID:"
+ "noteItemFromStorage:isLast:"
+ "noteItemFromStorage:isLast:extendsStorageTimer:"
+ "noteItemProcessed:batchContext:"
+ "noteLastBatchFromStorageForAccountID:"
+ "noteStorageCycleCompleteForAccountID:"
+ "numChatsMarkedRead"
+ "numChatsMarkedReadWithV0"
+ "numChatsMarkedReadWithV1NoQOI"
+ "numChatsMarkedReadWithV1WithQOI"
+ "numReadReceipts"
+ "numReadReceiptsNoMessage"
+ "numReadReceiptsV0"
+ "numReadReceiptsV1"
+ "numReadReceiptsV1NoQOI"
+ "numReadReceiptsV1NoQOIMarkedMessageAfterInitial"
+ "numReadReceiptsV1WithQOI"
+ "numReadReceiptsV1WithQOINoChat"
+ "numReadReceiptsV1WithQOINoDupe"
+ "numSSMFallbackResets"
+ "pluginPayloadAttachment"
+ "processMessagesThatWereJustMarkedReadWithChatGUID:messageGUIDs:readDate:fromMe:"
+ "queueOneIdentifier"
+ "readDate"
+ "readDateTS"
+ "readTimestamp"
+ "receiptVersion"
+ "registerRelayedRCSMessageWithRequest:sentToDevices:"
+ "requestIDToChatMap"
+ "requestIDToResultMap"
+ "resetReadReceiptTracker"
+ "saveReadReceiptStateToDatabase"
+ "setEnhancedStorageMetrics:"
+ "setHaveSeenReceiptsWithQOIThisBatchSet:"
+ "setIntelligentlyClassifiedAsTimeSensitive:"
+ "setIsRCSSendWithoutEncryption:"
+ "setLastMessageSupportsEncryption:"
+ "setMyV1ReadReceiptsReceivedDuringStorageNoQOI:"
+ "setMyV1ReadReceiptsReceivedDuringStorageWithQOI:"
+ "setNetworkMonitor:"
+ "setNumChatsMarkedRead:"
+ "setNumChatsMarkedReadWithV0:"
+ "setNumChatsMarkedReadWithV1NoQOI:"
+ "setNumChatsMarkedReadWithV1WithQOI:"
+ "setNumReadReceipts:"
+ "setNumReadReceiptsNoMessage:"
+ "setNumReadReceiptsV0:"
+ "setNumReadReceiptsV1:"
+ "setNumReadReceiptsV1NoQOI:"
+ "setNumReadReceiptsV1NoQOIMarkedMessageAfterInitial:"
+ "setNumReadReceiptsV1WithQOI:"
+ "setNumReadReceiptsV1WithQOINoChat:"
+ "setNumReadReceiptsV1WithQOINoDupe:"
+ "setNumSSMFallbackResets:"
+ "setReceiptVersion:"
+ "setRequestIDToChatMap:"
+ "setRequestIDToResultMap:"
+ "sharedHandler"
+ "simulateEntries:configuration:completion:"
+ "startMonitoringMessageGUID:chat:sentToDevices:"
+ "synchronousPTaskQueryProvider"
+ "trackReadReceipt:targetChatGUID:didFindMessage:didMarkMessage:"
+ "trackedReceiptFromMessage:"
+ "unencrypted-rcs"
+ "updateIsFromActivePairedDeviceForService:"
+ "v40@0:8@\"NSArray\"16@\"IMSimulatedEntryConfiguration\"24@?<v@?@\"NSError\">32"
- "    Is from storage (%@)"
- "    Last item from storage"
- "    Last item from storage finished processing"
- "    Suppressing message from storage update."
- "Batch %@, started tracing context with serverStorageFetchContext"
- "BatchMessageTrackingContext"
- "Carrier"
- "Completed processing of batch %@ with %lld messages, removing tracker"
- "Couldn't find an account for message "
- "Couldn't find an account/session for simulated message :("
- "Coupons"
- "Dropping repeated read receipt for: %@ as it is not from me and the message was already read at %@"
- "Error tracking batch %@"
- "FilterJunk"
- "FilterSMSPromotional"
- "FilterSMSTransactional"
- "Finance"
- "Health"
- "IMDBatchMessageSimulator"
- "IMDMessageSimulator"
- "IMDaemonCore.IMDBatchMessageSimulator"
- "KnownSender"
- "Message guid was in readReceiptsForMissingMessage cache: %@"
- "Multiple message with SSM seen for batch %@, grabbing the latest one"
- "Noting item from storage (%@)"
- "Noting last item from storage (%@)"
- "Offers"
- "Orders"
- "Processed %ld chats in %ld"
- "PromotionalOthers"
- "PublicServices"
- "Received read receipt for: %@ receipt from me: %@ isDefaultPairedDevice: %@"
- "Reminder"
- "Rewards"
- "Started tracking batch identifier %@"
- "T@\"NSString\",&,N,V_spamDetectedMessage"
- "T@\"NSString\",C,N,V_groupName"
- "TransactionalOthers"
- "UnknownSender"
- "Weather"
- "_groupName"
- "_spamDetectedMessage"
- "batch"
- "carrierNameForPhoneNumber:"
- "chat:groupIDUpdated:"
- "chat:originalGroupIDUpdated:"
- "initWithMessages:configuration:"
- "noteItemFromStorage:"
- "noteItemFromStorage:extendsStorageTimer:"
- "noteItemProcessed:batchContext:usingService:"
- "noteLastItemFromStorage:"
- "noteLastItemProcessed"
- "noteLastItemProcessedWithError:"
- "noteSuppressedMessageUpdate:"
- "simulateMessages:configuration:completion:"
- "v40@0:8@\"NSArray\"16@\"IMSimulatedMessageConfiguration\"24@?<v@?@\"NSError\">32"
- "wasEverTimeSensitive"

```
