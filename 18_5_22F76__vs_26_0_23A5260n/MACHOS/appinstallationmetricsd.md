## appinstallationmetricsd

> `/System/Library/PrivateFrameworks/AppInstallationMetrics.framework/Support/appinstallationmetricsd`

```diff

-2.5.1.0.0
-  __TEXT.__text: 0x2b0e4
-  __TEXT.__auth_stubs: 0x1530
-  __TEXT.__objc_methlist: 0x2f8
-  __TEXT.__const: 0x1910
+3.0.5.0.0
+  __TEXT.__text: 0x26548
+  __TEXT.__auth_stubs: 0x1550
+  __TEXT.__objc_methlist: 0x240
+  __TEXT.__const: 0x1630
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__cstring: 0xd44
-  __TEXT.__constg_swiftt: 0x8c8
-  __TEXT.__swift5_typeref: 0x8c7
-  __TEXT.__swift5_reflstr: 0x461
-  __TEXT.__swift5_fieldmd: 0x6c8
-  __TEXT.__swift5_builtin: 0xa0
-  __TEXT.__swift5_assocty: 0x150
-  __TEXT.__objc_methname: 0x8c1
-  __TEXT.__oslogstring: 0xbf4
-  __TEXT.__swift5_proto: 0x120
-  __TEXT.__swift5_types: 0x9c
-  __TEXT.__objc_classname: 0x40
-  __TEXT.__objc_methtype: 0x1b4
-  __TEXT.__swift_as_entry: 0xa8
-  __TEXT.__swift_as_ret: 0xc4
+  __TEXT.__cstring: 0xcb4
+  __TEXT.__constg_swiftt: 0x748
+  __TEXT.__swift5_typeref: 0x678
+  __TEXT.__swift5_reflstr: 0x3e1
+  __TEXT.__swift5_fieldmd: 0x604
+  __TEXT.__swift5_builtin: 0x78
+  __TEXT.__swift5_assocty: 0xf0
+  __TEXT.__objc_methname: 0x712
+  __TEXT.__oslogstring: 0xca4
+  __TEXT.__swift5_proto: 0xf0
+  __TEXT.__swift5_types: 0x88
+  __TEXT.__objc_classname: 0x31
+  __TEXT.__objc_methtype: 0xe9
+  __TEXT.__swift_as_entry: 0x78
+  __TEXT.__swift_as_ret: 0x8c
   __TEXT.__swift5_mpenum: 0x8
-  __TEXT.__swift5_capture: 0x1e0
-  __TEXT.__swift5_protos: 0x10
-  __TEXT.__unwind_info: 0xb20
-  __TEXT.__eh_frame: 0x1d80
-  __DATA_CONST.__auth_got: 0xa98
-  __DATA_CONST.__got: 0x358
-  __DATA_CONST.__auth_ptr: 0x410
-  __DATA_CONST.__const: 0x1678
+  __TEXT.__swift5_capture: 0x238
+  __TEXT.__swift5_protos: 0x4
+  __TEXT.__unwind_info: 0x970
+  __TEXT.__eh_frame: 0x1958
+  __DATA_CONST.__auth_got: 0xaa8
+  __DATA_CONST.__got: 0x328
+  __DATA_CONST.__auth_ptr: 0x380
+  __DATA_CONST.__const: 0x13e0
   __DATA_CONST.__objc_classlist: 0x68
-  __DATA_CONST.__objc_protolist: 0x48
+  __DATA_CONST.__objc_protolist: 0x38
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_protorefs: 0x28
-  __DATA.__objc_const: 0xd98
-  __DATA.__objc_selrefs: 0x338
-  __DATA.__objc_data: 0x360
-  __DATA.__data: 0x1170
-  __DATA.__bss: 0x2340
+  __DATA_CONST.__objc_protorefs: 0x20
+  __DATA.__objc_const: 0xc08
+  __DATA.__objc_selrefs: 0x2a0
+  __DATA.__objc_data: 0x3c0
+  __DATA.__data: 0xd50
+  __DATA.__bss: 0x1e00
   __DATA.__common: 0x20
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /System/Library/PrivateFrameworks/AppInstallationMetrics.framework/AppInstallationMetrics
   - /System/Library/PrivateFrameworks/AppleAccount.framework/AppleAccount
   - /System/Library/PrivateFrameworks/AppleMediaServices.framework/AppleMediaServices
+  - /System/Library/PrivateFrameworks/AppleMediaServicesKitInternal.framework/AppleMediaServicesKitInternal
   - /System/Library/PrivateFrameworks/BackgroundSystemTasks.framework/BackgroundSystemTasks
   - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics
   - /System/Library/PrivateFrameworks/MobileContainerManager.framework/MobileContainerManager
   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libobjc.A.dylib
+  - /usr/lib/swift/libswiftAccelerate.dylib
   - /usr/lib/swift/libswiftCompression.dylib
   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
-  - /usr/lib/swift/libswiftCoreMIDI.dylib
-  - /usr/lib/swift/libswiftCryptoTokenKit.dylib
+  - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftMetal.dylib
+  - /usr/lib/swift/libswiftOSLog.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib
   - /usr/lib/swift/libswiftQuartzCore.dylib
+  - /usr/lib/swift/libswiftUniformTypeIdentifiers.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
-  - /usr/lib/swift/libswift_errno.dylib
-  - /usr/lib/swift/libswift_math.dylib
-  - /usr/lib/swift/libswift_signal.dylib
-  - /usr/lib/swift/libswift_stdio.dylib
-  - /usr/lib/swift/libswift_time.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation1.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation2.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation3.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  - /usr/lib/swift/libswiftsys_time.dylib
-  - /usr/lib/swift/libswiftunistd.dylib
-  UUID: 281639DB-DBF0-37D6-A117-FECA1E778F9A
-  Functions: 784
-  Symbols:   577
-  CStrings:  315
+  UUID: EAD2BF82-8266-305D-AF7E-8B1DAC971AAB
+  Functions: 664
+  Symbols:   556
+  CStrings:  280
 
Symbols:
+ _$s10Foundation4DateV11distantPastACvgZ
+ _$s29AppleMediaServicesKitInternal10BagProfileV4name7versionACSS_SStcfC
+ _$s29AppleMediaServicesKitInternal10BagProfileVMa
+ _$s29AppleMediaServicesKitInternal10BagServiceV06createF06policyAA0F0_pAC6PolicyV_tYaKF
+ _$s29AppleMediaServicesKitInternal10BagServiceV06createF06policyAA0F0_pAC6PolicyV_tYaKFTu
+ _$s29AppleMediaServicesKitInternal10BagServiceV10bagProfile10clientInfoAcA0fI0V_AA06ClientK0VtKcfC
+ _$s29AppleMediaServicesKitInternal10BagServiceV12UpdatePolicyV5neverAEvgZ
+ _$s29AppleMediaServicesKitInternal10BagServiceV12UpdatePolicyVMa
+ _$s29AppleMediaServicesKitInternal10BagServiceV16ExpiredDataUsageV12notPermittedAEvgZ
+ _$s29AppleMediaServicesKitInternal10BagServiceV16ExpiredDataUsageV9permitted018shouldUsePersistedI021maxExpirationDurationAESb_SdSgtFZ
+ _$s29AppleMediaServicesKitInternal10BagServiceV16ExpiredDataUsageVMa
+ _$s29AppleMediaServicesKitInternal10BagServiceV6PolicyV16expiredDataUsage06updateH0AeC07ExpiredjK0V_AC06UpdateH0VtcfC
+ _$s29AppleMediaServicesKitInternal10BagServiceV6PolicyVMa
+ _$s29AppleMediaServicesKitInternal10BagServiceVMa
+ _$s29AppleMediaServicesKitInternal10BagServiceVMn
+ _$s29AppleMediaServicesKitInternal10ClientInfoV10identifier4name7versionACSSSg_A2GtcfC
+ _$s29AppleMediaServicesKitInternal10ClientInfoVMa
+ _$s29AppleMediaServicesKitInternal3BagMp
+ _$s29AppleMediaServicesKitInternal3BagP10boolForKeySbSgSS_tcigTj
+ _$s29AppleMediaServicesKitInternal3BagP10boolForKeySbSgSS_tcigTq
+ _$s29AppleMediaServicesKitInternal3BagP10expiration10Foundation4DateVvgTq
+ _$s29AppleMediaServicesKitInternal3BagP11arrayForKeySayAA8AnyValueVGSgSS_tcigTj
+ _$s29AppleMediaServicesKitInternal3BagP11arrayForKeySayAA8AnyValueVGSgSS_tcigTq
+ _$s29AppleMediaServicesKitInternal3BagP12doubleForKeySdSgSS_tcigTq
+ _$s29AppleMediaServicesKitInternal3BagP12stringForKeySSSgSS_tcigTq
+ _$s29AppleMediaServicesKitInternal3BagP16dictionaryForKeySDySSAA8AnyValueVGSgSS_tcigTq
+ _$s29AppleMediaServicesKitInternal3BagP9intForKeySiSgSS_tcigTq
+ _$s29AppleMediaServicesKitInternal3BagP9isExpiredSbvgTq
+ _$s29AppleMediaServicesKitInternal3BagP9urlForKey10Foundation3URLVSgSS_tcigTq
+ _$s29AppleMediaServicesKitInternal3BagP9urlForKey7account10Foundation3URLVSgSS_AA0B7AccountVtcigTq
+ _$s29AppleMediaServicesKitInternal8AnyValueV6stringSSSgvg
+ _$s29AppleMediaServicesKitInternal8AnyValueVMa
+ _$sSo12AMSCachedBagC18AppleMediaServicesE04makeB010bagServiceQr0cdE11KitInternal0bH0V_tFZ
+ _$sSo12AMSCachedBagCMa
+ _$ss11_StringGutsV16_foreignCopyUTF84intoSiSgSrys5UInt8VG_tF
+ __swift_FORCE_LOAD_$_swiftAccelerate
+ __swift_FORCE_LOAD_$_swiftCoreImage
+ __swift_FORCE_LOAD_$_swiftOSLog
+ __swift_FORCE_LOAD_$_swiftUniformTypeIdentifiers
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation1
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation2
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation3
+ _objc_release_x9
+ _objc_retain_x9
+ _swift_unexpectedError
- _$s10Foundation13CustomNSErrorMp
- _$s10Foundation13CustomNSErrorP11errorDomainSSvgZTq
- _$s10Foundation13CustomNSErrorP13errorUserInfoSDySSypGvgTq
- _$s10Foundation13CustomNSErrorP9errorCodeSivgTq
- _$s10Foundation13CustomNSErrorPs5ErrorTb
- _$s10Foundation18_ErrorCodeProtocolMp
- _$s10Foundation18_ErrorCodeProtocolP01_B4TypeAC_AA21_BridgedStoredNSErrorTn
- _$s10Foundation18_ErrorCodeProtocolPAAE2teoiySbx_s0B0_ptFZ
- _$s10Foundation18_ErrorCodeProtocolPSQTb
- _$s10Foundation21_BridgedStoredNSErrorMp
- _$s10Foundation21_BridgedStoredNSErrorP4CodeAC_8RawValueSYs17FixedWidthIntegerTn
- _$s10Foundation21_BridgedStoredNSErrorP4CodeAC_AA06_ErrorE8ProtocolTn
- _$s10Foundation21_BridgedStoredNSErrorP4CodeAC_SYTn
- _$s10Foundation21_BridgedStoredNSErrorP8_nsErrorSo0D0CvgTq
- _$s10Foundation21_BridgedStoredNSErrorP8_nsErrorxSo0D0C_tcfCTq
- _$s10Foundation21_BridgedStoredNSErrorPAA06CustomD0Tb
- _$s10Foundation21_BridgedStoredNSErrorPAA26_ObjectiveCBridgeableErrorTb
- _$s10Foundation21_BridgedStoredNSErrorPAAE012_getEmbeddedD0yXlSgyF
- _$s10Foundation21_BridgedStoredNSErrorPAAE08_bridgedD0xSgSo0D0C_tcfC
- _$s10Foundation21_BridgedStoredNSErrorPAAE13errorUserInfoSDySSypGvg
- _$s10Foundation21_BridgedStoredNSErrorPAAE2eeoiySbx_xtFZ
- _$s10Foundation21_BridgedStoredNSErrorPAAE4hash4intoys6HasherVz_tF
- _$s10Foundation21_BridgedStoredNSErrorPAAE9errorCodeSivg
- _$s10Foundation21_BridgedStoredNSErrorPSHTb
- _$s10Foundation26_ObjectiveCBridgeableErrorMp
- _$s10Foundation26_ObjectiveCBridgeableErrorP15_bridgedNSErrorxSgSo0F0Ch_tcfCTq
- _$s10Foundation26_ObjectiveCBridgeableErrorPs0D0Tb
- _$s10_ErrorType10Foundation01_A12CodeProtocolPTl
- _$s2os21OSAllocatedUnfairLockVMn
- _$s4Code10Foundation21_BridgedStoredNSErrorPTl
- _$sBi32_WV
- _$sSH4hash4intoys6HasherVz_tFTj
- _$sSS5IndexVMn
- _$sSh10FoundationE19_bridgeToObjectiveCSo5NSSetCyF
- _$sSis17FixedWidthIntegersMc
- _$sSo8NSObjectC10ObjectiveCE9hashValueSivg
- _$ss10_HashTableV12previousHole6beforeAB6BucketVAF_tF
- _$ss11_StringGutsV8copyUTF84intoSiSgSrys5UInt8VG_tF
- _$ss13ManagedBufferCMn
- _$ss5ErrorP10FoundationAC13CustomNSErrorRzrlE5_codeSivg
- _$ss5ErrorP10FoundationAC13CustomNSErrorRzrlE7_domainSSvg
- _$syXlN
- _AMSErrorDomain
- _OBJC_CLASS_$_AMSBag
- __swift_FORCE_LOAD_$_swiftCoreMIDI
- __swift_FORCE_LOAD_$_swiftCryptoTokenKit
- __swift_FORCE_LOAD_$_swift_errno
- __swift_FORCE_LOAD_$_swift_math
- __swift_FORCE_LOAD_$_swift_signal
- __swift_FORCE_LOAD_$_swift_stdio
- __swift_FORCE_LOAD_$_swift_time
- __swift_FORCE_LOAD_$_swiftsys_time
- __swift_FORCE_LOAD_$_swiftunistd
- _os_unfair_lock_lock
- _os_unfair_lock_unlock
- _swift_allocateGenericClassMetadata
- _swift_checkMetadataState
- _swift_cvw_allocateGenericValueMetadataWithLayoutString
- _swift_cvw_initStructMetadataWithLayoutString
- _swift_cvw_initWithTake
- _swift_getAtKeyPath
- _swift_getGenericMetadata
- _swift_getKeyPath
- _swift_getObjCClassFromMetadata
- _swift_initClassMetadata2
- _swift_unknownObjectRetain_n
CStrings:
+ "AppInstallationMetricsDaemon/Main.swift"
+ "Failed to load bag from network or storage: %{public}@"
+ "Failed to load non-expired bag; falling back to expired bag: %{public}@"
+ "Read key \"%s\" from an empty bag"
+ "bagService"
- "@\"AMSBagValue\"24@0:8@\"NSString\"16"
- "@\"AMSBagValue\"32@0:8@\"NSString\"16@\"ACAccount\"24"
- "@\"AMSProcessInfo\"16@0:8"
- "@\"NSDate\"16@0:8"
- "@24@0:8@16"
- "@32@0:8@16@24"
- "AMSBagProtocol"
- "T@\"AMSProcessInfo\",?,R,C,N"
- "T@\"NSDate\",R,N"
- "T@\"NSString\",R,C,N"
- "TB,R,N,GisExpired"
- "URLForKey:"
- "URLForKey:account:"
- "arrayForKey:"
- "bag"
- "bagForProfile:profileVersion:"
- "boolForKey:"
- "boolValue"
- "cachedValuesForKeys:observationToken:updateHandler:"
- "cachedValuesLock"
- "createSnapshotWithCompletion:"
- "dictionaryForKey:"
- "doubleForKey:"
- "expirationDate"
- "expired"
- "integerForKey:"
- "isExpired"
- "observationToken"
- "processInfo"
- "profile"
- "profileVersion"
- "rawBag"
- "removeObserverWithToken:"
- "stringForKey:"
- "v16@?0@\"NSDictionary\"8"
- "v24@0:8@?<v@?@\"AMSSnapshotBag\"@\"NSError\">16"
- "v28@?0@\"NSArray\"8B16@\"NSError\"20"
- "v28@?0@\"NSNumber\"8B16@\"NSError\"20"
- "valueWithCompletion:"

```
