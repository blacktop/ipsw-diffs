## imagent

> `/System/Library/PrivateFrameworks/IMCore.framework/imagent.app/imagent`

```diff

-1402.600.41.2.8
-  __TEXT.__text: 0x498c0
-  __TEXT.__auth_stubs: 0x1590
-  __TEXT.__objc_stubs: 0x5820
-  __TEXT.__objc_methlist: 0x2bc0
-  __TEXT.__const: 0x10d4
-  __TEXT.__gcc_except_tab: 0x3c58
-  __TEXT.__cstring: 0x1a5c
-  __TEXT.__oslogstring: 0x5c0b
-  __TEXT.__objc_methname: 0x9c2f
-  __TEXT.__objc_classname: 0x598
-  __TEXT.__objc_methtype: 0x2253
-  __TEXT.__swift5_typeref: 0x4c8
-  __TEXT.__swift5_fieldmd: 0x2ec
-  __TEXT.__constg_swiftt: 0x5ec
+1436.100.6.2.12
+  __TEXT.__text: 0x4ed70
+  __TEXT.__auth_stubs: 0x15d0
+  __TEXT.__objc_stubs: 0x5b60
+  __TEXT.__objc_methlist: 0x2dc0
+  __TEXT.__const: 0x1244
+  __TEXT.__gcc_except_tab: 0x3e54
+  __TEXT.__cstring: 0x1b2c
+  __TEXT.__oslogstring: 0x5f1b
+  __TEXT.__objc_methname: 0xa51e
+  __TEXT.__objc_classname: 0x5b8
+  __TEXT.__objc_methtype: 0x2492
+  __TEXT.__swift5_typeref: 0x518
+  __TEXT.__swift5_fieldmd: 0x308
+  __TEXT.__constg_swiftt: 0x670
   __TEXT.__swift5_protos: 0x14
-  __TEXT.__swift5_capture: 0x170
-  __TEXT.__swift5_proto: 0xb0
-  __TEXT.__swift5_types: 0x40
-  __TEXT.__swift_as_entry: 0x38
-  __TEXT.__swift_as_ret: 0x3c
-  __TEXT.__swift5_reflstr: 0x360
-  __TEXT.__swift5_builtin: 0x14
+  __TEXT.__swift5_capture: 0x268
+  __TEXT.__swift5_proto: 0xc8
+  __TEXT.__swift5_types: 0x4c
+  __TEXT.__swift_as_entry: 0x4c
+  __TEXT.__swift_as_ret: 0x50
+  __TEXT.__swift5_reflstr: 0x35e
+  __TEXT.__swift5_builtin: 0x28
   __TEXT.__swift5_assocty: 0x90
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__unwind_info: 0x1568
-  __TEXT.__eh_frame: 0x4f8
-  __DATA_CONST.__auth_got: 0xad8
-  __DATA_CONST.__got: 0x918
+  __TEXT.__unwind_info: 0x1750
+  __TEXT.__eh_frame: 0x720
+  __DATA_CONST.__auth_got: 0xaf8
+  __DATA_CONST.__got: 0x988
   __DATA_CONST.__auth_ptr: 0x2e0
-  __DATA_CONST.__const: 0x1558
-  __DATA_CONST.__cfstring: 0x7c0
-  __DATA_CONST.__objc_classlist: 0x110
-  __DATA_CONST.__objc_protolist: 0x198
+  __DATA_CONST.__const: 0x1870
+  __DATA_CONST.__cfstring: 0x6a0
+  __DATA_CONST.__objc_classlist: 0x118
+  __DATA_CONST.__objc_protolist: 0x1a8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_protorefs: 0xc8
+  __DATA_CONST.__objc_protorefs: 0xd0
   __DATA_CONST.__objc_superrefs: 0x18
   __DATA_CONST.__objc_arraydata: 0x10
   __DATA_CONST.__objc_dictobj: 0x28
-  __DATA.__objc_const: 0x2bc0
-  __DATA.__objc_selrefs: 0x24b8
+  __DATA.__objc_const: 0x2d00
+  __DATA.__objc_selrefs: 0x2648
   __DATA.__objc_ivar: 0x44
-  __DATA.__objc_data: 0xb00
-  __DATA.__data: 0x1388
-  __DATA.__common: 0xd8
-  __DATA.__bss: 0xf60
+  __DATA.__objc_data: 0xc08
+  __DATA.__data: 0x13a0
+  __DATA.__common: 0xf0
+  __DATA.__bss: 0x1010
   - /System/Library/Frameworks/AppIntents.framework/AppIntents
   - /System/Library/Frameworks/Contacts.framework/Contacts
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswiftAVFoundation.dylib
   - /usr/lib/swift/libswiftAccelerate.dylib
   - /usr/lib/swift/libswiftAppleArchive.dylib
+  - /usr/lib/swift/libswiftCallKit.dylib
   - /usr/lib/swift/libswiftCompression.dylib
   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreAudio.dylib

   - /usr/lib/swift/libswiftCoreMIDI.dylib
   - /usr/lib/swift/libswiftCoreMedia.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
-  - /usr/lib/swift/libswiftDataDetection.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftIntents.dylib
+  - /usr/lib/swift/libswiftMLCompute.dylib
   - /usr/lib/swift/libswiftMetal.dylib
+  - /usr/lib/swift/libswiftNaturalLanguage.dylib
   - /usr/lib/swift/libswiftOSLog.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib
   - /usr/lib/swift/libswiftQuartzCore.dylib

   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
-  - /usr/lib/swift/libswift_errno.dylib
-  - /usr/lib/swift/libswift_math.dylib
-  - /usr/lib/swift/libswift_signal.dylib
-  - /usr/lib/swift/libswift_stdio.dylib
-  - /usr/lib/swift/libswift_time.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation1.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation2.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation3.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  - /usr/lib/swift/libswiftsys_time.dylib
-  - /usr/lib/swift/libswiftunistd.dylib
-  UUID: 2CB5950F-C2F7-3766-8275-0626F624F020
-  Functions: 1035
-  Symbols:   539
-  CStrings:  2251
+  UUID: 97EDB6AC-47F2-3034-B82E-8F3876E0F699
+  Functions: 1142
+  Symbols:   547
+  CStrings:  2323
 
Symbols:
+ _IMDCoreSpotlightReindexMessagesWhileBlocking
+ _IMMessagePropertyIsFinished
+ _IMMessagePropertyIsFromMe
+ _IMMessagePropertyIsRead
+ _IMMessagePropertyIsSystemMessage
+ _IMMessagePropertyItemType
+ _IMSetupAllowedChatBotExtensions
+ _IMSetupInfoForceLegacyChatVersion
+ _IMSetupInfoUnreadReportsKey
+ _OBJC_CLASS_$_IMCTSubscriptionUtilities
+ _OBJC_CLASS_$_IMDIndexingContext
+ _OBJC_CLASS_$_IMDPersistenceService
+ _OBJC_CLASS_$_IMDSpamCheckRequeryTracker
+ _OBJC_CLASS_$_IMDTrustKitDecisioningManager
+ __swiftEmptySetSingleton
+ __swift_FORCE_LOAD_$_swiftCallKit
+ __swift_FORCE_LOAD_$_swiftMLCompute
+ __swift_FORCE_LOAD_$_swiftNaturalLanguage
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation1
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation2
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation3
+ _objc_release_x9
+ _swift_coroFrameAlloc
- _IMWeakLinkClass
- _OBJC_CLASS_$_IMDSpotlightIndexDelegate
- _XPC_ACTIVITY_INTERVAL_1_HOUR
- __IMAlwaysLog
- __IMWillLog
- __swift_FORCE_LOAD_$_swiftDataDetection
- __swift_FORCE_LOAD_$_swift_errno
- __swift_FORCE_LOAD_$_swift_math
- __swift_FORCE_LOAD_$_swift_signal
- __swift_FORCE_LOAD_$_swift_stdio
- __swift_FORCE_LOAD_$_swift_time
- __swift_FORCE_LOAD_$_swiftsys_time
- __swift_FORCE_LOAD_$_swiftunistd
- _swift_bridgeObjectRelease_n
- _swift_bridgeObjectRetain_n
CStrings:
+ "%K == 0 AND %K == 1 AND %K == 0 AND %K == 0 AND %K == 0"
+ "21:31:59"
+ "Accept chat on peer devices with %s"
+ "AutomationRequestHandler"
+ "Chat already processed by TK Junk filtering or has 3+ replies"
+ "ChatOpenSpamRequery"
+ "Could not find session for iMessage service in %s. Aborting simulation."
+ "Deleted %lu attachments from indexes"
+ "Failed to delete %lu attachments from indexes with error: %@"
+ "FileTranferRequestHandler"
+ "IMDaemonPersistentTasksProtocol"
+ "Jun  1 2025"
+ "Junk chat on peer devices with %s"
+ "Nil guid passed to: fileTransfer:rejectedWithProperties:"
+ "No message guids provided"
+ "No session for serviceName iMessage -- can't reflect mark as reviewed chats"
+ "Received appendTranslation request"
+ "Received refetchLocalTranscriptBackgroundAssetIfNecessaryForChatID: request"
+ "Received retryTranscriptBackgroundUpload: request"
+ "Received sendHQAttachmentsForMessage request"
+ "Received setTranscriptBackgroundAndSendToChat: request"
+ "Reindexing messages as read in spotlight"
+ "Relay priority message to peer devices with %s"
+ "Requery result %ld"
+ "Request relay messageGUIDs as priority messages: %s"
+ "Request to accept chat with messageGUID: %s"
+ "Request to junk chat with messageGUID: %s"
+ "Request to load unread chats older than: %@ limit: %llu"
+ "TK Junk filtering disabled"
+ "_TtC7imagent29PersistentTasksRequestHandler"
+ "_addChatBotToSetupInfo:"
+ "_addFeatureStatusToSetupInfo:capabilities:context:"
+ "_automation_messageDeliveryControllerDidFlushCacheForRemoteURI:fromURI:guid:"
+ "_chatDictionariesWithLastUnreadMessageRecordDateFromDictionaries:"
+ "_handleFileTransfer:rejectedWithProperties:"
+ "_isOneChatForceDisabled"
+ "_loadChats:context:completionHandler:"
+ "_populateAssociatedMessagesIfNeeded:"
+ "acceptChatContainingMessageWithGUID:"
+ "addPersistentTaskExecutorMonitor:withID:"
+ "allowedChatBotExtensions"
+ "appendTranslation:toMessageItem:partIndex:toChatIdentifier:style:account:"
+ "bgstMessageProcessingController"
+ "contextWithReason:"
+ "countryCode"
+ "deleteAttachmentGUIDs:context:completionHandler:"
+ "ensureSchedulingForBackgroundWorkRefreshingTaskReports:completionHandler:"
+ "fetchAllowedChatBotExtensionsIfNecessary"
+ "fetchExistingUnreadChatsOlderThan:predicate:limit:completionHandler:"
+ "fileTransfer:rejectedWithProperties:"
+ "getNumberOfTimesRespondedToThread"
+ "handleTrustKitDecisioningForItems:chat:reply:"
+ "indexingQueryProvider"
+ "initFileURLWithPath:"
+ "initWithHandleID:service:isReachable:supportsEncryption:"
+ "initWithService:error:handleResults:isFinal:allAreReachable:allSupportEncryption:didCheckServer:"
+ "isCustomAcknowledgment"
+ "isFiltered"
+ "isJunkFilteringEnabled"
+ "isOneChatEnabled"
+ "isTranscriptBackgroundsEnabled"
+ "isTrustKitRCSSpamReportingEnabled"
+ "isUnreadCountRefactorEnabled"
+ "junkChatContainingMessageWithGUID:"
+ "loadUnreadChatsWithLastMessageOlderThan:predicate:limit:reply:"
+ "markChatGUIDsAsReviewed:"
+ "markChatGUIDsAsReviewedAndReflectToPeers:"
+ "messagePartGUIDs"
+ "messagesWithAssociatedGUID:shouldLoadAttachments:"
+ "monitors"
+ "queryTrustKitDecisioningIfNeededForChatGUID:items:reply:"
+ "rcsAdvisedAction"
+ "refetchChatBackgroundIfNeededForChatIdentifier:chatStyle:"
+ "refetchChatBackgroundIfNeededForChatIdentifier:style:account:"
+ "reflectAcceptChatToPeerDevicesForMessageGUID:"
+ "reflectJunkChatToPeerDevicesForMessageGUID:"
+ "reflectMarkAsReviewedToPeerDevicesForChatGUIDs:"
+ "relayPriorityMessageFor:"
+ "removePersistentTaskExecutorMonitorWithID:"
+ "requestDecisionForSender:service:trustIndicator:messageBody:countryCode:requestReason:completionHandler:"
+ "resumeExecutorWithGroupName:lane:completionHandler:"
+ "retryTranscriptBackgroundUpload:chatIdentifier:style:transferID:"
+ "retryTranscriptBackgroundUpload:toChatID:identifier:style:transferID:account:"
+ "runExecutorWithTaskLimit:groupName:lane:completionHandler:"
+ "runWithCompletion:"
+ "sendHQAttachmentsForMessage:toChatID:style:"
+ "sendHQAttachmentsForMessage:toChatID:style:account:"
+ "sendReportJunkMessageGUID:account:shouldRelay:"
+ "sendReportJunkMessageGUID:shouldRelay:"
+ "sendReportNotJunkMessageGUID:"
+ "sendReportNotJunkMessageGUID:account:"
+ "sender"
+ "setSpamModelMetadata:"
+ "setTranscriptBackground:andSendToChatIdentifier:chatStyle:transferID:isRefresh:"
+ "setTranscriptBackgroundAndSendToChat:toChatID:identifier:style:transferID:account:completion:"
+ "setupInfoForUnreadCount"
+ "sharedTracker"
+ "simulateMessageDeliveryControllerDidFlushCache(forRemoteURI:fromURI:guid:)"
+ "simulateMessageDeliveryControllerDidFlushCacheForRemoteURI:fromURI:guid:"
+ "updateChatsUsingMessageGUIDsWithPriority:"
+ "updateExecutorStateWithCompletionHandler:"
+ "updatePendingReviewForChatsWithGUIDs:pendingReview:"
+ "v16@?0q8"
+ "v24@0:8@?<v@?>16"
+ "v24@?0q8@\"NSDictionary\"16"
+ "v28@0:8B16@?20"
+ "v28@0:8B16@?<v@?>20"
+ "v32@0:8@\"<IMDaemonPersistentTaskExecutorMonitor>\"16@\"NSString\"24"
+ "v40@0:8@\"NSString\"16@\"NSArray\"24@?<v@?q>32"
+ "v40@0:8@\"NSString\"16Q24@?<v@?>32"
+ "v40@0:8@16Q24@?32"
+ "v48@0:8@\"NSDate\"16@\"NSPredicate\"24q32@?<v@?@\"NSArray\">40"
+ "v48@0:8q16@\"NSString\"24Q32@?<v@?q>40"
+ "v48@0:8q16@24Q32@?40"
+ "v60@0:8@\"IMTranslatedMessagePart\"16@\"IMMessageItem\"24q32@\"NSString\"40C48@\"NSString\"52"
+ "v60@0:8@\"NSString\"16@\"NSString\"24@\"NSString\"32C40@\"NSString\"44@\"NSString\"52"
+ "v60@0:8@16@24@32C40@44@52"
+ "v60@0:8@16@24q32@40C48@52"
+ "v68@0:8@\"NSURL\"16@\"NSString\"24@\"NSString\"32C40@\"NSString\"44@\"NSString\"52@?<v@?>60"
+ "v68@0:8@16@24@32C40@44@52@?60"
- "%@ Allowlist: %@"
- "%@ Disabled: %@"
- "%@ Force Allowlist: %@"
- "20:32:18"
- "Apr 29 2025"
- "CSSearchableIndex"
- "CoreSpotlight"
- "Got called to do log dump check in state"
- "Got called to do log dump in run state with non null activity %@"
- "IMToolRequest"
- "Re-indexing chats due to SIGUSR1"
- "Registering for auto log dumping using identifier %s"
- "Request for pending messages no longer supported"
- "Set log dump activity %@"
- "_registerForAutoLogDump"
- "backgroundMessagesListener"
- "collectLogsIfNeeded"
- "com.apple.messages.ckLogDumping"
- "coreSpotlightDeleteAttachmentGUIDs:reason:"
- "evaluateAccountStateForFeatureEligibility"
- "fetchiCloudAccountStatusWithReply:"
- "imagent_main"
- "initWithHandleID:service:isReachable:"
- "initWithName:"
- "initWithService:error:handleResults:isFinal:allAreReachable:didCheckServer:"
- "logDumpAndSendMessageTo:forHours:"
- "logDumpAndSendMessageTo:forHours:reason:"
- "received message from peer(%d): %s"
- "reportMOCDebuggingErrorWithString:internalOnly:initialSync:sendToHandle:"
- "requestPendingMessages"
- "runWithError:"
- "searchableIndex:reindexAllSearchableItemsWithAcknowledgementHandler:"
- "sendJunkReportMessage:"
- "sendJunkReportMessage:account:"
- "sendRestoreFailuresLogDumps"
- "sendRestoreFailuresLogDumpsIfNeeded"
- "setUsesPowerNotifications:"
- "tryToAutoCollectLogsWithErrorString called with error: %@ sendto:%@"
- "tryToAutoCollectLogsWithErrorString:sendLogsTo:"
- "v28@0:8@\"NSString\"16i24"
- "v28@0:8@16i24"
- "v32@0:8@\"IMMessageItem\"16@\"NSString\"24"

```
