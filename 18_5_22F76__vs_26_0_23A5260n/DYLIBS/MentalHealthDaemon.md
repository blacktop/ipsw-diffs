## MentalHealthDaemon

> `/System/Library/PrivateFrameworks/MentalHealthDaemon.framework/MentalHealthDaemon`

```diff

-5200.5.1.0.0
-  __TEXT.__text: 0x19194
-  __TEXT.__auth_stubs: 0xb70
-  __TEXT.__objc_methlist: 0x15a4
+6074.1.2.4.0
+  __TEXT.__text: 0x1973c
+  __TEXT.__auth_stubs: 0xba0
+  __TEXT.__objc_methlist: 0x165c
   __TEXT.__const: 0x44a
-  __TEXT.__oslogstring: 0x1214
-  __TEXT.__cstring: 0xb45
-  __TEXT.__gcc_except_tab: 0x504
+  __TEXT.__oslogstring: 0x1384
+  __TEXT.__cstring: 0xbd5
+  __TEXT.__gcc_except_tab: 0x4ec
   __TEXT.__constg_swiftt: 0x268
   __TEXT.__swift5_typeref: 0x82
   __TEXT.__swift5_reflstr: 0x8e

   __TEXT.__swift5_assocty: 0x18
   __TEXT.__swift5_proto: 0xc
   __TEXT.__swift5_types: 0x18
-  __TEXT.__unwind_info: 0x778
-  __TEXT.__eh_frame: 0x40
-  __TEXT.__objc_classname: 0x598
-  __TEXT.__objc_methname: 0x4962
-  __TEXT.__objc_methtype: 0x15fe
-  __TEXT.__objc_stubs: 0x3360
-  __DATA_CONST.__got: 0x518
-  __DATA_CONST.__const: 0x520
-  __DATA_CONST.__objc_classlist: 0xb8
+  __TEXT.__unwind_info: 0x798
+  __TEXT.__objc_classname: 0x5dc
+  __TEXT.__objc_methname: 0x4b12
+  __TEXT.__objc_methtype: 0x1348
+  __TEXT.__objc_stubs: 0x33e0
+  __DATA_CONST.__got: 0x510
+  __DATA_CONST.__const: 0x518
+  __DATA_CONST.__objc_classlist: 0xc0
   __DATA_CONST.__objc_catlist: 0x18
-  __DATA_CONST.__objc_protolist: 0xe0
+  __DATA_CONST.__objc_protolist: 0xe8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x1020
+  __DATA_CONST.__objc_selrefs: 0x1068
   __DATA_CONST.__objc_protorefs: 0x20
-  __DATA_CONST.__objc_superrefs: 0x98
+  __DATA_CONST.__objc_superrefs: 0xa0
   __DATA_CONST.__objc_arraydata: 0x78
-  __AUTH_CONST.__auth_got: 0x5d0
-  __AUTH_CONST.__const: 0x340
-  __AUTH_CONST.__cfstring: 0x620
-  __AUTH_CONST.__objc_const: 0x2550
+  __AUTH_CONST.__auth_got: 0x5e8
+  __AUTH_CONST.__const: 0x2f8
+  __AUTH_CONST.__cfstring: 0x6c0
+  __AUTH_CONST.__objc_const: 0x2668
   __AUTH_CONST.__objc_intobj: 0x120
   __AUTH_CONST.__objc_arrayobj: 0x48
   __AUTH.__objc_data: 0x358
   __AUTH.__data: 0x58
-  __DATA.__objc_ivar: 0x15c
-  __DATA.__data: 0xa30
+  __DATA.__objc_ivar: 0x160
+  __DATA.__data: 0xa90
   __DATA.__bss: 0x190
   __DATA.__common: 0x48
-  __DATA_DIRTY.__objc_data: 0x640
+  __DATA_DIRTY.__objc_data: 0x690
   __DATA_DIRTY.__bss: 0x10
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/Foundation.framework/Foundation
   - /System/Library/Frameworks/HealthKit.framework/HealthKit
-  - /System/Library/Frameworks/Intents.framework/Intents
   - /System/Library/Frameworks/UserNotifications.framework/UserNotifications
   - /System/Library/PrivateFrameworks/Fitness.framework/Fitness
   - /System/Library/PrivateFrameworks/HealthDaemon.framework/HealthDaemon

   - /usr/lib/libc++.1.dylib
   - /usr/lib/libobjc.A.dylib
   - /usr/lib/swift/libswiftAVFoundation.dylib
+  - /usr/lib/swift/libswiftCompression.dylib
   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreAudio.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
+  - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftCoreLocation.dylib
   - /usr/lib/swift/libswiftCoreMIDI.dylib
   - /usr/lib/swift/libswiftCoreMedia.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftMetal.dylib
+  - /usr/lib/swift/libswiftOSLog.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib
   - /usr/lib/swift/libswiftQuartzCore.dylib
   - /usr/lib/swift/libswiftUniformTypeIdentifiers.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
-  - /usr/lib/swift/libswift_errno.dylib
-  - /usr/lib/swift/libswift_math.dylib
-  - /usr/lib/swift/libswift_signal.dylib
-  - /usr/lib/swift/libswift_stdio.dylib
-  - /usr/lib/swift/libswift_time.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation1.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation2.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation3.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  - /usr/lib/swift/libswiftsys_time.dylib
-  - /usr/lib/swift/libswiftunistd.dylib
-  UUID: 46AD8859-9DF4-3D85-A677-41730B1985D0
-  Functions: 540
-  Symbols:   2063
-  CStrings:  1005
+  UUID: ACCDAB01-F4DC-3879-BA39-43C7FF74E3CD
+  Functions: 549
+  Symbols:   2101
+  CStrings:  1044
 
Symbols:
+ -[HDMHAssessmentsNotificationManager dealloc]
+ -[HDMHMentalHealthDailyAnalyticsEvent _mostRecentAssessmentCategories]
+ -[HDMHMentalHealthDailyAnalyticsEvent _mostRecentAssessmentCategoryWithSampleType:]
+ -[HDMHMentalHealthDailyAnalyticsEvent _mostRecentAssessmentCategoryWithSampleType:].cold.1
+ -[HDMHMentalHealthDailyAnalyticsEvent _mostRecentStateOfMindPleasantnessRatings]
+ -[HDMHMentalHealthDailyAnalyticsEvent _mostRecentStateOfMindWithReflectiveInterval:]
+ -[HDMHMentalHealthDailyAnalyticsEvent _mostRecentStateOfMindWithReflectiveInterval:].cold.1
+ -[HDMHSOMNotificationManager dealloc]
+ -[HDMHSOMNotificationManager initWithProfile:settingsManager:restorableAlarm:typicalDayProvider:significantTimeChangeProvider:unitTest_didEvaluateIfMaintenanceWorkIsNeeded:]
+ -[HDMHSOMNotificationManager setSignificantTimeChangeProvider:]
+ -[HDMHSOMNotificationManager significantTimeChangeProvider]
+ -[HDMHSignificantTimeChangeProvider dealloc]
+ -[HDMHSignificantTimeChangeProvider init]
+ -[HDMHSignificantTimeChangeProvider invalidate]
+ -[HDMHSignificantTimeChangeProvider notifyToken]
+ -[HDMHSignificantTimeChangeProvider registerForSignificantTimeChangesWithQueue:completion:]
+ -[HDMHSignificantTimeChangeProvider setNotifyToken:]
+ GCC_except_table3
+ _HKMHMentalHealthDefaultsDomain
+ _NSStringFromHKGAD7AssessmentRisk
+ _NSStringFromHKPHQ9AssessmentRisk
+ _NSStringFromHKStateOfMindReflectiveInterval
+ _NSStringFromHKStateOfMindValenceClassification
+ _OBJC_CLASS_$_HDMHSignificantTimeChangeProvider
+ _OBJC_IVAR_$_HDMHSOMNotificationManager._significantTimeChangeProvider
+ _OBJC_IVAR_$_HDMHSignificantTimeChangeProvider._notifyToken
+ _OBJC_METACLASS_$_HDMHSignificantTimeChangeProvider
+ __OBJC_$_INSTANCE_METHODS_HDMHSignificantTimeChangeProvider
+ __OBJC_$_INSTANCE_VARIABLES_HDMHSignificantTimeChangeProvider
+ __OBJC_$_PROP_LIST_HDMHSignificantTimeChangeProvider
+ __OBJC_$_PROTOCOL_INSTANCE_METHODS_HDMHSignificantTimeChangeProviding
+ __OBJC_$_PROTOCOL_METHOD_TYPES_HDMHSignificantTimeChangeProviding
+ __OBJC_CLASS_PROTOCOLS_$_HDMHSignificantTimeChangeProvider
+ __OBJC_CLASS_RO_$_HDMHSignificantTimeChangeProvider
+ __OBJC_LABEL_PROTOCOL_$_HDMHSignificantTimeChangeProviding
+ __OBJC_METACLASS_RO_$_HDMHSignificantTimeChangeProvider
+ __OBJC_PROTOCOL_$_HDMHSignificantTimeChangeProviding
+ __PROTOCOLS__TtC18MentalHealthDaemon29MentalHealthDemoDataGenerator.8
+ __ZNSt3__110unique_ptrINS_11__hash_nodeINS_17__hash_value_typeIlU8__strongP16_HDMHDomainCountEEPvEENS_22__hash_node_destructorINS_9allocatorIS8_EEEEED1B8ne200100Ev
+ __ZSt28__throw_bad_array_new_lengthB8ne200100v
+ __ZnwmSt19__type_descriptor_t
+ ___42-[HDMHSOMNotificationManager _queue_start]_block_invoke.307
+ ___71-[HDMHAssessmentsNotificationManager _queue_alarm:didReceiveDueEvents:]_block_invoke.315
+ ___91-[HDMHSignificantTimeChangeProvider registerForSignificantTimeChangesWithQueue:completion:]_block_invoke
+ ___block_descriptor_40_e8_32bs_e8_v12?0i8ls32l8
+ ___block_literal_global.304
+ ___block_literal_global.316
+ ___block_literal_global.325
+ __swift_FORCE_LOAD_$_swiftCompression
+ __swift_FORCE_LOAD_$_swiftCompression_$_MentalHealthDaemon
+ __swift_FORCE_LOAD_$_swiftCoreImage
+ __swift_FORCE_LOAD_$_swiftCoreImage_$_MentalHealthDaemon
+ __swift_FORCE_LOAD_$_swiftOSLog
+ __swift_FORCE_LOAD_$_swiftOSLog_$_MentalHealthDaemon
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation1
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation1_$_MentalHealthDaemon
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation2
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation2_$_MentalHealthDaemon
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation3
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation3_$_MentalHealthDaemon
+ _objc_msgSend$_mostRecentAssessmentCategories
+ _objc_msgSend$_mostRecentAssessmentCategoryWithSampleType:
+ _objc_msgSend$_mostRecentStateOfMindPleasantnessRatings
+ _objc_msgSend$_mostRecentStateOfMindWithReflectiveInterval:
+ _objc_msgSend$dueDate
+ _objc_msgSend$hk_deleteDomainsNamed:
+ _objc_msgSend$hkmh_requestForCategoryIdentifier:date:
+ _objc_msgSend$initWithProfile:settingsManager:restorableAlarm:typicalDayProvider:significantTimeChangeProvider:unitTest_didEvaluateIfMaintenanceWorkIsNeeded:
+ _objc_msgSend$registerForSignificantTimeChangesWithQueue:completion:
+ _objc_msgSend$risk
- -[HDMHAssessmentsNotificationManager invalidate]
- -[HDMHPromptedAssessmentsManager dealloc]
- -[HDMHSOMNotificationManager _queue_registerForSignificantTimeChanges]
- -[HDMHSOMNotificationManager didReceiveDayChangeNotification:]
- -[HDMHSOMNotificationManager initWithProfile:settingsManager:restorableAlarm:typicalDayProvider:unitTest_didEvaluateIfMaintenanceWorkIsNeeded:]
- -[HDMHSOMNotificationManager invalidate]
- GCC_except_table4
- _NSCalendarDayChangedNotification
- _OBJC_CLASS_$_NSNotificationCenter
- _OBJC_IVAR_$_HDMHSOMNotificationManager._significantTimeChangeToken
- __PROTOCOLS__TtC18MentalHealthDaemon29MentalHealthDemoDataGenerator.9
- __ZNSt3__110unique_ptrINS_11__hash_nodeINS_17__hash_value_typeIlU8__strongP16_HDMHDomainCountEEPvEENS_22__hash_node_destructorINS_9allocatorIS8_EEEEE5resetB8ne190102EPS8_
- __ZSt28__throw_bad_array_new_lengthB8ne190102v
- __Znwm
- ___62-[HDMHSOMNotificationManager didReceiveDayChangeNotification:]_block_invoke
- ___70-[HDMHSOMNotificationManager _queue_registerForSignificantTimeChanges]_block_invoke
- ___71-[HDMHAssessmentsNotificationManager _queue_alarm:didReceiveDueEvents:]_block_invoke.310
- ___block_descriptor_40_e8_32w_e8_v12?0i8lw32l8
- ___block_literal_global.301
- ___block_literal_global.313
- ___block_literal_global.320
- __swift_FORCE_LOAD_$_swift_errno
- __swift_FORCE_LOAD_$_swift_errno_$_MentalHealthDaemon
- __swift_FORCE_LOAD_$_swift_math
- __swift_FORCE_LOAD_$_swift_math_$_MentalHealthDaemon
- __swift_FORCE_LOAD_$_swift_signal
- __swift_FORCE_LOAD_$_swift_signal_$_MentalHealthDaemon
- __swift_FORCE_LOAD_$_swift_stdio
- __swift_FORCE_LOAD_$_swift_stdio_$_MentalHealthDaemon
- __swift_FORCE_LOAD_$_swift_time
- __swift_FORCE_LOAD_$_swift_time_$_MentalHealthDaemon
- __swift_FORCE_LOAD_$_swiftsys_time
- __swift_FORCE_LOAD_$_swiftsys_time_$_MentalHealthDaemon
- __swift_FORCE_LOAD_$_swiftunistd
- __swift_FORCE_LOAD_$_swiftunistd_$_MentalHealthDaemon
- _notify_is_valid_token
- _objc_msgSend$_queue_registerForSignificantTimeChanges
- _objc_msgSend$addObserver:selector:name:object:
- _objc_msgSend$defaultCenter
- _objc_msgSend$hkmh_requestForCategoryIdentifier:
- _objc_msgSend$initWithProfile:settingsManager:restorableAlarm:typicalDayProvider:unitTest_didEvaluateIfMaintenanceWorkIsNeeded:
- _objc_msgSend$removeObserver:name:object:
CStrings:
+ ""
+ "&"
+ "@\"<HDMHSignificantTimeChangeProviding>\""
+ "@24@0:8q16"
+ "@64@0:8@16@24@32@40@48@?56"
+ "HDMHSignificantTimeChangeProvider"
+ "HDMHSignificantTimeChangeProviding"
+ "T@\"<HDMHSignificantTimeChangeProviding>\",&,N,V_significantTimeChangeProvider"
+ "Ti,N,V_notifyToken"
+ "[%{public}@] Error retrieving last sample %@: %@"
+ "[%{public}@] Error retrieving last state of mind sample %@: %@"
+ "[%{public}@] Invalidating notification manager %p"
+ "[%{public}@] Invalidating notification manager: %p"
+ "[%{public}@] Invalidating significant time change provider %p"
+ "[%{public}@] Notification for event was due more than one day ago: %@"
+ "[%{public}@] Rescheduling notifications for significant time change"
+ "[%{public}@] Retrieved sample of unexpected type: %{private}@"
+ "_mostRecentAssessmentCategories"
+ "_mostRecentAssessmentCategoryWithSampleType:"
+ "_mostRecentStateOfMindPleasantnessRatings"
+ "_mostRecentStateOfMindWithReflectiveInterval:"
+ "_notifyToken"
+ "_significantTimeChangeProvider"
+ "associationsUpdatedForObject:subObject:type:behavior:objects:anchor:"
+ "dueDate"
+ "hk_deleteDomainsNamed:"
+ "hkmh_requestForCategoryIdentifier:date:"
+ "i16@0:8"
+ "initWithProfile:settingsManager:restorableAlarm:typicalDayProvider:significantTimeChangeProvider:unitTest_didEvaluateIfMaintenanceWorkIsNeeded:"
+ "invalidateAndWait"
+ "mostRecentAnxietyAssessmentCategory"
+ "mostRecentDailyPleasantnessRating"
+ "mostRecentDepressionsAssessmentCategory"
+ "mostRecentMomentaryPleasantnessRating"
+ "notifyToken"
+ "registerForSignificantTimeChangesWithQueue:completion:"
+ "risk"
+ "setNotifyToken:"
+ "setSignificantTimeChangeProvider:"
+ "significantTimeChangeProvider"
+ "v20@0:8i16"
+ "v32@0:8@\"NSObject<OS_dispatch_queue>\"16@?<v@?>24"
+ "v32@0:8@16@?24"
+ "v64@0:8@\"<HKAssociatableObject>\"16@\"<HKAssociatableObject>\"24Q32Q40@\"NSArray\"48@\"NSNumber\"56"
+ "v64@0:8@16@24Q32Q40@48@56"
+ "{unordered_map<long, _HDMHDomainCount *, std::hash<long>, std::equal_to<long>, std::allocator<std::pair<const long, _HDMHDomainCount *>>>=\"__table_\"{__hash_table<std::__hash_value_type<long, _HDMHDomainCount *>, std::__unordered_map_hasher<long, std::__hash_value_type<long, _HDMHDomainCount *>, std::hash<long>, std::equal_to<long>>, std::__unordered_map_equal<long, std::__hash_value_type<long, _HDMHDomainCount *>, std::equal_to<long>, std::hash<long>>, std::allocator<std::__hash_value_type<long, _HDMHDomainCount *>>>=\"__bucket_list_\"{unique_ptr<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *[], std::__bucket_list_deallocator<std::allocator<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *>>>=\"__ptr_\"^^v\"__deleter_\"{__bucket_list_deallocator<std::allocator<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *>>=\"__size_\"Q}}\"__first_node_\"{__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *>=\"__next_\"^v}\"__size_\"Q\"__max_load_factor_\"f}}"
- "[%{public}@] Invalidating notification manager"
- "[%{public}@] Rescheduling notifications for Calendar Day change"
- "_queue_registerForSignificantTimeChanges"
- "_significantTimeChangeToken"
- "addObserver:selector:name:object:"
- "defaultCenter"
- "didReceiveDayChangeNotification:"
- "hkmh_requestForCategoryIdentifier:"
- "initWithProfile:settingsManager:restorableAlarm:typicalDayProvider:unitTest_didEvaluateIfMaintenanceWorkIsNeeded:"
- "removeObserver:name:object:"
- "{unordered_map<long, _HDMHDomainCount *, std::hash<long>, std::equal_to<long>, std::allocator<std::pair<const long, _HDMHDomainCount *>>>=\"__table_\"{__hash_table<std::__hash_value_type<long, _HDMHDomainCount *>, std::__unordered_map_hasher<long, std::__hash_value_type<long, _HDMHDomainCount *>, std::hash<long>, std::equal_to<long>>, std::__unordered_map_equal<long, std::__hash_value_type<long, _HDMHDomainCount *>, std::equal_to<long>, std::hash<long>>, std::allocator<std::__hash_value_type<long, _HDMHDomainCount *>>>=\"__bucket_list_\"{unique_ptr<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *[], std::__bucket_list_deallocator<std::allocator<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *>>>=\"__ptr_\"{__compressed_pair<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> **, std::__bucket_list_deallocator<std::allocator<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *>>>=\"__value_\"^^v\"__value_\"{__bucket_list_deallocator<std::allocator<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *>>=\"__data_\"{__compressed_pair<unsigned long, std::allocator<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *> *>>=\"__value_\"Q}}}}\"__p1_\"{__compressed_pair<std::__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *>, std::allocator<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *>>>=\"__value_\"{__hash_node_base<std::__hash_node<std::__hash_value_type<long, _HDMHDomainCount *>, void *> *>=\"__next_\"^v}}\"__p2_\"{__compressed_pair<unsigned long, std::__unordered_map_hasher<long, std::__hash_value_type<long, _HDMHDomainCount *>, std::hash<long>, std::equal_to<long>>>=\"__value_\"Q}\"__p3_\"{__compressed_pair<float, std::__unordered_map_equal<long, std::__hash_value_type<long, _HDMHDomainCount *>, std::equal_to<long>, std::hash<long>>>=\"__value_\"f}}}"

```
