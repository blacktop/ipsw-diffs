## APFoundation

> `/System/Library/PrivateFrameworks/APFoundation.framework/APFoundation`

```diff

-555.48.1.8.0
-  __TEXT.__text: 0x138ed0
-  __TEXT.__auth_stubs: 0x1e20
-  __TEXT.__objc_methlist: 0x4294
-  __TEXT.__const: 0x8520
-  __TEXT.__gcc_except_tab: 0xac4
-  __TEXT.__cstring: 0x4624
-  __TEXT.__oslogstring: 0x4594
+556.0.60.0.0
+  __TEXT.__text: 0x1c38ec
+  __TEXT.__auth_stubs: 0x2220
+  __TEXT.__objc_methlist: 0x430c
+  __TEXT.__const: 0x9070
+  __TEXT.__gcc_except_tab: 0xa40
+  __TEXT.__cstring: 0x4a54
+  __TEXT.__oslogstring: 0x46a4
   __TEXT.__ustring: 0x4
-  __TEXT.__swift5_typeref: 0xe8c
-  __TEXT.__constg_swiftt: 0x15fc
-  __TEXT.__swift5_reflstr: 0x7a7
-  __TEXT.__swift5_fieldmd: 0xbd0
-  __TEXT.__swift5_builtin: 0x8c
+  __TEXT.__constg_swiftt: 0x1cc0
+  __TEXT.__swift5_typeref: 0x13e8
+  __TEXT.__swift5_reflstr: 0x92f
+  __TEXT.__swift5_fieldmd: 0xfec
+  __TEXT.__swift5_builtin: 0xa0
   __TEXT.__swift5_assocty: 0x220
-  __TEXT.__swift5_proto: 0x1a8
-  __TEXT.__swift5_types: 0x104
-  __TEXT.__swift5_protos: 0x48
-  __TEXT.__swift5_capture: 0x3cc
-  __TEXT.__swift5_mpenum: 0x18
-  __TEXT.__unwind_info: 0x1af8
-  __TEXT.__eh_frame: 0x1090
-  __TEXT.__objc_classname: 0x8f4
-  __TEXT.__objc_methname: 0x8a05
-  __TEXT.__objc_methtype: 0x1a5d
+  __TEXT.__swift5_proto: 0x254
+  __TEXT.__swift5_types: 0x168
+  __TEXT.__swift5_protos: 0x7c
+  __TEXT.__swift5_capture: 0x670
+  __TEXT.__swift5_mpenum: 0x28
+  __TEXT.__swift_as_entry: 0x4
+  __TEXT.__swift_as_ret: 0x4
+  __TEXT.__unwind_info: 0x1e90
+  __TEXT.__eh_frame: 0x1338
+  __TEXT.__objc_classname: 0x8e6
+  __TEXT.__objc_methname: 0x8aaf
+  __TEXT.__objc_methtype: 0x1ba0
   __TEXT.__objc_stubs: 0x6f20
-  __DATA_CONST.__got: 0x790
-  __DATA_CONST.__const: 0x11f8
-  __DATA_CONST.__objc_classlist: 0x2d0
+  __DATA_CONST.__got: 0x840
+  __DATA_CONST.__const: 0x1148
+  __DATA_CONST.__objc_classlist: 0x330
   __DATA_CONST.__objc_catlist: 0x80
-  __DATA_CONST.__objc_protolist: 0x110
+  __DATA_CONST.__objc_protolist: 0x118
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x24f0
+  __DATA_CONST.__objc_selrefs: 0x2528
   __DATA_CONST.__objc_protorefs: 0x60
   __DATA_CONST.__objc_superrefs: 0x180
   __DATA_CONST.__objc_arraydata: 0x70
-  __AUTH_CONST.__auth_got: 0xf20
-  __AUTH_CONST.__const: 0x67a0
-  __AUTH_CONST.__cfstring: 0x34e0
-  __AUTH_CONST.__objc_const: 0x7f10
+  __AUTH_CONST.__auth_got: 0x1120
+  __AUTH_CONST.__const: 0x8230
+  __AUTH_CONST.__cfstring: 0x3400
+  __AUTH_CONST.__objc_const: 0x8828
   __AUTH_CONST.__objc_intobj: 0x168
   __AUTH_CONST.__objc_doubleobj: 0xc0
   __AUTH_CONST.__objc_arrayobj: 0x30
-  __AUTH.__objc_data: 0x258
-  __AUTH.__data: 0x380
+  __AUTH.__objc_data: 0x308
+  __AUTH.__data: 0x440
   __DATA.__objc_ivar: 0x370
-  __DATA.__data: 0x1170
-  __DATA.__bss: 0x28d0
-  __DATA.__common: 0xd0
-  __DATA_DIRTY.__objc_data: 0x15c8
-  __DATA_DIRTY.__data: 0x1898
-  __DATA_DIRTY.__bss: 0x7f0
-  __DATA_DIRTY.__common: 0x38
+  __DATA.__data: 0x1258
+  __DATA.__bss: 0x3530
+  __DATA.__common: 0xc8
+  __DATA_DIRTY.__objc_data: 0x15a0
+  __DATA_DIRTY.__data: 0x22e8
+  __DATA_DIRTY.__bss: 0x9e0
+  __DATA_DIRTY.__common: 0x40
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreLocation.framework/CoreLocation
   - /System/Library/Frameworks/Foundation.framework/Foundation
   - /System/Library/Frameworks/Security.framework/Security
+  - /System/Library/Frameworks/_LocationEssentials.framework/_LocationEssentials
+  - /System/Library/PrivateFrameworks/BackgroundSystemTasks.framework/BackgroundSystemTasks
   - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics
   - /System/Library/PrivateFrameworks/CrashReporterSupport.framework/CrashReporterSupport
   - /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration

   - /usr/lib/swift/libswiftObjectiveC.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
-  - /usr/lib/swift/libswift_errno.dylib
-  - /usr/lib/swift/libswift_math.dylib
-  - /usr/lib/swift/libswift_signal.dylib
-  - /usr/lib/swift/libswift_stdio.dylib
-  - /usr/lib/swift/libswift_time.dylib
+  - /usr/lib/swift/libswift_Concurrency.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation1.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation2.dylib
+  - /usr/lib/swift/libswift_DarwinFoundation3.dylib
+  - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
-  - /usr/lib/swift/libswiftsys_time.dylib
-  - /usr/lib/swift/libswiftunistd.dylib
-  UUID: F9396A79-4D30-352E-8600-1E5B042A7E3B
-  Functions: 2574
-  Symbols:   729
-  CStrings:  3448
+  UUID: 778BCBEE-A58F-3E23-8660-FE47364BAEF7
+  Functions: 2997
+  Symbols:   728
+  CStrings:  3490
 
Symbols:
+ _OBJC_CLASS_$_APPromise
+ _OBJC_CLASS_$_BGNonRepeatingSystemTaskRequest
+ _OBJC_CLASS_$_BGRepeatingSystemTaskRequest
+ _OBJC_CLASS_$_BGSystemTaskScheduler
+ _OBJC_CLASS_$__TtC12APFoundation15APPromiseBridge
+ _OBJC_METACLASS_$_APPromise
+ _OBJC_METACLASS_$__TtC12APFoundation15APPromiseBridge
+ __swiftImmortalRefCount
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation1
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation2
+ __swift_FORCE_LOAD_$_swift_DarwinFoundation3
+ _swift_isaMask
+ _swift_task_alloc
+ _swift_task_create
+ _swift_task_dealloc
+ _swift_task_switch
- _OBJC_CLASS_$_APFeatureFlags
- _OBJC_CLASS_$_APUniversalSingleton
- _OBJC_METACLASS_$_APFeatureFlags
- _OBJC_METACLASS_$_APUniversalSingleton
- __swift_FORCE_LOAD_$_swift_errno
- __swift_FORCE_LOAD_$_swift_math
- __swift_FORCE_LOAD_$_swift_signal
- __swift_FORCE_LOAD_$_swift_stdio
- __swift_FORCE_LOAD_$_swift_time
- __swift_FORCE_LOAD_$_swiftsys_time
- __swift_FORCE_LOAD_$_swiftunistd
- _kAPActionStoreEnabled
- _kAPExperimentationReportEnabled
- _kAPModernDataCollectionEnabled
- _kAPOnDeviceAttributionEnabled
- _kAPOnDeviceConversionEnabled
- _memset_pattern16
CStrings:
+ "%s: Cancelled task."
+ "%s: Completed task."
+ "%s: Failed to expire task with retry."
+ "%s: Registered task."
+ "%s: Scheduled task."
+ "%s: Starting task."
+ "%s: Task cancelled. Scheduling retry..."
+ "%s: Task failed precondition check."
+ "%s: Task failed with unhandled error: %s"
+ "%s: Task is being cancelled."
+ "/^(?P<major>0|[1-9]\\d*)\\.(?P<minor>0|[1-9]\\d*)\\.(?P<patch>0|[1-9]\\d*)(?:-(?P<prerelease>(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+(?P<buildmetadata>[0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/"
+ "/var/mobile/Library/Application Support"
+ "@\"_TtC12APFoundation15APPromiseBridge\""
+ "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
+ "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
+ "APPromise"
+ "APTelemetry"
+ "Finished pcd_default pool manager setup with state %ld"
+ "Listener \"%{public}s\" has timed out processing message %s"
+ "Listener timed out."
+ "T@\"_TtC12APFoundation15APPromiseBridge\",&,N,V_innerPromise"
+ "TaskScheduler"
+ "_TtC12APFoundation15APPromiseBridge"
+ "_TtC12APFoundation18JSONKeyValueSource"
+ "_TtC12APFoundation18NullKeyValueSource"
+ "_TtC12APFoundation22CurrentTerritorySource"
+ "_TtC12APFoundation23BackgroundTaskScheduler"
+ "_TtC12APFoundation25UserDefaultsKeyValueStore"
+ "_TtC12APFoundation26DeviceExecutionEnvironment"
+ "_TtC12APFoundation26PrimitiveCountryCodeSource"
+ "_TtC12APFoundation27RandomCohortCandidateSource"
+ "_TtC12APFoundation27StoredCohortCandidateSource"
+ "_TtC12APFoundation28CohortCandidateKeyValueStore"
+ "_TtC12APFoundation30MemoizingCohortCandidateSource"
+ "_TtC12APFoundation37PrimitiveCountrySubdivisionCodeSource"
+ "_innerPromise"
+ "backingSource"
+ "cancelTaskRequestWithIdentifier:error:"
+ "catch:"
+ "com.apple.ap.message-queue-worker"
+ "com.apple.ap.promise"
+ "countryCodeSource"
+ "dataSource"
+ "initWithIdentifier:"
+ "innerPromise"
+ "isRunningTestInternal"
+ "keyValueStore"
+ "memo"
+ "pcd_default_pool"
+ "prereleaseIdentifiers"
+ "promise"
+ "raceTimerWorkItem"
+ "raceWithTimeout:queue:"
+ "registerForTaskWithIdentifier:usingQueue:launchHandler:"
+ "resolve"
+ "setBool:forKey:"
+ "setDouble:forKey:"
+ "setExpirationHandler:"
+ "setInnerPromise:"
+ "setPostInstall:"
+ "setScheduleAfter:"
+ "setTaskCompleted"
+ "setTaskExpiredWithRetryAfter:error:"
+ "sharedScheduler"
+ "store"
+ "subdivisionCodeSource"
+ "submitTaskRequest:error:"
+ "then:"
+ "userDefaults"
+ "v16@?0@\"BGSystemTask\"8"
+ "v28@0:8@\"NSString\"16f24"
+ "v32@0:8@\"NSString\"16@\"NSDictionary\"24"
+ "v32@0:8@\"NSString\"16@?<@\"NSDictionary\"@?>24"
+ "v32@0:8@\"NSString\"16q24"
+ "v32@0:8q16@\"NSString\"24"
+ "v40@0:8q16d24@\"NSString\"32"
+ "v48@0:8@\"NSString\"16@\"NSNumber\"24@\"NSDate\"32@\"NSError\"40"
+ "v48@0:8q16@\"NSDate\"24@\"NSDate\"32@\"NSString\"40"
- "APFeatureFlags"
- "APUniversalSingleton"
- "Current Location: (%{private}@)."
- "Error - Singleton instance for %@ already exists."
- "Feature: actionStore enabled: %d"
- "Feature: experimentationReport enabled: %d"
- "Feature: modernDataCollection enabled: %d"
- "Feature: modernDataCollection enabled: %{public}d"
- "Feature: onDeviceAttribution enabled: %d"
- "Feature: onDeviceAttribution enabled: %{public}d"
- "Feature: onDeviceConversion enabled: %d"
- "Feature: onDeviceConversion enabled: %{public}d"
- "T@\"NSDictionary\",&,N,V_singletons"
- "XCTestConfigurationFilePath"
- "_setValue:forSingletonKey:"
- "_singletons"
- "_valueForSingletonKey:"
- "actionStoreEnabled"
- "dataBOOL"
- "experimentationReportEnabled"
- "isSingletonSet"
- "modernDataCollectionEnabled"
- "onDeviceAttributionEnabled"
- "onDeviceConversionEnabled"
- "resetSingleton"
- "setMainDatabase:"
- "setSingletons:"
- "singletons"

```
