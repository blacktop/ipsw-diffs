## backupd

> `/System/Library/PrivateFrameworks/MobileBackup.framework/backupd`

```diff

-2899.0.11.0.0
-  __TEXT.__text: 0x28a130
-  __TEXT.__auth_stubs: 0x3620
-  __TEXT.__objc_stubs: 0x292a0
-  __TEXT.__objc_methlist: 0x177ec
-  __TEXT.__const: 0x22a0
-  __TEXT.__cstring: 0x701ce
-  __TEXT.__objc_methname: 0x37e49
-  __TEXT.__constg_swiftt: 0xa8c
-  __TEXT.__swift5_typeref: 0x107d
-  __TEXT.__swift5_reflstr: 0x1675
-  __TEXT.__swift5_fieldmd: 0x15a8
-  __TEXT.__swift5_builtin: 0x140
-  __TEXT.__swift5_assocty: 0x120
-  __TEXT.__swift5_proto: 0x168
-  __TEXT.__swift5_types: 0xf0
+2899.40.32.0.0
+  __TEXT.__text: 0x271900
+  __TEXT.__auth_stubs: 0x3370
+  __TEXT.__objc_stubs: 0x29220
+  __TEXT.__objc_methlist: 0x17784
+  __TEXT.__const: 0x1580
+  __TEXT.__cstring: 0x6f218
+  __TEXT.__objc_methname: 0x37d5e
+  __TEXT.__constg_swiftt: 0x7cc
+  __TEXT.__swift5_typeref: 0xd08
+  __TEXT.__swift5_reflstr: 0xe12
+  __TEXT.__swift5_fieldmd: 0xc64
+  __TEXT.__swift5_builtin: 0xdc
+  __TEXT.__swift5_assocty: 0x90
+  __TEXT.__swift5_proto: 0x94
+  __TEXT.__swift5_types: 0xa0
   __TEXT.__objc_classname: 0x1fab
-  __TEXT.__objc_methtype: 0x652e
-  __TEXT.__swift5_capture: 0x454
-  __TEXT.__oslogstring: 0x32938
+  __TEXT.__objc_methtype: 0x64f8
+  __TEXT.__swift5_capture: 0x3ec
+  __TEXT.__oslogstring: 0x32b7a
   __TEXT.__swift5_protos: 0x8
-  __TEXT.__swift5_mpenum: 0x2c
-  __TEXT.__gcc_except_tab: 0xc204
+  __TEXT.__swift5_mpenum: 0x1c
+  __TEXT.__gcc_except_tab: 0xc09c
   __TEXT.__ustring: 0x4
-  __TEXT.__unwind_info: 0x6d08
-  __TEXT.__eh_frame: 0x2320
-  __DATA_CONST.__auth_got: 0x1b20
-  __DATA_CONST.__got: 0xdf0
-  __DATA_CONST.__auth_ptr: 0x348
-  __DATA_CONST.__const: 0x8e50
-  __DATA_CONST.__cfstring: 0x1ca60
-  __DATA_CONST.__objc_classlist: 0xa28
-  __DATA_CONST.__objc_catlist: 0xc8
+  __TEXT.__unwind_info: 0x6910
+  __TEXT.__eh_frame: 0x1c88
+  __DATA_CONST.__auth_got: 0x19c8
+  __DATA_CONST.__got: 0xda0
+  __DATA_CONST.__auth_ptr: 0x298
+  __DATA_CONST.__const: 0x83a8
+  __DATA_CONST.__cfstring: 0x1c960
+  __DATA_CONST.__objc_classlist: 0xa10
+  __DATA_CONST.__objc_catlist: 0xd0
   __DATA_CONST.__objc_protolist: 0x290
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0xe0

   __DATA_CONST.__objc_arraydata: 0xd38
   __DATA_CONST.__objc_dictobj: 0x230
   __DATA_CONST.__objc_arrayobj: 0x540
-  __DATA.__objc_const: 0x25558
-  __DATA.__objc_selrefs: 0xc058
+  __DATA.__objc_const: 0x25418
+  __DATA.__objc_selrefs: 0xbf98
   __DATA.__objc_ivar: 0x1b34
-  __DATA.__objc_data: 0x7150
-  __DATA.__data: 0x2988
-  __DATA.__bss: 0x3368
+  __DATA.__objc_data: 0x7000
+  __DATA.__data: 0x24d8
+  __DATA.__bss: 0x18e0
   __DATA.__common: 0x48
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork

   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreAudio.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
-  - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftCoreLocation.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftMetal.dylib

   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: A2AA25D6-63D0-36B4-B7D6-83DD4BD63A36
-  Functions: 9819
-  Symbols:   1397
-  CStrings:  27561
+  UUID: 3CA20E31-7582-33D8-9CE2-BC74B80C095F
+  Functions: 9494
+  Symbols:   1344
+  CStrings:  27412
 
Symbols:
+ _$s6System8FilePathV6lengthSivg
+ _$ss5Int64VN
+ _kLockdownDeviceClassKey
- _$s10Foundation4DateV11distantPastACvgZ
- _$s10Foundation4DateV18addingTimeIntervalyACSdF
- _$s10Foundation4DateV1goiySbAC_ACtFZ
- _$s10Foundation4DateV20timeIntervalSinceNowSdvg
- _$s8Dispatch0A3QoSV7utilityACvgZ
- _$s8Dispatch0A9PredicateO10notOnQueueyACSo17OS_dispatch_queueCcACmFWC
- _$s8Dispatch0A9PredicateO7onQueueyACSo17OS_dispatch_queueCcACmFWC
- _$s8Dispatch0A9PredicateOMa
- _$s8Dispatch25_dispatchPreconditionTestySbAA0A9PredicateOF
- _$sSYsSERzSS8RawValueSYRtzrlE6encode2toys7Encoder_p_tKF
- _$sSYsSERzSi8RawValueSYRtzrlE6encode2toys7Encoder_p_tKF
- _$sSYsSERzs5Int64V8RawValueSYRtzrlE6encode2toys7Encoder_p_tKF
- _$sSYsSeRzSS8RawValueSYRtzrlE4fromxs7Decoder_p_tKcfC
- _$sSYsSeRzSi8RawValueSYRtzrlE4fromxs7Decoder_p_tKcfC
- _$sSYsSeRzs5Int64V8RawValueSYRtzrlE4fromxs7Decoder_p_tKcfC
- _$sSa11descriptionSSvg
- _$sSayxGSEsSERzlMc
- _$sSayxGSesSeRzlMc
- _$sSayxGSlsMc
- _$sSuN
- _$sSus23CustomStringConvertiblesWP
- _$ss018_bridgeAnyObjectToB0yypyXlSgF
- _$ss11AnyHashableV13_rawHashValue4seedS2i_tF
- _$ss11AnyHashableV2eeoiySbAB_ABtFZ
- _$ss11AnyHashableVMn
- _$ss11AnyHashableVN
- _$ss11AnyHashableVSHsWP
- _$ss12_ArrayBufferV20_consumeAndCreateNew14bufferIsUnique15minimumCapacity13growForAppendAByxGSb_SiSbtFyXl_Ts5
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySSSgSSm_xtKF
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySbSgSbm_xtKF
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySdSgSdm_xtKF
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySiSgSim_xtKF
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySuSgSum_xtKF
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeyqd__Sgqd__m_xtKSeRd__lF
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeys5Int64VSgAFm_xtKF
- _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeys6UInt64VSgAFm_xtKF
- _$ss22KeyedDecodingContainerV6decode_6forKeyS2bm_xtKF
- _$ss22KeyedDecodingContainerV6decode_6forKeyS2um_xtKF
- _$ss22KeyedDecodingContainerV6decode_6forKeys6UInt64VAFm_xtKF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyySSSg_xtKF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyySbSg_xtKF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyySdSg_xtKF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyySiSg_xtKF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyySuSg_xtKF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyyqd__Sg_xtKSERd__lF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyys5Int64VSg_xtKF
- _$ss22KeyedEncodingContainerV15encodeIfPresent_6forKeyys6UInt64VSg_xtKF
- _$ss22KeyedEncodingContainerV6encode_6forKeyySb_xtKF
- _$ss22KeyedEncodingContainerV6encode_6forKeyySu_xtKF
- _$ss22KeyedEncodingContainerV6encode_6forKeyys5Int64V_xtKF
- _$ss32_diagnoseUnexpectedEnumCaseValue4type03rawE0s5NeverOxm_q_tr0_lF
- _$sxSgSEsSERzlMc
- __swift_FORCE_LOAD_$_swiftCoreImage
- _swift_getDynamicType
- _swift_isUniquelyReferenced_nonNull_bridgeObject
- _swift_retain_n
CStrings:
+ "+[MBTemporaryDirectory sharedTemporaryDirectoryForTest:error:]"
+ "+[MBTemporaryDirectory sharedTemporaryDirectoryIdentifiedBy:error:]"
+ "+[MBTemporaryDirectory userTemporaryDirectoryForPersona:identifiedBy:error:]"
+ "+[MBTemporaryDirectory userTemporaryDirectoryForTest:error:]"
+ "-[MBCKContainer initWithAccount:error:]"
+ "-[MBCKManager _saveBackupInProgressMarkerStateWithAccount:]"
+ "=encryption key= Failed to fetch encryption key for %@:%@ (inode:%llu, birth:%@): %@"
+ "=scheduler= Backup on battery allowed (plist override): %d"
+ "=scheduler= Backup on cellular allowed (plist override): %d"
+ "=scheduler= Clearing date of last passcode change"
+ "=scheduler= Ignoring passcode changed notification"
+ "=scheduler= Last backup on battery was delayed (\"%{public}@\") (%llds)"
+ "=scheduler= Passcode change backup is no longer due - passcodeChangeDate: %@ lastBackupDate: %@"
+ "=scheduler= Passcode was changed %.2f minutes ago"
+ "=scheduler= [On condition] state changed, enabled:%d, locked:%d, onPower:%d, onWiFi:%d, onCellular:%d(%d), autoBackupOnCellularEnabled:%d, autoBackupOnCellularAllowedByProvider:%d, passcodeChanged:%d, managerStates:%@, changes:%{public}@"
+ "Backup in progress. This marker will be removed after the engine completes unless backupd is killed mid-attempt"
+ "BackupOnPasscodeChange"
+ "DateOfLastPasscodeChange"
+ "Failed to SQLite temporary dir to copy %@, %@"
+ "Failed to create tempdir on same volume as %@"
+ "Failed to fetch persona attributes for %@: %@"
+ "Failed to make container for account: %@"
+ "T@\"NSDate\",&,N,V_dateOfLastPasscodeChange"
+ "TB,N,V_allowBackupOnBattery"
+ "_allowBackupOnBattery"
+ "_clearDateOfLastPasscodeChange"
+ "_copyPersonalPreferencesValueForKey:"
+ "_dataTransferAttemptCount"
+ "_dateOfLastPasscodeChange"
+ "_doneAttemptCount"
+ "_initAttemptCount"
+ "_keychainRestoreAttemptCount"
+ "_keychainTransferAttemptCount"
+ "_passcodeChanged:"
+ "_preflightAttemptCount"
+ "_restoreAttemptCount"
+ "_saveBackupInProgressMarkerStateWithAccount:"
+ "allowBackupOnBattery"
+ "backgroundRestoreInfoWithMonitor:account:finishedAirTrafficRestore:appDataDidFinishRestore:"
+ "copyPersonalPreferencesValueForKey:class:"
+ "currentDeviceClass: %@, sourceDeviceClass not present in backup, using host provided argument for shouldRestoreSystemFiles: %d"
+ "currentDeviceClass: %@, sourceDeviceClass: %@ shouldRestoreSystemFiles: %d"
+ "dateOfLastPasscodeChange"
+ "decoded-assets-tmp"
+ "getPersonalBooleanValueForKey:keyExists:"
+ "initWithAccount:error:"
+ "initWithDataClassesRemaining:bytesRemaining:failedDomains:recentATCErrors:perClassItemsRemaining:airTrafficDidFinishRestore:appDataDidFinishRestore:snapshotFormat:snapshotID:commitID:"
+ "isDueForPasscodeChangedBackupWithLastBackupDate:"
+ "isWithinDefaultBackupPeriod"
+ "kMBMessagePasscodeChanged"
+ "mayUninstallAppWithIdentity:"
+ "passcodeChanged"
+ "personaAttributesForPersonaUniqueString:withError:"
+ "setAllowBackupOnBattery:"
+ "setDateOfLastPasscodeChange:"
+ "setPersonalPreferencesValue:forKey:"
+ "setUserPersonaAttributes:"
+ "sharedTemporaryDirectoryForTest:error:"
+ "sharedTemporaryDirectoryIdentifiedBy:error:"
+ "snapshotIDForCurrentRestore:"
+ "userTemporaryDirectoryForPersona:identifiedBy:error:"
+ "userTemporaryDirectoryForTest:error:"
- " at destination "
- " does not match current build version "
- " instead of dictionary for key "
- " since it is no longer present: "
- " to a property list"
- "$__lazy_storage_$_dryRestoreActivity"
- ") oversized and "
- ") potential domains to fit into "
- "+[MBTemporaryDirectory sharedTemporaryDirectoryForTest:]"
- "+[MBTemporaryDirectory sharedTemporaryDirectoryIdentifiedBy:]"
- "+[MBTemporaryDirectory userTemporaryDirectoryForPersona:identifiedBy:]"
- "+[MBTemporaryDirectory userTemporaryDirectoryForTest:]"
- "-[MBCKContainer initWithAccount:useSandbox:]"
- "-[MBCKManager saveFailedBackupShadowStateWithAccount:]"
- "-[MBTapToRadar reportDryRestoreErrorsIn:persona:withFailure:]"
- "1976832"
- "=cloud-backup-policy= Using dry restore compatible snapshot format: %@"
- "=dry-domain-selection= "
- "=dry-restore-activity= "
- "=dry-restore-manager= "
- "=dry-restore-policy= "
- "=dry-restore-state= "
- "=dry-restore-telemetry-recording= "
- "=encryption key= Could not fetch encryption key for %@:%@ (inode:%llu) from the MKB cache: %@"
- "=encryption key= Failed to fetch encryption key for %@:%@ (inode:%llu): %@"
- "=plist-persistence= "
- "=scheduler= %{public}@:%d"
- "=scheduler= Last backup on WiFi on battery was delayed (\"%{public}@\") (%llds)"
- "=scheduler= [On condition] state changed, enabled:%d, locked:%d, onPower:%d, onWiFi:%d, onCellular:%d(%d), autoBackupOnCellularEnabled:%d, autoBackupOnCellularAllowedByProvider:%d, managerStates:%@, changes:%{public}@"
- "@\"OS_dispatch_queue\""
- "@\"_TtC7backupd19MBDryRestoreManager\""
- "@56@0:8d16@24@32@40^@48"
- "All domains fit within budget, restoring all domains"
- "Background dry restore failed restoring domains:\n%@\n\n%@"
- "Background dry restore failed with error:\n\n%@"
- "BackupOnBattery"
- "Cancelling dry restore session"
- "Clearing session"
- "Computed policy: "
- "Deleting previous dry restore dirs "
- "Dry Restore Failure"
- "Dry restore is not enabled"
- "Dry restore never run before"
- "Dry restore session already cancelled"
- "Dry restore summary: "
- "DryRestoreConfiguration"
- "Erasing previous snapshot "
- "Erasing previous unrecognized account "
- "Erasing un-decodable previous dry restore state: "
- "Failed creating session"
- "Failed placing item "
- "Failed serializing dry restore telemetry: "
- "Failed syncing file lists"
- "Failed to convert "
- "Failed to find any Lightrail snapshot"
- "Failed to load dry restore state"
- "Failed to register task "
- "Failed to save dry restore state"
- "Interrupted before starting dry restore"
- "Interrupting scheduled dry restore with reason: "
- "Invoking dry restore manager"
- "Next dry restore in "
- "No Lightrail snapshots found in any account"
- "No previous dry restore account"
- "No previous dry restore snapshot"
- "No previous dry restore state"
- "Performing dry restore"
- "Previous account not found: "
- "Previous build version "
- "Previous dry restore content dir not found: "
- "Previous dry restore metadata dir not found: "
- "Previous snapshot not found"
- "Rescheduling dry restore"
- "Resuming restore session for "
- "Scheduling next dry restore event in "
- "Scheduling next dry restore telemetry event in "
- "Selecting new snapshot to dry restore"
- "Service crashed"
- "Session completed successfully"
- "Session interrupted"
- "Session resetting"
- "Session starting"
- "Setting estimated size and duration to "
- "Snapshot has no UUID"
- "Snapshot has no device name"
- "Starting fresh restore session for "
- "Submitting telemetry"
- "T@\"NSString\",N,C"
- "T@\"OS_dispatch_queue\",N,&,VworkQueue"
- "T@\"_TtC7backupd19MBDryRestoreManager\",R,N"
- "TB,N,V_useSandbox"
- "TempDir: Failed to create %s directory (mkdtemp error: %d)"
- "Too soon to start session"
- "Unable to find snapshot"
- "Unexpected error resuming"
- "Was time to dry restore "
- "_TtC7backupd19MBDryRestoreCommand"
- "_TtC7backupd19MBDryRestoreManager"
- "_TtC7backupd20MBDryRestoreActivity"
- "_backupOnBatteryAllowed"
- "_dryRestore:"
- "_dryRestoreActivity"
- "_dryRestoreManager"
- "_runState"
- "_selection"
- "_useSandbox"
- "_validateFormatForDryRestore:"
- "allAttemptsDuration"
- "assetFetchDuration"
- "bgstRuntimeLimit"
- "cancelAllOperations"
- "char * _Nullable _mkdtemp(const char *, NSString *__strong, NSError *__autoreleasing *)"
- "com.apple.backupd.internal.dry_restore"
- "com.apple.massStorage.MobileBackupInfo.DryRestore_1"
- "createManager"
- "currentAttemptDuration"
- "currentFreeDiskSpace"
- "diskSpace"
- "downloadThroughput"
- "dry restore"
- "dryRestoreConfigurationForAccount:"
- "dryRestoreContentDirectory"
- "dryRestoreGBAllowance"
- "dryRestoreInterval"
- "dryRestoreManager"
- "dryRestoreMetadataDirectory"
- "dryRestoreWithAllowance:snapshotUUID:account:connection:error:"
- "enableOnAppleWifi"
- "exclusivelyOnAppleWifiForThreeDays"
- "failedSelectingSnapshot"
- "failureDescription"
- "failureSignature"
- "format"
- "iCloud Backup"
- "inactive"
- "initWithAccount:useSandbox:"
- "initWithSandbox:"
- "initialFreeDiskSpace"
- "interruptWithCause:"
- "interrupted"
- "interruptionCause"
- "itemsPlacedThroughput"
- "kMBMessageDryRestore"
- "kMBMessageDryRestoreAllowance"
- "kMBMessageDryRestoreSnapshotUUID"
- "lastAttemptedDryRestore"
- "lastBuildVersion"
- "lastCompletedDryRestore"
- "lastCompletedSessionDuration"
- "lastCompletedSessionSize"
- "lastReportedTelemetryDate"
- "limitedByAllowance"
- "limitedByDiskSpace"
- "onAppleWiFiSince"
- "overSizedDomainCount"
- "overSizedDomainTotalSize"
- "potentialFitDomainCount"
- "potentialFitDomainTotalSize"
- "q40@0:8@16@24@32"
- "registerForTaskWithIdentifier:usingQueue:launchHandler:"
- "remainingAllowance"
- "reportDryRestoreErrorsIn:persona:withFailure:"
- "restorablePlacementDuration"
- "saveFailedBackupShadowStateWithAccount:"
- "selectedDomainCount"
- "selectedDomainTotalSize"
- "sessionDownloadAllowance"
- "setAirTrafficDidFinishRestore:"
- "setAppDataDidFinishRestore:"
- "setBytesRemaining:"
- "setDataClassesRemaining:"
- "setExpectedDuration:"
- "setExpirationHandlerWithReason:"
- "setFailedDomains:"
- "setInvolvedProcesses:"
- "setNetworkDownloadSize:"
- "setPerClassItemsRemaining:"
- "setRecentATCErrors:"
- "setRequiresBuddyComplete:"
- "setRequiresExternalPower:"
- "setRequiresInexpensiveNetworkConnectivity:"
- "setRequiresNetworkConnectivity:"
- "setRequiresProtectionClass:"
- "setRequiresUnconstrainedNetworkConnectivity:"
- "setRequiresUserInactivity:"
- "setResourceIntensive:"
- "setResources:"
- "setScheduleAfter:"
- "setTrySchedulingBefore:"
- "setUseSandbox:"
- "setWorkQueue:"
- "sharedTemporaryDirectoryForTest:"
- "sharedTemporaryDirectoryIdentifiedBy:"
- "skippedDomainCount"
- "skippedDomainTotalSize"
- "stringFromTimeInterval:"
- "timeUntilNextDryRestore"
- "tooSoon"
- "totalAssetBytesDownloaded"
- "totalDomainCount"
- "totalDomainsInSnapshot"
- "totalDomainsRestored"
- "totalDomainsSkipped"
- "totalFileListSize"
- "totalZeroSizeDomains"
- "useSandbox"
- "userLimit"
- "userTemporaryDirectoryForPersona:identifiedBy:"
- "userTemporaryDirectoryForTest:"
- "v16@?0@\"BGSystemTask\"8"
- "zeroSizeDomainCount"

```
