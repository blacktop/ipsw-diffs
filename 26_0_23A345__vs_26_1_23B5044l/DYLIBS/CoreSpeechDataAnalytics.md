## CoreSpeechDataAnalytics

> `/System/Library/PrivateFrameworks/CoreSpeechDataAnalytics.framework/CoreSpeechDataAnalytics`

```diff

-3500.122.2.0.0
-  __TEXT.__text: 0x4c488
-  __TEXT.__auth_stubs: 0x10e0
-  __TEXT.__objc_methlist: 0xe8
-  __TEXT.__const: 0x18e0
-  __TEXT.__cstring: 0x5df5
-  __TEXT.__constg_swiftt: 0x2308
-  __TEXT.__swift5_typeref: 0x9e8
-  __TEXT.__swift5_reflstr: 0x1217
-  __TEXT.__swift5_fieldmd: 0xdb0
-  __TEXT.__swift5_builtin: 0xdc
+3505.14.3.0.0
+  __TEXT.__text: 0x5ea1c
+  __TEXT.__auth_stubs: 0x13d0
+  __TEXT.__objc_methlist: 0x158
+  __TEXT.__const: 0x1d70
+  __TEXT.__cstring: 0x6294
+  __TEXT.__constg_swiftt: 0x29d4
+  __TEXT.__swift5_typeref: 0xbda
+  __TEXT.__swift5_reflstr: 0x1662
+  __TEXT.__swift5_fieldmd: 0x10f4
+  __TEXT.__swift5_builtin: 0x104
   __TEXT.__swift5_assocty: 0x108
-  __TEXT.__oslogstring: 0x30c5
-  __TEXT.__swift5_proto: 0xb8
-  __TEXT.__swift5_types: 0xe4
-  __TEXT.__swift_as_entry: 0x78
-  __TEXT.__swift_as_ret: 0x7c
+  __TEXT.__oslogstring: 0x44b5
+  __TEXT.__swift5_proto: 0xcc
+  __TEXT.__swift5_types: 0x114
+  __TEXT.__swift_as_entry: 0xa4
+  __TEXT.__swift_as_ret: 0x98
   __TEXT.__swift5_protos: 0x1c
-  __TEXT.__swift5_capture: 0x54
+  __TEXT.__swift5_capture: 0xb4
   __TEXT.__swift5_mpenum: 0x8
-  __TEXT.__unwind_info: 0xa98
-  __TEXT.__eh_frame: 0x13fc
+  __TEXT.__unwind_info: 0xde8
+  __TEXT.__eh_frame: 0x1a24
   __TEXT.__objc_classname: 0x1e
-  __TEXT.__objc_methname: 0xe31
-  __TEXT.__objc_methtype: 0x88
-  __TEXT.__objc_stubs: 0xc0
-  __DATA_CONST.__got: 0x2c8
-  __DATA_CONST.__const: 0x8950
-  __DATA_CONST.__objc_classlist: 0x138
+  __TEXT.__objc_methname: 0xf2a
+  __TEXT.__objc_methtype: 0xb2
+  __TEXT.__objc_stubs: 0x120
+  __DATA_CONST.__got: 0x338
+  __DATA_CONST.__const: 0xa4c8
+  __DATA_CONST.__objc_classlist: 0x180
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x4d0
+  __DATA_CONST.__objc_selrefs: 0x518
   __DATA_CONST.__objc_superrefs: 0x8
-  __AUTH_CONST.__auth_got: 0x878
-  __AUTH_CONST.__const: 0xca0
+  __AUTH_CONST.__auth_got: 0x9f0
+  __AUTH_CONST.__const: 0xff0
   __AUTH_CONST.__cfstring: 0x4a20
-  __AUTH_CONST.__objc_const: 0x29e0
-  __AUTH.__objc_data: 0x568
-  __AUTH.__data: 0x3fe0
+  __AUTH_CONST.__objc_const: 0x3308
+  __AUTH.__objc_data: 0x7d8
+  __AUTH.__data: 0x4b30
   __DATA.__objc_ivar: 0x4
-  __DATA.__data: 0x4b0
-  __DATA.__bss: 0x1000
-  __DATA.__common: 0x280
+  __DATA.__data: 0x648
+  __DATA.__bss: 0x1080
+  __DATA.__common: 0x2f0
   __DATA_DIRTY.__data: 0x58
   - /System/Library/Frameworks/AVFAudio.framework/AVFAudio
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
+  - /System/Library/Frameworks/CryptoKit.framework/CryptoKit
   - /System/Library/Frameworks/Foundation.framework/Foundation
   - /System/Library/Frameworks/Speech.framework/Speech
   - /System/Library/PrivateFrameworks/AssistantServices.framework/AssistantServices

   - /System/Library/PrivateFrameworks/BiomeSync.framework/BiomeSync
   - /System/Library/PrivateFrameworks/CoreSpeechFoundation.framework/CoreSpeechFoundation
   - /System/Library/PrivateFrameworks/FeedbackLogger.framework/FeedbackLogger
+  - /System/Library/PrivateFrameworks/IDS.framework/IDS
   - /System/Library/PrivateFrameworks/SiriAnalytics.framework/SiriAnalytics
   - /System/Library/PrivateFrameworks/SiriInstrumentation.framework/SiriInstrumentation
   - /System/Library/PrivateFrameworks/SpeakerRecognition.framework/SpeakerRecognition

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 8DCCD4BC-9E3A-3ED4-8402-4EB8C44C9B10
-  Functions: 825
-  Symbols:   661
-  CStrings:  1785
+  UUID: 0B98AB20-699B-3C76-BBEC-F2834C15878F
+  Functions: 1047
+  Symbols:   766
+  CStrings:  1893
 
Symbols:
+ +[CSDADataAnalyticsController calculateAnchorDateWithTargetSlot:]
+ +[CSDADataAnalyticsController calculateAnchorDateWithTargetSlot:currentDate:]
+ +[CSDADataAnalyticsController calculateUserSlotWithDeviceID:siriSharedUserId:locale:]
+ _CSIsInternalBuild
+ _IDSCopyLocalDeviceUniqueID
+ _OBJC_CLASS_$_AFLocationService
+ _OBJC_CLASS_$_NSNumber
+ _OBJC_CLASS_$__TtC23CoreSpeechDataAnalytics25DeterministicUserSelector
+ _OBJC_METACLASS_$__TtC23CoreSpeechDataAnalytics25DeterministicUserSelector
+ __CLASS_METHODS__TtC23CoreSpeechDataAnalytics25DeterministicUserSelector
+ __DATA__TtC23CoreSpeechDataAnalytics11SiriSession
+ __DATA__TtC23CoreSpeechDataAnalytics18EnrollmentMetadata
+ __DATA__TtC23CoreSpeechDataAnalytics25DeterministicUserSelector
+ __DATA__TtC23CoreSpeechDataAnalytics26EnrollmentRecordsGenerator
+ __DATA__TtC23CoreSpeechDataAnalytics30SpkrIdSamplingOneSessionPolicy
+ __DATA__TtC23CoreSpeechDataAnalytics31SiriSessionUserSamplingMetaData
+ __DATA__TtC23CoreSpeechDataAnalytics35SpkrIdSamplingOneSessionActionEvent
+ __DATA__TtC23CoreSpeechDataAnalytics37SpkrIdSamplingOneSessionSelectionRule
+ __DATA__TtCV23CoreSpeechDataAnalytics20SamplingDependencies7Builder
+ __INSTANCE_METHODS__TtC23CoreSpeechDataAnalytics25DeterministicUserSelector
+ __IVARS__TtC23CoreSpeechDataAnalytics11SiriSession
+ __IVARS__TtC23CoreSpeechDataAnalytics18EnrollmentMetadata
+ __IVARS__TtC23CoreSpeechDataAnalytics25DeterministicUserSelector
+ __IVARS__TtC23CoreSpeechDataAnalytics26EnrollmentRecordsGenerator
+ __IVARS__TtC23CoreSpeechDataAnalytics30SpkrIdSamplingOneSessionPolicy
+ __IVARS__TtC23CoreSpeechDataAnalytics31SiriSessionUserSamplingMetaData
+ __IVARS__TtC23CoreSpeechDataAnalytics35SpkrIdSamplingOneSessionActionEvent
+ __IVARS__TtC23CoreSpeechDataAnalytics37SpkrIdSamplingOneSessionSelectionRule
+ __IVARS__TtCV23CoreSpeechDataAnalytics20SamplingDependencies7Builder
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics11SiriSession
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics18EnrollmentMetadata
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics25DeterministicUserSelector
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics26EnrollmentRecordsGenerator
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics30SpkrIdSamplingOneSessionPolicy
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics31SiriSessionUserSamplingMetaData
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics35SpkrIdSamplingOneSessionActionEvent
+ __METACLASS_DATA__TtC23CoreSpeechDataAnalytics37SpkrIdSamplingOneSessionSelectionRule
+ __METACLASS_DATA__TtCV23CoreSpeechDataAnalytics20SamplingDependencies7Builder
+ ___swift_allocate_boxed_opaque_existential_1
+ ___swift_destroy_boxed_opaque_existential_0Tm
+ ___swift_destroy_boxed_opaque_existential_1
+ ___swift_memcpy40_8
+ _block_copy_helper.31
+ _block_descriptor.33
+ _block_destroy_helper.32
+ _dispatch_semaphore_create
+ _objc_msgSend$calculateAnchorDateWithTargetSlot:
+ _objc_msgSend$calculateAnchorDateWithTargetSlot:currentDate:
+ _objc_msgSend$calculateUserSlotWithDeviceID:siriSharedUserId:locale:
+ _objc_release_x9
+ _swift_task_create
+ _symbolic SDySSypG
+ _symbolic SS3key_yp5valuet
+ _symbolic SS_Sdt
+ _symbolic Sbz_Xx
+ _symbolic ScA_pSg
+ _symbolic ScPSg
+ _symbolic Sccy___________t______pG So28AFLocationAuthorizationStyleV So010CLAccuracyB0V s5ErrorP
+ _symbolic So14NSUserDefaultsCSg
+ _symbolic So17AFLocationServiceC
+ _symbolic So21OS_dispatch_semaphoreC
+ _symbolic _____ 10Foundation4UUIDV
+ _symbolic _____ 23CoreSpeechDataAnalytics027SiriSessionUserSamplingMetaC0C
+ _symbolic _____ 23CoreSpeechDataAnalytics11SiriSessionC
+ _symbolic _____ 23CoreSpeechDataAnalytics18EnrollmentMetadataC
+ _symbolic _____ 23CoreSpeechDataAnalytics18SessionRequestInfoV
+ _symbolic _____ 23CoreSpeechDataAnalytics20SamplingDependenciesV
+ _symbolic _____ 23CoreSpeechDataAnalytics20SamplingDependenciesV7BuilderC
+ _symbolic _____ 23CoreSpeechDataAnalytics25DeterministicUserSelectorC
+ _symbolic _____ 23CoreSpeechDataAnalytics26EnrollmentRecordsGeneratorC
+ _symbolic _____ 23CoreSpeechDataAnalytics30SpkrIdSamplingOneSessionPolicyC
+ _symbolic _____ 23CoreSpeechDataAnalytics35SpkrIdSamplingOneSessionActionEventC
+ _symbolic _____ 23CoreSpeechDataAnalytics37SpkrIdSamplingOneSessionSelectionRuleC
+ _symbolic _____ So23CLAccuracyAuthorizationV
+ _symbolic _____ So28AFLocationAuthorizationStyleV
+ _symbolic _____3key_Say_____G5valuet 10Foundation4UUIDV 23CoreSpeechDataAnalytics17SiriRequestRecordC
+ _symbolic _____3key_Say_____G5valuetSg 10Foundation4UUIDV 23CoreSpeechDataAnalytics17SiriRequestRecordC
+ _symbolic _____Sg 10Foundation8CalendarV
+ _symbolic _____Sg 10Foundation8TimeZoneV
+ _symbolic _____Sg 23CoreSpeechDataAnalytics018SamplingPolicyMetaC7ManagerC
+ _symbolic _____Sg 23CoreSpeechDataAnalytics11SiriSessionC
+ _symbolic _____Sg 23CoreSpeechDataAnalytics18EnrollmentMetadataC
+ _symbolic _____Sg 23CoreSpeechDataAnalytics23RequestAudioFileManagerC
+ _symbolic _____Sg 23CoreSpeechDataAnalytics25DeterministicUserSelectorC
+ _symbolic ______Say_____Gt 10Foundation4UUIDV 23CoreSpeechDataAnalytics17SiriRequestRecordC
+ _symbolic ____________pt 10Foundation4DateV s5ErrorP
+ _symbolic ______p 10Foundation15ContiguousBytesP
+ _symbolic ______pSg 10Foundation15ContiguousBytesP
+ _symbolic ______pXpSg 23CoreSpeechDataAnalytics13UtilsProtocolP
+ _symbolic _____ySSSdG s18_DictionaryStorageC
+ _symbolic _____ySS_yptG s23_ContiguousArrayStorageC
+ _symbolic _____y_____Say_____GG s18_DictionaryStorageC 10Foundation4UUIDV 23CoreSpeechDataAnalytics17SiriRequestRecordC
+ _symbolic _____y___________pG s18_DictionaryStorageC 10Foundation4DateV s5ErrorP
+ _symbolic ytIeAgHr_
+ _type_layout_string 23CoreSpeechDataAnalytics18SessionRequestInfoV
- __IVARS__TtC23CoreSpeechDataAnalytics20SpkrIdSamplingPolicy
CStrings:
+ "#BaseSiriRequestSamplingActionEvent: audioFileManager is nil"
+ "#BaseSiriRequestSamplingActionEvent: cannot get samplingUtils from dependencies"
+ "#BaseSiriRequestSamplingActionEvent: siriProfileManager is nil"
+ "#BaseSiriRequestSamplingPolicy: cannot get configUserDefaults from dependencies"
+ "#BaseSiriRequestSamplingPolicy: cannot get metadataManager from dependencies"
+ "#BaseSiriRequestSamplingPolicy: cannot get samplingUtils from dependencies"
+ "#BaseSiriRequestSamplingPolicy: cannot get siriProfileManager from dependencies"
+ "#BaseSiriRequestSamplingPolicy: failed to configure metadata and voice profile with error: %@"
+ "#BaseSiriRequestSamplingSelectionRule: audioFileManager is not defined in dependencies"
+ "#BaseSiriRequestSamplingSelectionRule: samplingPolicy is not defined"
+ "#BaseSiriRequestSamplingSelectionRule: samplingUtils is not defined"
+ "#CSDASpkrIdSamplingOneSessionPolicy: init failed: configUserDefaults is nil"
+ "#CSDASpkrIdSamplingOneSessionPolicy: init failed: metadataManager is nil"
+ "#CSDASpkrIdSamplingOneSessionPolicy: init failed: samplingUtils is nil"
+ "#CSDASpkrIdSamplingOneSessionPolicy: init failed: siriProfileManager is nil"
+ "#CollectionManager: daily processing failed for %ld days: %s"
+ "#CollectionManager: daily processing failed with error: %@ for date: %s"
+ "#CollectionManagerFactor: cannot get localDeviceId, do not update the dependencies"
+ "#DataAnalyticsController: Successfully loaded sampling info for %s"
+ "#DeterminisitcUserSelector: User is eligible to sample"
+ "#DeterministicUserSelector: Current date (%s) is beyond the collection window duration (%ld days). Not sampling user."
+ "#DeterministicUserSelector: Failed to calculate days between collection start date and current date. Not sampling user."
+ "#DeterministicUserSelector: Failed to calculate hash segment for sampling decision"
+ "#DeterministicUserSelector: Failed to calculate hash segment for user slot assignment"
+ "#DeterministicUserSelector: Failed to calculate user slot. Not sampling user."
+ "#DeterministicUserSelector: Requested hash segment %ld is out of bounds for SHA256 digest."
+ "#DeterministicUserSelector: Sampling decision for window %ld: %{bool}d"
+ "#DeterministicUserSelector: userSlot: %ld, currentSlot: %ld"
+ "#EnrollmentRecordsGenerator: audio sampling rate: %f is not 16kHz, skipping utterance sampling"
+ "#EnrollmentRecordsGenerator: cannot donate audio file: %s"
+ "#EnrollmentRecordsGenerator: cannot get audioUrl"
+ "#EnrollmentRecordsGenerator: enrolledDate or locale being nil for voiceProfile"
+ "#EnrollmentRecordsGenerator: enrollment Utterances from voice profile: %s is nil"
+ "#EnrollmentRecordsGenerator: error creating AVAudioFile: %@"
+ "#EnrollmentRecordsGenerator: generated donationIds: %s for profile: %s"
+ "#EnrollmentRecordsGenerator: voiceProfile being nil"
+ "#SamplingUtils: Location service authorization check timed out"
+ "#SamplingUtils: Location service is not authorized"
+ "#SamplingUtils: Unable to check location access authorization: %@"
+ "#SamplingUtils: failed to parse SpeakerIdOneSession anchor date string: %s"
+ "#SamplingUtils: get UserDefault SpeakerIdOneSession AnchorDate is %s"
+ "#SamplingUtils: get UserDefault SpeakerIdOneSession AnchorDate is nil for key: %s"
+ "#SpkrIdOneSessionActionEvent: Failed to store metadata: %@"
+ "#SpkrIdOneSessionActionEvent: No session from the date: %s is selected"
+ "#SpkrIdOneSessionActionEvent: No voiceProfileId UUID can be found"
+ "#SpkrIdOneSessionActionEvent: Selected session is not better than stored session"
+ "#SpkrIdOneSessionActionEvent: Successfully stored better session and enrollment metadata"
+ "#SpkrIdOneSessionActionEvent: cannot find enrollmentMetadata to generate enrollment metadata"
+ "#SpkrIdOneSessionActionEvent: cannot find storedSession to generate final manifest"
+ "#SpkrIdOneSessionActionEvent: deviceSamplingEnded failed with error: %@"
+ "#SpkrIdOneSessionActionEvent: enrollment metadata voiceProfileId does not match current voiceProfileId"
+ "#SpkrIdOneSessionActionEvent: generated odsample event for enrollment: %@"
+ "#SpkrIdOneSessionActionEvent: generating manifest event for upload"
+ "#SpkrIdOneSessionActionEvent: metadata retrieval failed: %@"
+ "#SpkrIdOneSessionActionEvent: voice profile or profileID not found"
+ "#SpkrIdRecordSelectionRule: location is (0.0, 0.0)"
+ "#SpkrIdRecordSelectionRule: request location is nil"
+ "#SpkrIdSamplingOneSessionPolicy: Opt-in is not enabled, shoud not sample device"
+ "#SpkrIdSamplingOneSessionPolicy: checkAndSelectDeviceForSampling: device is not selected for sampling"
+ "#SpkrIdSamplingOneSessionPolicy: current user selected for sampling"
+ "#SpkrIdSamplingOneSessionPolicy: device is still in sampling window"
+ "#SpkrIdSamplingOneSessionPolicy: failed to get device ID"
+ "#SpkrIdSamplingOneSessionPolicy: getting selectedSiriSession with error: %@"
+ "#SpkrIdSamplingOneSessionPolicy: initialized user selector with deviceId: %s %s"
+ "#SpkrIdSamplingOneSessionPolicy: location service is not enabled, should not sample device"
+ "#SpkrIdSamplingOneSessionPolicy: not selected for current window and no selected siri session found, device not selected for sampling"
+ "#SpkrIdSamplingOneSessionPolicy: not selected for current window but selected siri session found, should process"
+ "#SpkrIdSamplingOneSessionPolicy: rpi is not turned on, should not sample device"
+ "#SpkrIdSamplingOneSessionPolicy: userSelector is nil, device not selected"
+ "#SpkrIdSamplingOneSessionPolicy: voice profile Id does not match previous enrollment data, removing metadata"
+ "#SpkrIdSamplingOneSessionSelectionRule: No sessions generated from records for date"
+ "#SpkrIdSamplingOneSessionSelectionRule: metadata manager is not defined"
+ "#SpkrIdSamplingOneSessionSelectionRule: samplingUtils is not defined"
+ "#request is not valid, skipping"
+ "$__lazy_storage_$_supportMultiPhrase"
+ "@24@0:8q16"
+ "@32@0:8q16@24"
+ "@40@0:8@16@24@32"
+ "CoreSpeechDataAnalytics.DeterministicUserSelector"
+ "EnrollmentMetadataKey"
+ "SiriSessionSelected"
+ "_TtC23CoreSpeechDataAnalytics11SiriSession"
+ "_TtC23CoreSpeechDataAnalytics18EnrollmentMetadata"
+ "_TtC23CoreSpeechDataAnalytics25DeterministicUserSelector"
+ "_TtC23CoreSpeechDataAnalytics26EnrollmentRecordsGenerator"
+ "_TtC23CoreSpeechDataAnalytics30SpkrIdSamplingOneSessionPolicy"
+ "_TtC23CoreSpeechDataAnalytics31SiriSessionUserSamplingMetaData"
+ "_TtC23CoreSpeechDataAnalytics35SpkrIdSamplingOneSessionActionEvent"
+ "_TtC23CoreSpeechDataAnalytics37SpkrIdSamplingOneSessionSelectionRule"
+ "_TtCV23CoreSpeechDataAnalytics20SamplingDependencies7Builder"
+ "_cachedDeviceEligibility"
+ "anchorDate"
+ "calculateAnchorDateWithTargetSlot:"
+ "calculateAnchorDateWithTargetSlot:currentDate:"
+ "calculateUserSlotWithDeviceID:siriSharedUserId:locale:"
+ "clockSessionId"
+ "currentAuthorizationStyle:"
+ "data_sharing_opt_in_state"
+ "deviceID"
+ "enrollmentMetadata"
+ "initWithInteger:"
+ "integerValue"
+ "latitude"
+ "longLivedIdentifierUploadingEnabled"
+ "longitude"
+ "metadataManager"
+ "requestFactory"
+ "requestInfo"
+ "samplingPercentage"
+ "sessionClockId"
+ "sessionSelectionRule"
+ "siriSessionSelected"
+ "siriSharedUserId"
+ "speakerIdOneSession"
+ "speakerIdOneSession processing records"
+ "stored session: %s, selected session: %s"
+ "userOptIn"
+ "userSelector"
+ "v32@?0Q8q16@\"NSError\"24"
+ "with siriSharedUserId"
+ "without siriSharedUserId"
- "#BaseSiriRequestSamplingActionEvent: audio sampling rate: %f is not 16kHz, skipping utterance sampling"
- "#BaseSiriRequestSamplingActionEvent: cannot donate audio file: %s"
- "#BaseSiriRequestSamplingActionEvent: cannot get audioUrl"
- "#BaseSiriRequestSamplingActionEvent: enrolledDate or locale being nil for voiceProfile"
- "#BaseSiriRequestSamplingActionEvent: enrollment Utterances from voice profile: %s is nil"
- "#BaseSiriRequestSamplingActionEvent: error creating AVAudioFile: %@"
- "#BaseSiriRequestSamplingActionEvent: generated donationIds: %s for profile: %s"
- "#BaseSiriRequestSamplingActionEvent: voiceProfile being nil"
- "#BaseSiriRequestSamplingPolicy: setting VoiceProfile with error: %@"
- "#SamplingPolicyMetaDataManager: resetSampledVoiceProfileIds with error: %@"
- "#SamplingPolicyMetaDataManager: setAggregatedNumRecords with error: %@"
- "#SamplingPolicyMetaDataManager: setLegacyAggregatedEventCount with error: %@"
- "#SamplingPolicyMetaDataManager: setUploadedNumRecordsHS with error: %@"
- "#SamplingPolicyMetaDataManager: setUploadedNumRecordsJS with error: %@"
- "sessionId"
- "supportMultiPhrase"

```
