## SafariShared

> `/System/Library/PrivateFrameworks/SafariShared.framework/SafariShared`

```diff

-622.1.22.10.9
-  __TEXT.__text: 0x19f978
+622.2.5.10.3
+  __TEXT.__text: 0x1a051c
   __TEXT.__auth_stubs: 0x20a0
-  __TEXT.__objc_methlist: 0x1384c
-  __TEXT.__const: 0xa7d08
-  __TEXT.__gcc_except_tab: 0x1e5b8
-  __TEXT.__cstring: 0x1cdf0
+  __TEXT.__objc_methlist: 0x13864
+  __TEXT.__const: 0xa7bd8
+  __TEXT.__gcc_except_tab: 0x1e690
+  __TEXT.__cstring: 0x1ce00
   __TEXT.__ustring: 0xcbf8
-  __TEXT.__oslogstring: 0x110c2
+  __TEXT.__oslogstring: 0x11212
   __TEXT.__dlopen_cstrs: 0x25f
   __TEXT.__constg_swiftt: 0x134
   __TEXT.__swift5_typeref: 0xfc

   __TEXT.__swift5_assocty: 0x60
   __TEXT.__swift5_proto: 0x24
   __TEXT.__swift5_types: 0x18
-  __TEXT.__unwind_info: 0xb4e8
+  __TEXT.__unwind_info: 0xb538
   __TEXT.__objc_classname: 0x332f
-  __TEXT.__objc_methname: 0x391a8
-  __TEXT.__objc_methtype: 0xa360
-  __TEXT.__objc_stubs: 0x1f0e0
+  __TEXT.__objc_methname: 0x39249
+  __TEXT.__objc_methtype: 0xa396
+  __TEXT.__objc_stubs: 0x1f140
   __DATA_CONST.__got: 0x15e0
-  __DATA_CONST.__const: 0x150f0
+  __DATA_CONST.__const: 0x15120
   __DATA_CONST.__objc_classlist: 0xb80
   __DATA_CONST.__objc_catlist: 0x98
   __DATA_CONST.__objc_protolist: 0x270
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xad10
+  __DATA_CONST.__objc_selrefs: 0xad28
   __DATA_CONST.__objc_protorefs: 0x90
   __DATA_CONST.__objc_superrefs: 0x8f8
   __DATA_CONST.__objc_arraydata: 0xad0
   __AUTH_CONST.__auth_got: 0x1068
-  __AUTH_CONST.__const: 0x3460
-  __AUTH_CONST.__cfstring: 0x19360
+  __AUTH_CONST.__const: 0x3440
+  __AUTH_CONST.__cfstring: 0x19380
   __AUTH_CONST.__objc_const: 0x23300
   __AUTH_CONST.__objc_intobj: 0x738
   __AUTH_CONST.__objc_arrayobj: 0x330

   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 4F5FEE08-9B56-35A4-BCFF-AD37373B7A68
-  Functions: 9973
-  Symbols:   34431
-  CStrings:  17090
+  UUID: BABF26C9-EA40-31E1-920B-CBFB6BB76142
+  Functions: 9984
+  Symbols:   34466
+  CStrings:  17099
 
Symbols:
+ -[NSURL(SafariSharedExtras) safari_looksLikeAboutSrcdocURL]
+ -[WBSHistory historyStoreDidFailDatabaseIntegrityCheck:error:databaseURLs:]
+ -[WBSHistoryServiceStore _databaseURLs]
+ -[WBSSiriIntelligenceDonor removeAllCoreSpotlightTabDataDonatedBySafariForProfileWithIdentifier:]
+ _WBSAboutSrcdocString
+ ___101-[WBSSiriIntelligenceDonor removeAllCoreSpotlightHistoryDataDonatedBySafariForProfileWithIdentifier:]_block_invoke.241
+ ___101-[WBSSiriIntelligenceDonor removeAllCoreSpotlightHistoryDataDonatedBySafariForProfileWithIdentifier:]_block_invoke.241.cold.1
+ ___101-[WBSSiriIntelligenceDonor removeAllCoreSpotlightHistoryDataDonatedBySafariForProfileWithIdentifier:]_block_invoke.241.cold.2
+ ___28-[WBSHistoryController init]_block_invoke
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.40
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.40.cold.1
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.40.cold.2
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.41
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.46
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.46.cold.1
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.49.cold.1
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.52
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.54
+ ___32-[WBSHistoryServiceStore _load:]_block_invoke.56
+ ___46-[WBSHistoryServiceStore _scheduleMaintenance]_block_invoke.86
+ ___46-[WBSHistoryServiceStore _scheduleMaintenance]_block_invoke_2.88
+ ___46-[WBSHistoryServiceStore _scheduleMaintenance]_block_invoke_2.88.cold.1
+ ___52-[WBSHistoryServiceStore loadWithCompletionHandler:]_block_invoke.20
+ ___52-[WBSHistoryServiceStore loadWithCompletionHandler:]_block_invoke.22
+ ___52-[WBSHistoryServiceStore loadWithCompletionHandler:]_block_invoke.25
+ ___55+[WBSHistoryController existingSharedHistoryController]_block_invoke
+ ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.126
+ ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.126.cold.1
+ ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.127
+ ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.127.cold.1
+ ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.127.cold.2
+ ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.130
+ ___58-[WBSHistoryServiceStore _loadOnDatabaseQueue:readHandle:]_block_invoke.32
+ ___58-[WBSHistoryServiceStore _loadOnDatabaseQueue:readHandle:]_block_invoke.35
+ ___64-[WBSHistoryServiceStore _connectWithOptions:completionHandler:]_block_invoke.18
+ ___64-[WBSHistoryServiceStore _connectWithOptions:completionHandler:]_block_invoke.18.cold.1
+ ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.68
+ ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.68.cold.1
+ ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.70
+ ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.70.cold.1
+ ___88-[WBSBrowserTabCompletionProvider _matchesForQuery:tabInfos:selectedTabInfo:forQueryID:]_block_invoke_2
+ ___88-[WBSHistoryServiceStore clearHistoryVisitsAddedAfterDate:beforeDate:completionHandler:]_block_invoke.80
+ ___88-[WBSHistoryServiceStore clearHistoryVisitsAddedAfterDate:beforeDate:completionHandler:]_block_invoke.81
+ ___96-[WBSHistoryServiceStore _fetchHistoryItemsForTopics:fromStartDate:toEndDate:completionHandler:]_block_invoke.112
+ ___96-[WBSHistoryServiceStore _fetchHistoryItemsForTopics:fromStartDate:toEndDate:completionHandler:]_block_invoke_2.115
+ ___97-[WBSSiriIntelligenceDonor removeAllCoreSpotlightTabDataDonatedBySafariForProfileWithIdentifier:]_block_invoke
+ ___97-[WBSSiriIntelligenceDonor removeAllCoreSpotlightTabDataDonatedBySafariForProfileWithIdentifier:]_block_invoke.242
+ ___97-[WBSSiriIntelligenceDonor removeAllCoreSpotlightTabDataDonatedBySafariForProfileWithIdentifier:]_block_invoke.242.cold.1
+ ___97-[WBSSiriIntelligenceDonor removeAllCoreSpotlightTabDataDonatedBySafariForProfileWithIdentifier:]_block_invoke.242.cold.2
+ ___Block_byref_object_copy_.109
+ ___Block_byref_object_copy_.28
+ ___Block_byref_object_copy_.59
+ ___Block_byref_object_dispose_.110
+ ___Block_byref_object_dispose_.29
+ ___Block_byref_object_dispose_.60
+ ___block_descriptor_72_ea8_32s40s48s56r64r_e5_v8?0ls32l8s40l8s48l8r56l8r64l8
+ ___block_literal_global.100
+ ___block_literal_global.102
+ ___block_literal_global.107
+ ___block_literal_global.117
+ ___block_literal_global.364
+ ___block_literal_global.79
+ ___block_literal_global.90
+ ___block_literal_global.95
+ _objc_msgSend$_databaseURLs
+ _objc_msgSend$historyStoreDidFailDatabaseIntegrityCheck:error:databaseURLs:
+ _objc_msgSend$removeAllCoreSpotlightTabDataDonatedBySafariForProfileWithIdentifier:
+ _objc_msgSend$writeAheadLogSharedMemoryURLForDatabaseURL:
+ _sharedHistoryControllerLock
- -[NSURL(SafariSharedExtras) safari_isBlobURL]
- -[WBSHistory historyStoreDidFailDatabaseIntegrityCheck:]
- ___101-[WBSSiriIntelligenceDonor removeAllCoreSpotlightHistoryDataDonatedBySafariForProfileWithIdentifier:]_block_invoke_2
- ___101-[WBSSiriIntelligenceDonor removeAllCoreSpotlightHistoryDataDonatedBySafariForProfileWithIdentifier:]_block_invoke_2.cold.1
- ___101-[WBSSiriIntelligenceDonor removeAllCoreSpotlightHistoryDataDonatedBySafariForProfileWithIdentifier:]_block_invoke_2.cold.2
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.33
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.33.cold.1
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.33.cold.2
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.34
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.39
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.39.cold.1
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.42
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.42.cold.1
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.45
- ___32-[WBSHistoryServiceStore _load:]_block_invoke.47
- ___46-[WBSHistoryServiceStore _scheduleMaintenance]_block_invoke.80
- ___46-[WBSHistoryServiceStore _scheduleMaintenance]_block_invoke_2.82
- ___46-[WBSHistoryServiceStore _scheduleMaintenance]_block_invoke_2.82.cold.1
- ___52-[WBSHistoryServiceStore loadWithCompletionHandler:]_block_invoke.13
- ___52-[WBSHistoryServiceStore loadWithCompletionHandler:]_block_invoke.15
- ___52-[WBSHistoryServiceStore loadWithCompletionHandler:]_block_invoke.18
- ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.115
- ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.120
- ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.120.cold.1
- ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.121.cold.1
- ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.121.cold.2
- ___56-[WBSHistoryServiceStore handleEvent:completionHandler:]_block_invoke.124
- ___58-[WBSHistoryServiceStore _loadOnDatabaseQueue:readHandle:]_block_invoke.25
- ___58-[WBSHistoryServiceStore _loadOnDatabaseQueue:readHandle:]_block_invoke.28
- ___64-[WBSHistoryServiceStore _connectWithOptions:completionHandler:]_block_invoke.11
- ___64-[WBSHistoryServiceStore _connectWithOptions:completionHandler:]_block_invoke.11.cold.1
- ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.61
- ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.61.cold.1
- ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.63
- ___75-[WBSHistoryServiceStore removePastHistoryVisitsForItem:completionHandler:]_block_invoke.63.cold.1
- ___88-[WBSHistoryServiceStore clearHistoryVisitsAddedAfterDate:beforeDate:completionHandler:]_block_invoke.74
- ___88-[WBSHistoryServiceStore clearHistoryVisitsAddedAfterDate:beforeDate:completionHandler:]_block_invoke.75
- ___96-[WBSHistoryServiceStore _fetchHistoryItemsForTopics:fromStartDate:toEndDate:completionHandler:]_block_invoke.106
- ___96-[WBSHistoryServiceStore _fetchHistoryItemsForTopics:fromStartDate:toEndDate:completionHandler:]_block_invoke_2.109
- ___Block_byref_object_copy_.103
- ___Block_byref_object_copy_.21
- ___Block_byref_object_copy_.52
- ___Block_byref_object_dispose_.104
- ___Block_byref_object_dispose_.22
- ___Block_byref_object_dispose_.53
- ___block_literal_global.111
- ___block_literal_global.113
- ___block_literal_global.242
- ___block_literal_global.363
- ___block_literal_global.66
- ___block_literal_global.69
- ___block_literal_global.87
- ___block_literal_global.89
- ___block_literal_global.96
- _objc_msgSend$historyStoreDidFailDatabaseIntegrityCheck:
CStrings:
+ "/AppleInternal/Library/BuildRoots/4~B9sQugDrYRYIUxltpvHiW4xlfjmtiWgZ55b42dw/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.1.Internal.sdk/usr/local/include/wtf/HashTable.h"
+ "/AppleInternal/Library/BuildRoots/4~B9sQugDrYRYIUxltpvHiW4xlfjmtiWgZ55b42dw/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.1.Internal.sdk/usr/local/include/wtf/RefCounted.h"
+ "8622.2.5.10.3"
+ "Failed to remove CoreSpotlight history data under domain identifier %@ with error %{public}@"
+ "Failed to remove CoreSpotlight tab data under domain identifier %@ with error %{public}@"
+ "Removed CoreSpotlight history data under domain identifier %@"
+ "Removed CoreSpotlight tab data under domain identifier %@"
+ "Removing all CoreSpotlight history data under domain identifier %@ donated by Safari"
+ "Removing all CoreSpotlight tab data under domain identifier %@ donated by Safari"
+ "_databaseURLs"
+ "about:srcdoc"
+ "historyStoreDidFailDatabaseIntegrityCheck:error:databaseURLs:"
+ "removeAllCoreSpotlightTabDataDonatedBySafariForProfileWithIdentifier:"
+ "safari_looksLikeAboutSrcdocURL"
+ "srcdoc"
+ "v40@0:8@\"<WBSHistoryStore>\"16@\"NSError\"24@\"NSArray\"32"
+ "writeAheadLogSharedMemoryURLForDatabaseURL:"
- "/AppleInternal/Library/BuildRoots/4~B8YIugBhAc8s5wJclOP9VGVlVC2r-1d8vQ0_MEs/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/include/wtf/HashTable.h"
- "/AppleInternal/Library/BuildRoots/4~B8YIugBhAc8s5wJclOP9VGVlVC2r-1d8vQ0_MEs/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.Internal.sdk/usr/local/include/wtf/RefCounted.h"
- "8622.1.22.10.9"
- "Failed to remove CoreSpotlight data with error %{public}@"
- "Removed CoreSpotlight data"
- "Removing all CoreSpotlight data donated by Safari"
- "blob:"
- "historyStoreDidFailDatabaseIntegrityCheck:"
- "safari_isBlobURL"

```
