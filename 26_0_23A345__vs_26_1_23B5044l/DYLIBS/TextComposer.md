## TextComposer

> `/System/Library/PrivateFrameworks/TextComposer.framework/TextComposer`

```diff

-169.0.0.0.0
-  __TEXT.__text: 0x129f68
-  __TEXT.__auth_stubs: 0x2b20
-  __TEXT.__objc_methlist: 0x4728
-  __TEXT.__const: 0x61c8
-  __TEXT.__cstring: 0x1256f
+170.3.0.0.0
+  __TEXT.__text: 0x12829c
+  __TEXT.__auth_stubs: 0x2b30
+  __TEXT.__objc_methlist: 0x4740
+  __TEXT.__const: 0x62b8
+  __TEXT.__cstring: 0x1142f
   __TEXT.__gcc_except_tab: 0x1808
-  __TEXT.__ustring: 0x1e62
-  __TEXT.__oslogstring: 0x59c0
+  __TEXT.__ustring: 0x1e4a
+  __TEXT.__oslogstring: 0x56d2
   __TEXT.__dlopen_cstrs: 0x5c
-  __TEXT.__swift5_typeref: 0x1ca0
-  __TEXT.__swift5_reflstr: 0xd76
-  __TEXT.__swift5_assocty: 0x2e0
-  __TEXT.__constg_swiftt: 0x2a8c
-  __TEXT.__swift5_fieldmd: 0x1e24
-  __TEXT.__swift5_proto: 0x4d0
-  __TEXT.__swift5_types: 0x268
+  __TEXT.__constg_swiftt: 0x2a78
+  __TEXT.__swift5_typeref: 0x1ca4
+  __TEXT.__swift5_reflstr: 0xd5c
+  __TEXT.__swift5_fieldmd: 0x1e70
   __TEXT.__swift5_builtin: 0xc8
   __TEXT.__swift5_mpenum: 0x8
+  __TEXT.__swift5_types: 0x27c
+  __TEXT.__swift5_assocty: 0x2e0
+  __TEXT.__swift5_proto: 0x4dc
+  __TEXT.__swift_as_entry: 0x5ec
+  __TEXT.__swift_as_ret: 0x6d0
+  __TEXT.__swift5_capture: 0x9f4
   __TEXT.__swift5_protos: 0x18
-  __TEXT.__swift_as_entry: 0x5dc
-  __TEXT.__swift_as_ret: 0x6c4
-  __TEXT.__swift5_capture: 0xa50
-  __TEXT.__unwind_info: 0x4f30
-  __TEXT.__eh_frame: 0x9708
-  __TEXT.__objc_classname: 0xa10
-  __TEXT.__objc_methname: 0xeded
-  __TEXT.__objc_methtype: 0x1cff
-  __TEXT.__objc_stubs: 0x8da0
-  __DATA_CONST.__got: 0x9c0
-  __DATA_CONST.__const: 0x20e8
-  __DATA_CONST.__objc_classlist: 0x640
-  __DATA_CONST.__objc_protolist: 0x70
+  __TEXT.__unwind_info: 0x4ee0
+  __TEXT.__eh_frame: 0x95e8
+  __TEXT.__objc_classname: 0xa26
+  __TEXT.__objc_methname: 0xedff
+  __TEXT.__objc_methtype: 0x1e98
+  __TEXT.__objc_stubs: 0x8d80
+  __DATA_CONST.__got: 0x9a8
+  __DATA_CONST.__const: 0x2130
+  __DATA_CONST.__objc_classlist: 0x648
+  __DATA_CONST.__objc_protolist: 0x88
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_selrefs: 0x2a00
-  __DATA_CONST.__objc_protorefs: 0x28
+  __DATA_CONST.__objc_protorefs: 0x38
   __DATA_CONST.__objc_superrefs: 0x1f8
-  __DATA_CONST.__objc_arraydata: 0x1d50
-  __AUTH_CONST.__auth_got: 0x15a0
-  __AUTH_CONST.__const: 0x6ca8
-  __AUTH_CONST.__cfstring: 0xc380
-  __AUTH_CONST.__objc_const: 0xdc10
-  __AUTH_CONST.__objc_arrayobj: 0x648
-  __AUTH_CONST.__objc_dictobj: 0x5a0
+  __DATA_CONST.__objc_arraydata: 0x1d38
+  __AUTH_CONST.__auth_got: 0x15a8
+  __AUTH_CONST.__const: 0x6c40
+  __AUTH_CONST.__cfstring: 0xc3c0
+  __AUTH_CONST.__objc_const: 0xe070
   __AUTH_CONST.__objc_intobj: 0x4b0
+  __AUTH_CONST.__objc_arrayobj: 0x630
+  __AUTH_CONST.__objc_dictobj: 0x578
   __AUTH_CONST.__objc_doubleobj: 0x40
-  __AUTH.__objc_data: 0x3068
-  __AUTH.__data: 0x4980
-  __DATA.__objc_ivar: 0x458
-  __DATA.__data: 0xd68
-  __DATA.__bss: 0x6f40
-  __DATA.__common: 0xb0
+  __AUTH.__objc_data: 0x2f78
+  __AUTH.__data: 0x4ad0
+  __DATA.__objc_ivar: 0x45c
+  __DATA.__data: 0xe40
+  __DATA.__bss: 0x6fd0
+  __DATA.__common: 0xf8
   __DATA_DIRTY.__objc_data: 0x798
   __DATA_DIRTY.__data: 0x3f1
   __DATA_DIRTY.__bss: 0x918

   - /usr/lib/swift/libswiftAccelerate.dylib
   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
-  - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
   - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftNaturalLanguage.dylib

   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 9386BBB8-535A-3AB6-BD52-ED04E4734D82
-  Functions: 7042
-  Symbols:   720
-  CStrings:  5691
+  UUID: 3867ECA0-2C96-3ED7-99A7-F5F61D9CCD22
+  Functions: 7015
+  Symbols:   725
+  CStrings:  5688
 
Symbols:
+ _TCTextCompositionAssistantOptionKeyAdditionalContext
+ _TCTextCompositionAssistantOptionKeyQuestionsForUser
+ _TCTextCompositionAssistantOptionKeyUserProvidedAnswersToWritingToolQuestions
+ _TCTextCompositionAssistantOptionKeyWTProgressOutput
+ _TCTextCompositionAssistantOptionKeyWTWebSearchQueries
+ _dispatch_group_create
+ _dispatch_group_enter
+ _dispatch_group_leave
+ _dispatch_group_notify
- _OBJC_CLASS_$__TtC12TextComposer25TCUserProvidedPreferences
- _OBJC_METACLASS_$__TtC12TextComposer25TCUserProvidedPreferences
- __swift_FORCE_LOAD_$_swiftCoreImage
- _swift_unexpectedError
CStrings:
+ "8xbuonL1wdsGGnxtpMV62E4HL2g."
+ "@\"<TCModelRunnerProtocol>\""
+ "AhXPR3j9DePaV0qP3VVjPGHjBwE."
+ "B24@0:8@\"NSString\"16"
+ "CN"
+ "Completion"
+ "EnableWritingAssistantPrototypes"
+ "Fatal error"
+ "Generating smart actions."
+ "OpenEndedInteraction.session"
+ "Returning generated smart actions."
+ "Returning results/error from smart replies."
+ "TCEnableWritingAssistantPrototypes"
+ "TCModelRunnerProtocol"
+ "TextComposer/TCTextCompositionModelRunnerServer.swift"
+ "Unsupported model runner type "
+ "UserProvidedAnswersToWritingToolQuestions"
+ "WritingToolsCompletionAdditionalContext"
+ "WritingToolsProgress"
+ "WritingToolsQuestionsForUser"
+ "WritingToolsWebSearchQueries"
+ "_TtC12TextComposer44ServerOpenEndedInteractionGeneratorTemplated"
+ "_TtCC12TextComposer44ServerOpenEndedInteractionGeneratorTemplatedP33_EFDB2368724999A93E6206F449BAFE9911_ClientInfo"
+ "actionFollowUpOptions"
+ "com.apple.textComposition.OpenEndedInteraction"
+ "com.apple.textComposition.OpenEndedInteractionFollowUpClassification"
+ "com.apple.textComposition.OpenEndedInteractionSteering"
+ "com.apple.textComposition.OpenEndedInteractionStyleFollowUp"
+ "completions"
+ "da_DK"
+ "enableWritingAssistantPrototypes"
+ "initWithFollowUp:options:"
+ "initWithInput:rewrittenString:resultOptions:"
+ "initWithRunner:"
+ "isAvailableWith:"
+ "nb_NO"
+ "nl_BE"
+ "nl_NL"
+ "pt_PT"
+ "sv_SE"
+ "textComposition.OpenEndedInteraction"
+ "tr_TR"
+ "v116@0:8Q16@\"TCTextCompositionPrompt\"24q32B40q44q52q60q68@\"NSString\"76q84@\"NSArray\"92@\"NSString\"100@?<v@?@\"NSString\"@\"NSDictionary\"@\"NSError\">108"
+ "v40@?0Q8@\"TCSmartResponses\"16@\"NSDictionary\"24@\"NSError\"32"
+ "v56@0:8q16q24q32@\"NSString\"40q48"
+ "v72@0:8Q16@\"TCTextCompositionPrompt\"24q32q40@\"NSString\"48q56@?<v@?@\"TCSmartReplyUserQuestionnaire\"@\"NSDictionary\"@\"NSError\">64"
+ "vi_VN"
+ "writingAssistant"
+ "zh"
+ "zh_CN"
+ "zh_HK"
+ "zh_TW"
- "\n\nUSER FEEDBACK: "
- "\n\nUSER PREFERENCES:\n"
- "\n</conversation>\n\n\n<previous conversation>\n"
- "\n</previous conversation>\n\n\n<previous user preferences>\n"
- "\n</previous user preferences>"
- "\n}}\nORIGINAL TEXT:\n{{\n"
- "\n}}\nUSER PREFERENCES:\n{{\n"
- "\x13\x01"
- " \n\nINSTRUCTION: "
- " <EOT>\n\nUSER: Not good enough. "
- "# IMPROVED RESPONSE:"
- "## IMPROVED RESPONSE:"
- "### IMPROVED RESPONSE:"
- "**Improvements Made:**"
- "**Improvements:**"
- "**Reasoning behind improvements:**"
- "**Reasoning behind the improvement:**"
- "</user preferences>"
- "<user preferences>"
- "@\"_TtC12TextComposer25TCUserProvidedPreferences\""
- "Below is a conversation between a USER and an AI. Your task is to suggest a list of follow-ups the user might request to further modify the text. Example follow-ups could include: \"Make it shorter/longer\", \"Use original/easier/harder words\", \"Make it friendlier\", \"Make it more direct\",\"Use less sophisticated words\", \"Use more sophisticated words\", \"Make it more/less corporate\", \"Use a different format\", \"add nuances\", \"be creative\" etc. This example list is not exhaustive, and the follow-ups should be contextual to the current conversation. Each suggested follow-up should be one concise and unambiguous sentence, approximately six to eight words long and in the order of most likely follow-ups first.\n    In addition, a previous conversation between USER and AI and previous user preferences are also provided. You shall use it to formulate the updated user preferences.\n\nFormat:\n<reasoning> reasoning process here </reasoning>\n<user preferences> put what you think the user wants here</user preferences>\n<suggestions>\n1. [suggestion 1]\n2. [suggestion 2]\n...\n</suggestions>"
- "Develop a response based on given instruction, original text, and user preferences.\nFocus on the user preferences to generate the response. For each attribute in the user preferences if specified, devise a plan on how to improve the response.\n# Steps\n1. Review each aspect of the USER PREFERENCES to understand user expectations or relevant attributes.\n2. Formulate a PLAN that outlines strategies for tailoring the response to the user preferences.\n4. Develop a RESPONSE based on the formulated plan, ensuring all user preferences are addressed adequately. NOTE the instruction overrides the user preferences\n# Output Format\nPresent the output in the following structure:\n### PLAN:\n- [Attribute 1]: [Plan to address]\n- [Attribute 2]: [Plan to address]\n- ...\n### RESPONSE:\n- [response based on plan]\n# Notes\n- Aim for clarity and conciseness in both the plan and the response.\n- Utilize the user feedback specifically to enhance the perception of the completes quality and relevance to the user preferences."
- "Develop a response based on given instruction, original text, and user preferences.\nFocus on the user preferences to generate the response. For each attribute in the user preferences if specified, devise a plan on how to improve the response.\n# Steps\n1. Review each aspect of the USER PREFERENCES to understand user expectations or relevant attributes.\n2. Formulate a PLAN that outlines strategies for tailoring the response to the user preferences.\n4. Develop a RESPONSE based on the formulated plan, ensuring all user preferences are addressed adequately. NOTE the instruction overrides the user preferences\n# Output Format\nPresent the output in the following structure:\n### PLAN:\n- [Attribute 1]: [Plan to address]\n- [Attribute 2]: [Plan to address]\n- ...\n### RESPONSE:\n- [response based on plan]\n# Notes\n- Aim for clarity and conciseness in both the plan and the response.\n- Utilize the user feedback specifically to enhance the perception of the completes quality and relevance to the user preferences. \n\n"
- "Develop an improved response based on given instructions, original text, an unsatisfactory response, user feedback, and user preferences.\n\nFocus on the user feedback and user preferences to refine the response. For each attribute in the user preferences, devise a plan on how to improve the response.\n\n# Steps\n\n1. Analyze the USER FEEDBACK to identify key concerns or suggestions.\n2. Review each aspect of the USER PREFERENCES to understand user expectations or relevant attributes.\n3. Formulate a PLAN that outlines strategies for addressing feedback and tailoring the response to the user preferences. User feedback overrides user preferences.\n4. Develop an IMPROVED RESPONSE based on the formulated plan, ensuring all feedback is addressed adequately.\n\n# Output Format\n\nPresent the output in the following structure:\n\n### PLAN:\n- [Attribute 1]: [Plan to address]\n- [Attribute 2]: [Plan to address]\n- ...\n\n### IMPROVED RESPONSE:\n- [Updated response based on plan]\n\n# Notes\n\n- Ensure the reasoning behind each improvement precedes the final response.\n- Aim for clarity and conciseness in both the plan and the improved response.\n- Utilize the user feedback specifically to enhance the perception of the response’s quality and relevance to the user preferences. \n\n"
- "Generating regular smart actions."
- "HK"
- "INSTRUCTION:\n{{\n"
- "INSTRUCTION: \n\nORIGINAL TEXT: "
- "MO"
- "TCUseFollowUpForWritingTools"
- "TW"
- "TextComposer/TCUserProvidedPreferences.swift"
- "UseFollowUpForWritingTools"
- "[TCTextCompositionAssistant Followup] : followup requested with %s"
- "[TCTextCompositionAssistant Followup] : initial request : default professional rewrite invoked"
- "[TCTextCompositionAssistant Followup] : initial request : professional rewrite invoked with prior profile but no followup"
- "[TCTextCompositionAssistant Followup] : model produced response"
- "[TCTextCompositionAssistant Followup] : no Followup but non -empty profile prompt executed for generating response WITHOUT followup\n"
- "[TCTextCompositionAssistant Followup] : profile update request invoked"
- "[TCTextCompositionAssistant Followup] : prompt executed for generating response with followup\n"
- "[TCTextCompositionAssistant Followup] : prompt executed for profiled update and generating followup"
- "\\u00bf"
- "\\u00e1"
- "\\u00e9"
- "\\u00ed"
- "\\u00f3"
- "\\u00fa"
- "\\u0113"
- "^\\d+\\.\\s*|[[:punct:]]+$"
- "_TtC12TextComposer25TCUserProvidedPreferences"
- "com.apple.TextComposer.ProactiveGeneration"
- "escapedPatternForString:"
- "modelType"
- "proactiveGenerationQueue"
- "profile"
- "replaceSpecialCharacters:"
- "rule_based_followups"
- "setWithObjects:"
- "useFollowUpForWritingTools"
- "v36@?0i8@\"TCSmartResponses\"12@\"NSDictionary\"20@\"NSError\"28"
- "\xe1"
- "\xe9"
- "\xed"
- "\xf3"
- "\xfa"

```
