## IFFlowPlugin

> `/System/Library/Assistant/FlowDelegatePlugins/IFFlowPlugin.bundle/IFFlowPlugin`

```diff

-3403.3.1.0.0
-  __TEXT.__text: 0x3c624
-  __TEXT.__auth_stubs: 0x2300
-  __TEXT.__const: 0xab8
-  __TEXT.__constg_swiftt: 0x2f8
-  __TEXT.__swift5_typeref: 0x852
-  __TEXT.__swift5_reflstr: 0x4a2
-  __TEXT.__swift5_fieldmd: 0x3a4
-  __TEXT.__cstring: 0x1054
-  __TEXT.__swift5_proto: 0x44
-  __TEXT.__swift5_types: 0x34
+3404.62.2.0.0
+  __TEXT.__text: 0x50478
+  __TEXT.__auth_stubs: 0x2a40
+  __TEXT.__objc_methlist: 0x158
+  __TEXT.__cstring: 0x15d6
+  __TEXT.__const: 0xf10
+  __TEXT.__constg_swiftt: 0x478
+  __TEXT.__swift5_typeref: 0xabc
+  __TEXT.__swift5_reflstr: 0x705
+  __TEXT.__swift5_fieldmd: 0x5c8
+  __TEXT.__swift5_proto: 0x64
+  __TEXT.__swift5_types: 0x54
   __TEXT.__objc_classname: 0x24
-  __TEXT.__objc_methname: 0x599
+  __TEXT.__objc_methname: 0x770
   __TEXT.__objc_methtype: 0x19e
-  __TEXT.__oslogstring: 0x1e77
-  __TEXT.__swift5_assocty: 0x70
+  __TEXT.__oslogstring: 0x31d2
+  __TEXT.__swift5_assocty: 0xb8
+  __TEXT.__swift_as_entry: 0xcc
+  __TEXT.__swift_as_ret: 0x104
   __TEXT.__swift5_protos: 0x4
-  __TEXT.__swift5_capture: 0xd8
-  __TEXT.__unwind_info: 0x7b0
-  __TEXT.__eh_frame: 0x11f0
-  __DATA_CONST.__auth_got: 0x1180
-  __DATA_CONST.__got: 0x870
-  __DATA_CONST.__auth_ptr: 0x5a8
-  __DATA_CONST.__const: 0x540
-  __DATA_CONST.__objc_classlist: 0x28
+  __TEXT.__swift5_capture: 0x178
+  __TEXT.__swift5_builtin: 0x14
+  __TEXT.__swift5_mpenum: 0x8
+  __TEXT.__unwind_info: 0x9b8
+  __TEXT.__eh_frame: 0x1ab0
+  __DATA_CONST.__auth_got: 0x1520
+  __DATA_CONST.__got: 0xb38
+  __DATA_CONST.__auth_ptr: 0x728
+  __DATA_CONST.__const: 0x900
+  __DATA_CONST.__objc_classlist: 0x38
   __DATA_CONST.__objc_protolist: 0x20
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0x10
-  __DATA.__objc_const: 0xdd0
-  __DATA.__objc_selrefs: 0x158
-  __DATA.__data: 0xbe8
-  __DATA.__bss: 0x840
-  __DATA.__common: 0x28
+  __DATA.__objc_const: 0xd70
+  __DATA.__objc_selrefs: 0x320
+  __DATA.__objc_data: 0x50
+  __DATA.__data: 0x1170
+  __DATA.__bss: 0xc70
+  __DATA.__common: 0x38
   - /System/Library/Frameworks/Foundation.framework/Foundation
+  - /System/Library/PrivateFrameworks/AssistantServices.framework/AssistantServices
   - /System/Library/PrivateFrameworks/BiomeLibrary.framework/BiomeLibrary
   - /System/Library/PrivateFrameworks/DialogEngine.framework/DialogEngine
   - /System/Library/PrivateFrameworks/FeatureFlags.framework/FeatureFlags

   - /System/Library/PrivateFrameworks/GenerativeAssistantEnablementFlow.framework/GenerativeAssistantEnablementFlow
   - /System/Library/PrivateFrameworks/GenerativeAssistantSettings.framework/GenerativeAssistantSettings
   - /System/Library/PrivateFrameworks/IntelligenceFlow.framework/IntelligenceFlow
+  - /System/Library/PrivateFrameworks/IntelligenceFlowShared.framework/IntelligenceFlowShared
+  - /System/Library/PrivateFrameworks/IntelligencePlatform.framework/IntelligencePlatform
   - /System/Library/PrivateFrameworks/InternalSwiftProtobuf.framework/InternalSwiftProtobuf
   - /System/Library/PrivateFrameworks/RequestDispatcherBridges.framework/RequestDispatcherBridges
   - /System/Library/PrivateFrameworks/SAObjects.framework/SAObjects
   - /System/Library/PrivateFrameworks/SiriAnalytics.framework/SiriAnalytics
   - /System/Library/PrivateFrameworks/SiriFlowEnvironment.framework/SiriFlowEnvironment
+  - /System/Library/PrivateFrameworks/SiriInformationSearch.framework/SiriInformationSearch
   - /System/Library/PrivateFrameworks/SiriInstrumentation.framework/SiriInstrumentation
   - /System/Library/PrivateFrameworks/SiriKitFlow.framework/SiriKitFlow
   - /System/Library/PrivateFrameworks/SiriMessageTypes.framework/SiriMessageTypes

   - /System/Library/PrivateFrameworks/SiriOntology.framework/SiriOntology
   - /System/Library/PrivateFrameworks/SiriReferenceResolutionDataModel.framework/SiriReferenceResolutionDataModel
   - /System/Library/PrivateFrameworks/SiriRequestDispatcher.framework/SiriRequestDispatcher
+  - /System/Library/PrivateFrameworks/SiriSuggestionsAPI.framework/SiriSuggestionsAPI
   - /System/Library/PrivateFrameworks/SiriUtilities.framework/SiriUtilities
+  - /System/Library/PrivateFrameworks/SiriXShimTools.framework/SiriXShimTools
   - /System/Library/PrivateFrameworks/SnippetKit.framework/SnippetKit
   - /System/Library/PrivateFrameworks/ToolKit.framework/ToolKit
   - /System/Library/PrivateFrameworks/UIKitCore.framework/UIKitCore

   - /usr/lib/libobjc.A.dylib
   - /usr/lib/swift/libswiftAVFoundation.dylib
   - /usr/lib/swift/libswiftAccelerate.dylib
+  - /usr/lib/swift/libswiftAppleArchive.dylib
   - /usr/lib/swift/libswiftCompression.dylib
   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreAudio.dylib

   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDataDetection.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
-  - /usr/lib/swift/libswiftFileProvider.dylib
   - /usr/lib/swift/libswiftIntents.dylib
   - /usr/lib/swift/libswiftMLCompute.dylib
   - /usr/lib/swift/libswiftMapKit.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 500
-  Symbols:   161
-  CStrings:  316
+  Functions: 667
+  Symbols:   189
+  CStrings:  429
 
Symbols:
+ _AFIsInternalInstall
+ _OBJC_CLASS_$_AFSpeechInterpretation
+ _OBJC_CLASS_$_AFSpeechPhrase
+ _OBJC_CLASS_$_AFSpeechToken
+ _OBJC_CLASS_$_NSBundle
+ _OBJC_CLASS_$_NSDateFormatter
+ _OBJC_CLASS_$_ORCHSchemaORCHIntelligenceFlowRequestContext
+ _OBJC_CLASS_$_ORCHSchemaORCHIntelligenceFlowRequestEnded
+ _OBJC_CLASS_$_ORCHSchemaORCHIntelligenceFlowRequestFailed
+ _OBJC_CLASS_$_ORCHSchemaORCHIntelligenceFlowRequestStarted
+ _OBJC_CLASS_$_SADialog
+ _OBJC_CLASS_$_SAUIAddDialogs
+ _OBJC_CLASS_$_SAUIPhotoPickerRequest
+ _OBJC_CLASS_$_SAUIShowRequestHandlingStatus
+ _SAUIFeedbackFormDomainSiriPQAValue
+ _SAUIShowRequestHandlingStatusExecutionInputSystemPLANNERValue
+ __swiftImmortalRefCount
+ __swift_FORCE_LOAD_$_swiftAppleArchive
+ _objc_retain_x26
+ _swift_allocateGenericValueMetadataWithLayoutString
+ _swift_dynamicCastObjCClass
+ _swift_enumFn_getEnumTag
+ _swift_generic_assignWithCopy
+ _swift_generic_assignWithTake
+ _swift_generic_destroy
+ _swift_generic_initWithCopy
+ _swift_generic_initWithTake
+ _swift_generic_initializeBufferWithCopyOfBuffer
+ _swift_getExistentialTypeMetadata
+ _swift_getTupleTypeMetadata2
+ _swift_getTupleTypeMetadata3
+ _swift_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_multiPayloadEnumGeneric_getEnumTag
+ _swift_task_create
+ _swift_updateClassMetadata2
+ _swift_willThrowTypedImpl
- ___stack_chk_fail
- ___stack_chk_guard
- __swift_FORCE_LOAD_$_swiftFileProvider
- _objc_retain_x23
- _swift_allocateGenericValueMetadata
- _swift_getTupleTypeLayout2
- _swift_getTupleTypeLayout3
- _swift_initEnumMetadataMultiPayload
- _swift_initStackObject
CStrings:
+ "\n*** Internal Only *** IFFlow errored out at "
+ "\n*** Internal Only *** This dialog is coming from the App Intent"
+ " during PromptForPhotoPicker"
+ " shouldPresent "
+ " statementID "
+ "%{public}s: next flow action is exit with value %s"
+ "Can't construct SAUIShowRequestHandlingStatus since execution request ID is Nil"
+ "Could not build IntelligenceFlowStatusUpdateMessage from StatusNotification. Missing fields?"
+ "Error generating SystemGaveOptionsDialogAct for disambiguation SDA: %s"
+ "Error occurred during PromptForPhotoPicker with error %@"
+ "Failed to create any systemDialogActs"
+ "IFClientActionRoutingFlow can't find shim tool for %s"
+ "IFClientActionRoutingFlow error publishing error response: %@"
+ "IFClientActionRoutingFlow redirecting %s shim tool request to %s"
+ "IFFLow pushing .promptForValue"
+ "IFFLow pushing needsValue for Image"
+ "IFFlow execution without IFFlowPlugin class is not allowed"
+ "IFFlow exiting as app launch is required to proceed"
+ "IFFlow exiting as system requirement not met"
+ "IFFlow prompt for image picker returning with answer. Returning to IF"
+ "IFFlow publishing parameterCandidatesNotFound error output for %s"
+ "IFFlow pushing parameter confirmation flow"
+ "IFFlow pushing parameter disambiguation flow"
+ "IFFlow pushing protected app approval flow"
+ "IFFlow pushing tool Disambiguation flow"
+ "IFFlow pushing unlock device prompt"
+ "IFFlow pushing value Disambiguation flow"
+ "IFFlow received actionWillExecute message and passing this to suggestions"
+ "IFFlow received appRequirement %s"
+ "IFFlow received permissionsRequirement %s"
+ "IFFlow received unsupported snippetStream outcomeType"
+ "IFFlow unable to donate to suggestions. error: %@"
+ "IFFlowError.actionError: IF completed with an action failure. Description: "
+ "IFFlowError.awaitingForMessageFailed: IF Session thew an error. Description: "
+ "IFFlowError.confirmationFailed: Confirmation flow produced an error. Description: "
+ "IFFlowError.disambiguationFailed: Disambiguation flow produced an error. Description: "
+ "IFFlowError.generic: "
+ "IFFlowError.messageSendFailed: Sending message to IF failed. Description: "
+ "IFFlowError.noMatchingTool: IF could not find matching tool and falling back to Siri X."
+ "IFFlowError.promptingFailed: Prompting flow produced an error. Description: "
+ "IFFlowError.publishOutputFailed: Publishing flow output failed. Description: "
+ "IFFlowError.sessionError: underlying IF session errored out. Description: "
+ "IFFlowError.sessionTerminated: IF session was terminated."
+ "IFFlowError.shimToolIsMissing: Shim tool identifier is not known. Identifier: "
+ "IFFlowError.unexpectedIFServerMessage: unable to respond to SessionClientMessage. Contents: "
+ "IFFlowError.unexpectedInput: Flow input is not suitable for IFFlow. Input type: "
+ "IFFlowError.unexpectedMetadata: unexpected Ajax metadata. Value: "
+ "IFFlowError.useViolation: IFFlow infrastructure error. Description: "
+ "IFFlowPlugin returning ClientActionRoutingFlow"
+ "IFFlowPlugin/IFOutputBuilder.swift"
+ "ImagePickerPromptStrategy intercepted user cancellation input. Cancelling"
+ "ImagePickerPromptStrategy parseValueResponse called with input: %s"
+ "ImagePickerPromptStrategy parseValueResponse direct invocation identifier does not match. Will return nil"
+ "ImagePickerPromptStrategy parseValueResponse input does not have user data. Will return nil"
+ "ImagePickerPromptStrategy parseValueResponse input is not direct invocation. Will return nil"
+ "ImagePickerPromptStrategy parseValueResponse input is valid. Returning asset identifier: %s"
+ "ImagePickerPromptStrategy parseValueResponse input returned empty 'assetEntityIdentifiers' field. Will return nil"
+ "ImagePickerPromptStrategy parseValueResponse input user data does not contain expected 'assetEntityIdentifiers' field. Will return nil"
+ "ImagePickerPromptStrategy received direct invocation input with idenfier %s. Will Handle input"
+ "ImagePickerPromptStrategy sending SAUIPhotoPickerRequest output"
+ "In %s - next flow action is promptForProtectedAppApproval"
+ "In %s - next flow action is promptForValue with prompt type: %s"
+ "In %s - next flow action is redirectToShim"
+ "In %s - next flow action is redirectToSiriX"
+ "Input parse is not of type nlrouter"
+ "Not sending the heartbeat because IntelligenceFlowStatusUpdateMessage can not be constructed"
+ "Not sending the heartbeat because conversationSessionID is nil"
+ "Parsed input parse to isPSC: %s"
+ "Posting SAUIShowRequestHandlingStatus message with execution source PLANNER"
+ "Posting StatusNotification: %@"
+ "Publishing heartbeat failed with error: %s"
+ "Received %s during PromptForPhotoPicker, returning actionCanceled to IF"
+ "RequestId not set, skipping StatusNotificationMessage posting."
+ "Session completed due to end of plan"
+ "Session completed with action failure: %{public}s"
+ "Session completed with error: %{public}s"
+ "Session completed with some output"
+ "Unable to contruct StatusNotification to update UI, maybe some fields are missing."
+ "Unexpected nil value for task"
+ "Unsupported message payload type %s."
+ "UsoGraphProtoWriter.toSwiftProtobuf threw error: %s"
+ "[IFFlowInstrumentationUtil] Apply redaction tag with sensitive state %s for requestId %s"
+ "[IFFlowInstrumentationUtil] Attempting to apply redaction tag for inferred toolId = %s which is a Montara use-case"
+ "[IFFlowInstrumentationUtil] Attempting to apply redaction tag for inferred toolId = %s which is a PQA use-case"
+ "[IFFlowInstrumentationUtil] Attempting to apply redaction tag for inferred toolId = %s which is an unknown use-case but tagging it with PQA to ensure redaction"
+ "[IFFlowInstrumentationUtil] Could not build schema event for %s"
+ "[IFFlowInstrumentationUtil] Could not build schema event for logIFRequestFailed"
+ "[IFFlowInstrumentationUtil] Could not build schema events for %s. This should never occur"
+ "[IFFlowInstrumentationUtil] Could not build wrapper or eventMetadata in %s"
+ "[IFFlowInstrumentationUtil] Could not build wrapper or eventMetadata when logging %s"
+ "[IFFlowInstrumentationUtil] Could not build wrapper or eventMetadata when logging logIFRequestFailed"
+ "[IFFlowInstrumentationUtil] Could not create schema events in %s. This should never occur"
+ "[IFFlowInstrumentationUtil] Could not find shim with id: %s"
+ "[IFFlowInstrumentationUtil] Finding shim with id: %s"
+ "[IFFlowInstrumentationUtil] Found schema failure reason %d for failure %s"
+ "[IFFlowInstrumentationUtil] Found schema shim action %d for shim id %s"
+ "[IFFlowInstrumentationUtil] Logging Request Ended in %s"
+ "[IFFlowInstrumentationUtil] Logging Request fall back to SiriX in %s"
+ "[IFFlowInstrumentationUtil] Logging Request redirected to shim in %s"
+ "[IFFlowInstrumentationUtil] Logging Request started in %s"
+ "[IFFlowInstrumentationUtil] Logging failure with unknown reason"
+ "[IFFlowInstrumentationUtil] The plannerTraceId is nil or not a valid UUID, stopping %s"
+ "[IFFlowInstrumentationUtil] The plannerTraceId nil, stopping %s"
+ "[IFFlowInstrumentationUtil] The requestId is not a valid UUID, stop %s"
+ "[IFFlowInstrumentationUtil] Unable to apply log redaction due to invalid requestId %s"
+ "[IFFlowInstrumentationUtil] Unable to logSubRequestTraceLink for subRequestId=%s and plannerTraceId=%s"
+ "[IFFlowInstrumentationUtil] could not build wrapper for %s because rootRequest is nil"
+ "[IFFlow] Attempted to log IntelligenceFlowQuerySent with rootRequestId: %s and currentRequestId: %s. This should not occur"
+ "_TtC12IFFlowPlugin25IFClientActionRoutingFlow"
+ "_TtC12IFFlowPlugin25ImagePickerPromptStrategy"
+ "appId statementId "
+ "assetIdentifiers"
+ "bundleForClass:"
+ "bundleIdentifier"
+ "clientActionParse"
+ "com.apple.mobileslideshow"
+ "com.apple.siri.ifflow.promptForImagePickerResponse"
+ "confidenceScore"
+ "content"
+ "criticalInfo"
+ "currentIFSessionId"
+ "currentIFSessionId is nil while we received SessionServerMessage. This is unexpected"
+ "dialogCategory"
+ "dialogs"
+ "endTime"
+ "errorGenerator"
+ "exitValue called before flow execution"
+ "interpretations"
+ "isInternalBuild"
+ "logIntelligenceFlowRequestEnded(plannerTraceId:requestId:rootRequestId:trpId:)"
+ "logIntelligenceFlowRequestFailure(plannerTraceId:requestId:rootRequestId:trpId:failure:isSiriXFallback:)"
+ "logIntelligenceFlowRequestRedirectedToShim(plannerTraceId:requestId:rootRequestId:trpId:clientAction:)"
+ "logIntelligenceFlowRequestStarted(plannerTraceId:requestId:rootRequestId:trpId:)"
+ "output actionFailure "
+ "performExit(with:)"
+ "photo"
+ "photoPickerPromptValue"
+ "phrases"
+ "policy statementId "
+ "promptOutput itemCount statementID "
+ "promptOutput statementID isGenAIMediaQnA "
+ "recognition"
+ "setCalendar:"
+ "setContent:"
+ "setDateFormat:"
+ "setDialogs:"
+ "setDirectInvocationBundleIdentifier:"
+ "setEnded:"
+ "setExecutionInputSystem:"
+ "setExists:"
+ "setIntelligenceFlowRequestContext:"
+ "setIsSiriXFallback:"
+ "setLocale:"
+ "setReason:"
+ "setSearchQuery:"
+ "setSelectionLimit:"
+ "setShimAction:"
+ "setStartedOrChanged:"
+ "setText:"
+ "silenceStartTime"
+ "sirirequestdispatcher"
+ "startTime"
+ "stringFromDate:"
+ "systemResponseAction(_:systemResponse:responseFactory:executionRequestId:currentRequest:userUtterance:deviceState:isInternalBuild:)"
+ "text"
+ "tokens"
+ "value statementID "
+ "yyyy-MM-dd HH:mm:ss.SSSSZZZZZ"
- "Apply redaction tag with sensitive state %s for requestId %s"
- "Attempting to apply redaction tag for inferred toolId = %s which is a Montara use-case"
- "Attempting to apply redaction tag for inferred toolId = %s which is a PQA use-case"
- "Can't construct Array with count < 0"
- "Could not build schema event for %s"
- "Could not build schema event for logIFRequestFailed"
- "Could not build wrapper for %s because rootRequest is nil"
- "Could not build wrapper or eventMetadata when logging %s"
- "Could not build wrapper or eventMetadata when logging logIFRequestFailed"
- "Division by zero"
- "Division results in an overflow"
- "IFFlow pushing disambiguation flow"
- "IFFlowError.actionError: "
- "IFFlowError.noMatchingTool"
- "IFFlowError.sessionError: "
- "IFFlowError.sessionTerminated"
- "IFFlowError.unexpectedIFServerMessage: unable to respond to SessionClientMessage "
- "IFFlowError.unexpectedInput."
- "IFFlowError.unexpectedMetadata "
- "IFFlowError.useViolation: "
- "In %s - next flow action is exit"
- "In %s - next flow action is fallbackToSiriX"
- "In %s - next flow action is promptForValue"
- "Insufficient space allocated to copy string contents"
- "Not attempting to apply redaction tag for inferred toolId = %s"
- "Session completed with Output"
- "Session completed with actionError: %s"
- "Session completed with error"
- "Session completed without error and output. Exiting flow."
- "Swift/Array.swift"
- "Swift/ContiguousArrayBuffer.swift"
- "Swift/IntegerTypes.swift"
- "Swift/StringTesting.swift"
- "Swift/StringUTF8View.swift"
- "Swift/UnsafeBufferPointer.swift"
- "Swift/UnsafePointer.swift"
- "Swift/UnsafeRawBufferPointer.swift"
- "Swift/UnsafeRawPointer.swift"
- "The plannerTraceId is nil or not a valid UUID, stopping %s"
- "The plannerTraceId nil, stopping %s"
- "The requestId is nil, stopping %s"
- "The requestId is not a valid UUID, stop %s"
- "The requestId nil, stopping %s"
- "Unable to apply log redaction due to invalid requestId %s"
- "Unable to logSubRequestTraceLink for subRequestId=%s and plannerTraceId=%s"
- "Unexpectedly found nil while unwrapping an Optional value"
- "Unknown message payload type."
- "UnsafeMutableBufferPointer with negative count"
- "UnsafeMutablePointer.initialize overlapping range"
- "UnsafeMutablePointer.initialize with negative count"
- "UnsafeMutablePointer.moveInitialize with negative count"
- "UnsafeMutableRawBufferPointer.copyMemory source has too many elements"
- "UnsafeMutableRawPointer.initializeMemory overlapping range"
- "invalid Collection: less than 'count' elements in collection"
- "systemResponseAction(_:systemResponse:responseFactory:executionRequestId:currentRequest:userUtterance:deviceState:)"

```
