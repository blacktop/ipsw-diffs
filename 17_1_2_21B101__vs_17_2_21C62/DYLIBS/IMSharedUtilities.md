## IMSharedUtilities

> `/System/Library/PrivateFrameworks/IMSharedUtilities.framework/IMSharedUtilities`

```diff

-1261.200.71.2.16
-  __TEXT.__text: 0x10bf10
-  __TEXT.__auth_stubs: 0x2410
-  __TEXT.__objc_methlist: 0xc874
-  __TEXT.__const: 0x12f8
-  __TEXT.__cstring: 0x2163a
-  __TEXT.__gcc_except_tab: 0x797c
-  __TEXT.__oslogstring: 0x11077
+1262.300.81.2.13
+  __TEXT.__text: 0xf7a6c
+  __TEXT.__auth_stubs: 0x2400
+  __TEXT.__objc_methlist: 0xca04
+  __TEXT.__const: 0x1308
+  __TEXT.__cstring: 0x16f0a
+  __TEXT.__gcc_except_tab: 0x763c
+  __TEXT.__oslogstring: 0x1117a
   __TEXT.__dlopen_cstrs: 0x411
   __TEXT.__ustring: 0x406
   __TEXT.__constg_swiftt: 0x758

   __TEXT.__swift5_capture: 0x218
   __TEXT.__swift5_assocty: 0xf0
   __TEXT.__swift5_protos: 0xc
-  __TEXT.__unwind_info: 0x53bc
+  __TEXT.__unwind_info: 0x5474
   __TEXT.__eh_frame: 0x860
-  __TEXT.__objc_classname: 0x1fd9
-  __TEXT.__objc_methname: 0x26839
-  __TEXT.__objc_methtype: 0x610d
-  __TEXT.__objc_stubs: 0x13e60
+  __TEXT.__objc_classname: 0x201f
+  __TEXT.__objc_methname: 0x2738f
+  __TEXT.__objc_methtype: 0x6217
+  __TEXT.__objc_stubs: 0x14040
   __DATA_CONST.__got: 0x5c8
-  __DATA_CONST.__const: 0x40a8
+  __DATA_CONST.__const: 0x43f0
   __DATA_CONST.__objc_classlist: 0x7a0
   __DATA_CONST.__objc_catlist: 0xa0
-  __DATA_CONST.__objc_protolist: 0x310
+  __DATA_CONST.__objc_protolist: 0x330
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_const: 0x137b8
-  __DATA_CONST.__objc_selrefs: 0x7498
+  __DATA_CONST.__objc_const: 0x13ae0
+  __DATA_CONST.__objc_selrefs: 0x75f0
   __DATA_CONST.__objc_arraydata: 0x5f0
-  __AUTH_CONST.__cfstring: 0x1b900
+  __AUTH_CONST.__cfstring: 0x157c0
   __AUTH_CONST.__objc_const: 0x6218
-  __AUTH_CONST.__const: 0x3588
-  __AUTH_CONST.__objc_intobj: 0x4b0
+  __AUTH_CONST.__const: 0x3748
+  __AUTH_CONST.__objc_intobj: 0x4c8
   __AUTH_CONST.__objc_arrayobj: 0x480
   __AUTH_CONST.__objc_dictobj: 0x78
   __AUTH_CONST.__objc_doubleobj: 0x10
-  __AUTH_CONST.__auth_got: 0x1218
+  __AUTH_CONST.__auth_got: 0x1210
   __AUTH.__objc_data: 0x3360
   __AUTH.__data: 0x1a0
-  __DATA.__objc_protorefs: 0x148
-  __DATA.__objc_classrefs: 0x8d0
+  __DATA.__objc_protorefs: 0x158
+  __DATA.__objc_classrefs: 0x8e8
   __DATA.__objc_superrefs: 0x470
-  __DATA.__objc_ivar: 0xab8
-  __DATA.__data: 0x2340
-  __DATA.__bss: 0x1950
+  __DATA.__objc_ivar: 0xac0
+  __DATA.__data: 0x2550
+  __DATA.__bss: 0x1a30
   __DATA.__common: 0x20
   __DATA_DIRTY.__objc_data: 0x1ee0
-  __DATA_DIRTY.__data: 0x3d8
-  __DATA_DIRTY.__bss: 0xa60
+  __DATA_DIRTY.__data: 0x3e8
+  __DATA_DIRTY.__bss: 0xa50
   - /System/Library/Frameworks/AVFoundation.framework/AVFoundation
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CloudKit.framework/CloudKit

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 9D17D3C6-041D-3BB0-8F92-3D46B82BD8C0
-  Functions: 6164
-  Symbols:   2536
-  CStrings:  15489
+  UUID: BEAC96BD-33BB-348C-B961-FC7D9592FE87
+  Functions: 6240
+  Symbols:   2667
+  CStrings:  14135
 
Symbols:
+ _IMAccountInfoBuddyPropertiesKey
+ _IMAccountInfoCapabilitiesKey
+ _IMAccountInfoDefaultsKey
+ _IMAccountInfoGroupsKey
+ _IMAccountInfoIDKey
+ _IMAccountInfoServiceLoginStatusKey
+ _IMAccountInfoServiceLoginStatusMessageKey
+ _IMAccountInfoStatusKey
+ _IMBagDoubleValueWithDefault
+ _IMCalculateFileSizeForPath
+ _IMChatPropertyKeyTransparencyURIToUUIDMapping
+ _IMCloudKitACAccountRepairMigrationVersion
+ _IMCloudKitDefinesAttemptEnableMiCOnUnlock
+ _IMCloudKitDefinesDidUpgradeOrRestoreFromBackup
+ _IMCloudKitDefinesEnableMiCByDefaultBagKey
+ _IMCloudKitDefinesEnableMiCByDefaultOverrideKeyName
+ _IMCloudKitDefinesHasEnabledMiCByDefault
+ _IMCloudKitDefinesMaxRetriesForEnablingMiCBagKey
+ _IMCloudKitDefinesShouldRetryUnsupported
+ _IMCloudKitDefinesVerifyFirstRestoreDateVersion
+ _IMCloudKitFirstRestoreCompletionDate
+ _IMCloudKitHasAvailableRecordsToDownloadKey
+ _IMCloudKitLastDownloadProgressKey
+ _IMCloudKitStatisticsDictionaryKey
+ _IMCloudKitTelemetrySyncVersion
+ _IMDMessageRecordCloudKitStatisticAllSyncedCountKey
+ _IMDMessageRecordCloudKitStatisticDeletionsAttachmentCountKey
+ _IMDMessageRecordCloudKitStatisticDeletionsChatCountKey
+ _IMDMessageRecordCloudKitStatisticDeletionsMessageCountKey
+ _IMDMessageRecordCloudKitStatisticDeletionsRecoverableMessageCountKey
+ _IMDMessageRecordCloudKitStatisticMessageUpdateT1NeedingSyncCountKey
+ _IMDMessageRecordCloudKitStatisticMessageUpdateT2NeedingSyncCountKey
+ _IMDMessageRecordCloudKitStatisticServerCountsKey
+ _IMDMessageRecordCloudKitStatisticSyncStoreCountsKey
+ _IMDMessageRecordCloudKitStatisticSyncedAttachmentCountKey
+ _IMDMessageRecordCloudKitStatisticSyncedChatCountKey
+ _IMDMessageRecordCloudKitStatisticSyncedMessageCountKey
+ _IMDMessageRecordCloudKitStatisticSyncedRecoverableMessageCountKey
+ _IMDMessageRecordCloudKitStatisticTotalAttachmentCountKey
+ _IMDMessageRecordCloudKitStatisticTotalChatCountKey
+ _IMDMessageRecordCloudKitStatisticTotalCountKey
+ _IMDMessageRecordCloudKitStatisticTotalMessageCountKey
+ _IMDMessageRecordCloudKitStatisticTotalRecoverableMessageCountKey
+ _IMDMessageRecordCloudKitSyncingMessagesCountKey
+ _IMFileTransferAccountKey
+ _IMFileTransferAttributionInfoIsStickerReactionKey
+ _IMFileTransferAttributionInfoKey
+ _IMFileTransferAudioTranscriptionTextKey
+ _IMFileTransferAuxGUIDPrefix
+ _IMFileTransferAuxStateWasDowngradedKey
+ _IMFileTransferAuxTranscoderUserInfoKey
+ _IMFileTransferAverageRateKey
+ _IMFileTransferCloudKitSyncStateKey
+ _IMFileTransferCurrentBytesKey
+ _IMFileTransferErrorDescriptionKey
+ _IMFileTransferErrorReasonKey
+ _IMFileTransferFilenameKey
+ _IMFileTransferGUIDKey
+ _IMFileTransferHFSCreatorKey
+ _IMFileTransferHFSFlagsKey
+ _IMFileTransferHFSTypeKey
+ _IMFileTransferHideAttachmentKey
+ _IMFileTransferIsAuxImageKey
+ _IMFileTransferIsAuxVideoKey
+ _IMFileTransferIsCommSafetySensitiveKey
+ _IMFileTransferIsDirectoryKey
+ _IMFileTransferIsIncomingKey
+ _IMFileTransferIsScreenshotKey
+ _IMFileTransferIsStickerKey
+ _IMFileTransferLocalPathKey
+ _IMFileTransferLocalURLKey
+ _IMFileTransferLocalUserInfoKey
+ _IMFileTransferMIMETypeKey
+ _IMFileTransferMessageGUIDKey
+ _IMFileTransferOtherPersonKey
+ _IMFileTransferSandboxTokenKey
+ _IMFileTransferShouldAttemptToResumeKey
+ _IMFileTransferShouldForceArchive
+ _IMFileTransferStartDateKey
+ _IMFileTransferStateKey
+ _IMFileTransferStickerUserInfoKey
+ _IMFileTransferTemporaryHighQualityLocalURLKey
+ _IMFileTransferTotalBytesKey
+ _IMFileTransferTranscoderUserInfoKey
+ _IMFileTransferTransferDataURLKey
+ _IMFileTransferTransferredFilenameKey
+ _IMFileTransferUTITypeKey
+ _IMFileTransferUpdateReasonKey
+ _IMGetUserIgnoreFailureUpdateAppleIDIntent
+ _IMGetUserIgnoreFailureWaitingForCloudIntent
+ _IMGetUserRegistrationFailureIntent
+ _IMIsPlugInProxyAMessagesExtensionPoint
+ _IMIsRunningIniMessageAppExtension
+ _IMIsRunningIniMessageAppsViewService
+ _IMKeyTransparencyInfoSelfOptInStateKey
+ _IMMessageSummaryInfoStickerRepositioningKey
+ _IMMetricsCollectorDeleteMessagesCount
+ _IMMetricsCollectorDeleteMessagesSourceType
+ _IMMetricsCollectorEventDeleteMessages
+ _IMServiceInfoAccountInfoKey
+ _IMServiceInfoAccountsKey
+ _IMServiceInfoActiveAccountsKey
+ _IMServiceInfoDefaultAccountSettingsKey
+ _IMServiceInfoDefaultsKey
+ _IMServiceInfoInternalNameKey
+ _IMServiceInfoPropertiesKey
+ _IMSetUserIgnoreFailureUpdateAppleIDIntent
+ _IMSetUserIgnoreFailureWaitingForCloudIntent
+ _IMSetUserRegistrationFailureIntent
+ _IMSetupInfoAliasToCNIDMapKey
+ _IMSetupInfoBlackholedChatsExistKey
+ _IMSetupInfoChatsKey
+ _IMSetupInfoDBModificationStampKey
+ _IMSetupInfoFileTransfersKey
+ _IMSetupInfoFileTransfersStampKey
+ _IMSetupInfoFilteredIMessageChatsExistKey
+ _IMSetupInfoGroupPhotoFileTransfersKey
+ _IMSetupInfoKeyTransparencyInfoKey
+ _IMSetupInfoLastFailedMessageDateKey
+ _IMSetupInfoPersistentPropertiesKey
+ _IMSetupInfoPersonMergedChatsKey
+ _IMSetupInfoPropertiesKey
+ _IMSetupInfoServiceNamesKey
+ _IMSetupInfoServicesKey
+ _IMSetupInfoUnreadMessageCountKey
+ _IMSetupInfoVCCapabilitiesKey
+ _IMSharedHelperMD5DataHashOfFileAtPath
+ _IMSharedHelperMD5OfDataInBytes
+ _IMSharedHelperMd5ToString
+ _IMStickerUserInfoStickerIsReactionKey
+ _IMStickerUserInfoStickerPositionVersionKey
+ _IMStringFromIMFileTransferUpdateReason
+ _IMUserRegistrationFailureIntentChanged
+ _OBJC_CLASS_$_IDSURI
+ _OBJC_CLASS_$_LSPlugInKitProxy
- _IMPrintf
- _MarcoLogMadridLevel
- _MarcoShouldLogMadridLevel
- _snprintf
CStrings:
+ "+[IMIDSIDQueryController idInfoForDestinations:service:fromID:infoTypes:options:listenerID:queue:completionBlock:]"
+ "@\"<IMAnimatedImageProtocol>\"32@0:8@\"NSArray\"16@\"NSArray\"24"
+ "@72@0:8@16@24@32@40@48@56q64"
+ "@80@0:8@16@24@32@40@48@56q64@72"
+ "@80@0:8Q16d24d32d40d48d56Q64Q72"
+ "AgeOutFromJunk"
+ "AgeOutFromRecoverable"
+ "B24@0:8@\"NSURL\"16"
+ "B80@0:8@16@24@32Q40@48@56@64@?72"
+ "CNContactSensitiveContentConfigurationKey"
+ "Calculated file size value of %llu"
+ "Cannot find live photo bundle because guid is nil."
+ "CloudKitFirstRestoreCompletedDate"
+ "CloudKitHasAvailableRecordsToDownload"
+ "CloudKitLastDownloadProgress"
+ "CloudKitSyncStatistics"
+ "CloudKitTelemetrySyncVersion"
+ "CloudKitVerifyFirstRestoreDateVersion"
+ "Could not find live photo bundle from path alone, checking with the guid instead."
+ "DBModificationStamp"
+ "Delete Messages Metrics | Delete %@ messages from %@"
+ "Delete Messages Metrics | unknown type of keep messages days: %lld"
+ "EnableMiC2OnboardingUI"
+ "EnableMiCVersion2UI_iOS"
+ "EnableMiCVersion2UI_mac"
+ "EnableSaveToStickers"
+ "EnableSearchTokensForDates"
+ "EnableStickerRepositioning_iOS"
+ "EnableStickerRepositioning_macOS"
+ "EnableU18SensitiveSNaPPersistence"
+ "EnableWatchU18SensitiveSNaPPersistence"
+ "EnableallowMultiplePhoneNumbersSNaP"
+ "Failed getting purgeable flags for path: %@, (%d) %s"
+ "Failed to find live photo bundle for transfer"
+ "IMCalculateFileSizeForPath: calculated %@ to be %llu bytes"
+ "IMCloudKitACAccountRepairMigrationVersion"
+ "IMCloudKitSyncTypeTelemetry"
+ "IMDaemonListenerKeyTransparencyProtocol"
+ "IMDaemonListenerSetupProtocol"
+ "IMFileTransferUpdateReasonKey"
+ "IMLivePhotoHelper"
+ "IMLivePhotos"
+ "IMSharedFileUtilities"
+ "KTMessagesVerification"
+ "KTReportToApple"
+ "KeepMessagesExpired30Days"
+ "KeepMessagesExpired365Days"
+ "KeyTransparencyURIToUUIDMapping"
+ "Local Reposition"
+ "ManuallyDeleteFromRecoverable"
+ "OrphanedMessagesCleanUp"
+ "Received error when calculating file size %@"
+ "Second try: Trying to check existence of live photo bundle at path %@"
+ "T@\"NSData\",R,N,V_imageHash"
+ "T@\"NSData\",R,N,V_wallpaperImageHash"
+ "T@\"NSData\",R,N,V_wallpaperLowResImageHash"
+ "TB,R,N,GisAllowMultiplePhoneNumbersSNaPEnabled"
+ "TB,R,N,GisAllowU18SnapAssetsEnabled"
+ "TB,R,N,GisAllowU18SnapWatchAssetsEnabled"
+ "TB,R,N,GisKeyTransparencyEnabled"
+ "TB,R,N,GisKeyTransparencyReportToAppleEnabled"
+ "TB,R,N,GisMessagesIniCloudOnboardingUIEnabled"
+ "TB,R,N,GisSaveToStickersEnabled"
+ "TB,R,N,GisSearchTokensForDatesEnabled"
+ "TB,R,N,GisStickerRepositioningEnabled"
+ "TB,R,N,GisStickerRepositioningEnabled_iOS"
+ "TB,R,N,GisStickerRepositioningEnabled_macOS"
+ "TB,R,N,GisWaldoCPolishEnabled"
+ "Tq,N,SsetUpdateReason:,V_updateReason"
+ "Tq,N,V_fileTransferReloadStatus"
+ "Transparency"
+ "Unhandled New Case"
+ "UserIgnoreFailureSyncingIntent"
+ "UserIgnoreFailureWaitingIntent"
+ "UserRegistrationFailureIntent"
+ "[%@: %p  state: %@  sync state: %@  local path: %@  transferred name: %@  guid: %@  error: %d  total bytes: %d  created: %@ commSafety: %d update reason: %@]"
+ "__ck_defaultNumberFormatter"
+ "__im_livePhotoBundlePathWithGUID:"
+ "__im_livePhotoExtension"
+ "_fileTransferReloadStatus"
+ "_stringForDeleteMessagesType:"
+ "_updateReason"
+ "accountDefaults"
+ "accountInfo"
+ "accounts"
+ "activeAccounts"
+ "allSynced"
+ "allowMultiplePhoneNumbersSNaPEnabled"
+ "allowU18SnapAssets"
+ "allowU18SnapWatchAssets"
+ "blackholedChatsExist"
+ "buddyProperties"
+ "chats"
+ "com.apple.IMSharedUtilities.IMUserRegistrationFailureIntentChanged"
+ "com.apple.IMSharedUtilities.IMUserRegistrationFailureIntentChangedInternal"
+ "com.apple.Messages.IMMetricsCollectorEventDeleteMessages"
+ "count_messages"
+ "currentStorageOnDeviceWithReply:"
+ "defaultAccountSettings"
+ "deletedChats"
+ "deletedMessages"
+ "deletedRecoverableMessages"
+ "durations"
+ "fileTransferReloadStatus"
+ "fileTransfers"
+ "fileTransfers-groupPhoto"
+ "fileTransfers-stamp"
+ "filterediMessageChatsExist"
+ "forceAutoBugCaptureWithSubType:errorPayload:type:context:metadata:"
+ "forceMiCDefaultOn"
+ "frameForAnimationTime:"
+ "frames"
+ "groups"
+ "hadPriorPrefs"
+ "hasEnabledMiCByDefault"
+ "idInfoForDestinations:service:fromID:infoTypes:options:listenerID:queue:completionBlock:"
+ "idInfoForDestinations:service:preferredFromID:infoTypes:options:listenerID:queue:completionBlock:"
+ "initWithImages:durations:"
+ "initWithPrefixedURI:"
+ "initWithStickerID:stickerPackID:fileURL:accessibilityLabel:moodCategory:stickerName:effectType:"
+ "initWithStickerID:stickerPackID:fileURL:accessibilityLabel:moodCategory:stickerName:effectType:textToSpeechName:"
+ "internalName"
+ "isAllowMultiplePhoneNumbersSNaPEnabled"
+ "isAllowU18SnapAssetsEnabled"
+ "isAllowU18SnapWatchAssetsEnabled"
+ "isKeyTransparencyEnabled"
+ "isKeyTransparencyReportToAppleEnabled"
+ "isKeyTransparencyVerifiedMessage"
+ "isMessagesInICloudNewUIEnabled_iOS"
+ "isMessagesInICloudNewUIEnabled_mac"
+ "isMessagesIniCloudOnboardingUIEnabled"
+ "isOnLowBandwidthCellular"
+ "isSaveToStickersEnabled"
+ "isSearchTokensForDatesEnabled"
+ "isStickerRepositioningEnabled"
+ "isStickerRepositioningEnabled_iOS"
+ "isStickerRepositioningEnabled_macOS"
+ "isWaldoCPolishEnabled"
+ "kIMCNContactSensitiveContentConfigurationKey"
+ "keepMessagesSourceTypeForDays:"
+ "keyTransparencyEnabled"
+ "keyTransparencyOptInStateChanged:"
+ "keyTransparencyReportToAppleEnabled"
+ "ktInfo"
+ "lastFailedMessageDate"
+ "markAttachmentsAsDirtyV6"
+ "messagesIniCloudOnboardingUIEnabled"
+ "mic-default-on"
+ "mic-default-on-max-retries"
+ "mic2_onbd_ui"
+ "mic2_ui_mac"
+ "onUnlockEnableMiC"
+ "persistentProperties"
+ "personMergedChats"
+ "pluginKitProxyForIdentifier:"
+ "refreshStatusForKTPeerURI:"
+ "saveToStickersEnabled"
+ "save_to_stickers"
+ "searchTokensForDatesEnabled"
+ "selfOptInState"
+ "sendRepositionStickerMessage:chatIdentifier:accountID:style:"
+ "serverCounts"
+ "serviceDefaults"
+ "serviceLoginStatus"
+ "serviceLoginStatusMessage"
+ "serviceNames"
+ "serviceProperties"
+ "services"
+ "setFileTransferReloadStatus:"
+ "setIsKeyTransparencyVerifiedMessage:"
+ "setMaximumFractionDigits:"
+ "setMaximumSignificantDigits:"
+ "setMinimumFractionDigits:"
+ "setMinimumSignificantDigits:"
+ "setNeedsReloadForTransferStatusChangeWithType:"
+ "setRoundingIncrement:"
+ "setRoundingMode:"
+ "setUpdateReason:"
+ "shouldRetryUnsupported"
+ "signatureWithDomain:type:subType:subtypeContext:detectedProcess:triggerThresholdValues:"
+ "simulateCloudKitSyncWithSyncState:"
+ "sir"
+ "snap_u18_persistence"
+ "snap_watch_u18_persistence"
+ "spui"
+ "spv"
+ "srp"
+ "srpm"
+ "st_dt"
+ "stickerRepositioningEnabled"
+ "stickerRepositioningEnabled_iOS"
+ "stickerRepositioningEnabled_macOS"
+ "syncStoreCounts"
+ "syncedAttachments"
+ "syncedChats"
+ "syncedMessages"
+ "syncedRecoverableMessages"
+ "syncingMessagesCount"
+ "totalAttachments"
+ "totalChats"
+ "totalCount"
+ "totalMessages"
+ "totalRecoverableMessages"
+ "trackDeleteMessages:sourceType:"
+ "unreadMessageCount"
+ "updateReason"
+ "updateT1NeedingSync"
+ "updateT2NeedingSync"
+ "userInfoDictionaryWithLayoutIntent:parentPreviewWidth:xScalar:yScalar:scale:rotation:initialFrameIndex:stickerPositionVersion:"
+ "v24@0:8@?<v@?Q>16"
+ "v44@0:8@\"IMMessageItem\"16@\"NSString\"24@\"NSString\"32C40"
+ "v44@0:8@16@24@32C40"
+ "vcCapabilities"
+ "waldoCPolish"
+ "writeToASTCURL:"
+ "writeToCPBitmapURL:"
- "+[IMIDSIDQueryController idInfoForDestinations:service:infoTypes:options:listenerID:queue:completionBlock:]"
- "B72@0:8@16@24Q32@40@48@56@?64"
- "EnableMiCVersion2UI"
- "Failed getting purgeable flags for path: %@, (%d) %s\n"
- "T@\"NSString\",R,N,V_imageHash"
- "T@\"NSString\",R,N,V_wallpaperImageHash"
- "T@\"NSString\",R,N,V_wallpaperLowResImageHash"
- "[%@: %p  state: %@  sync state: %@  local path: %@  transferred name: %@  guid: %@  error: %d  total bytes: %d  created: %@ commSafety: %d]"
- "markAttachmentsAsDirtyV5"
- "signatureWithDomain:type:subType:detectedProcess:triggerThresholdValues:"

```
