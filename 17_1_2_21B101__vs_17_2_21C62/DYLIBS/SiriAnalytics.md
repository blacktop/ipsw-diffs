## SiriAnalytics

> `/System/Library/PrivateFrameworks/SiriAnalytics.framework/SiriAnalytics`

```diff

-3301.10.2.0.0
-  __TEXT.__text: 0xa140c
-  __TEXT.__auth_stubs: 0x1c60
-  __TEXT.__objc_methlist: 0x1aac
-  __TEXT.__const: 0x2618
-  __TEXT.__cstring: 0x6a81
-  __TEXT.__constg_swiftt: 0x1e98
-  __TEXT.__swift5_typeref: 0x1a27
-  __TEXT.__swift5_builtin: 0x104
-  __TEXT.__swift5_reflstr: 0x113a
-  __TEXT.__swift5_fieldmd: 0x16e4
-  __TEXT.__swift5_assocty: 0x2e8
-  __TEXT.__swift5_proto: 0x20c
-  __TEXT.__swift5_types: 0x208
-  __TEXT.__swift5_capture: 0x508
+3302.16.1.0.0
+  __TEXT.__text: 0xa6d24
+  __TEXT.__auth_stubs: 0x1d60
+  __TEXT.__objc_methlist: 0x1c5c
+  __TEXT.__const: 0x2898
+  __TEXT.__cstring: 0x72ae
+  __TEXT.__constg_swiftt: 0x2094
+  __TEXT.__swift5_typeref: 0x1b17
+  __TEXT.__swift5_builtin: 0x118
+  __TEXT.__swift5_reflstr: 0x124a
+  __TEXT.__swift5_fieldmd: 0x17f0
+  __TEXT.__swift5_assocty: 0x300
+  __TEXT.__swift5_proto: 0x21c
+  __TEXT.__swift5_types: 0x228
+  __TEXT.__swift5_capture: 0x510
   __TEXT.__swift5_protos: 0x40
   __TEXT.__swift5_mpenum: 0x38
-  __TEXT.__gcc_except_tab: 0x1f4
+  __TEXT.__gcc_except_tab: 0x228
   __TEXT.__oslogstring: 0x1052
-  __TEXT.__unwind_info: 0x35b0
-  __TEXT.__eh_frame: 0x1f68
+  __TEXT.__unwind_info: 0x2974
+  __TEXT.__eh_frame: 0x2108
   __TEXT.__objc_classname: 0x5c8
-  __TEXT.__objc_methname: 0x4524
-  __TEXT.__objc_methtype: 0x11b6
-  __TEXT.__objc_stubs: 0x3240
+  __TEXT.__objc_methname: 0x48de
+  __TEXT.__objc_methtype: 0x120c
+  __TEXT.__objc_stubs: 0x3300
   __DATA_CONST.__got: 0x2b8
-  __DATA_CONST.__const: 0xb40
-  __DATA_CONST.__objc_classlist: 0x258
+  __DATA_CONST.__const: 0xbc0
+  __DATA_CONST.__objc_classlist: 0x278
   __DATA_CONST.__objc_catlist: 0x20
-  __DATA_CONST.__objc_protolist: 0xc0
+  __DATA_CONST.__objc_protolist: 0xc8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_const: 0x49d0
-  __DATA_CONST.__objc_selrefs: 0x10c0
-  __AUTH_CONST.__const: 0x1c38
-  __AUTH_CONST.__objc_const: 0x0
+  __DATA_CONST.__objc_const: 0x4c40
+  __DATA_CONST.__objc_selrefs: 0x1198
+  __AUTH_CONST.__const: 0x1db0
+  __AUTH_CONST.__objc_const: 0x48
   __AUTH_CONST.__cfstring: 0xae0
-  __AUTH_CONST.__auth_got: 0xe40
-  __AUTH.__objc_data: 0x118
-  __AUTH.__data: 0x4c0
-  __DATA.__objc_protorefs: 0x48
-  __DATA.__objc_classrefs: 0x388
+  __AUTH_CONST.__auth_got: 0xec0
+  __AUTH.__data: 0x628
+  __AUTH.__objc_data: 0x3d0
+  __DATA.__objc_protorefs: 0x50
+  __DATA.__objc_classrefs: 0x3b0
   __DATA.__objc_superrefs: 0xe8
-  __DATA.__objc_ivar: 0x21c
-  __DATA.__data: 0xec0
-  __DATA.__bss: 0x1680
-  __DATA.__common: 0xc8
-  __DATA_DIRTY.__const: 0x1ce0
+  __DATA.__objc_ivar: 0x220
+  __DATA.__data: 0xfd0
+  __DATA.__bss: 0x1800
+  __DATA.__common: 0xd0
+  __DATA_DIRTY.__const: 0x1d20
   __DATA_DIRTY.__objc_const: 0xd60
-  __DATA_DIRTY.__objc_data: 0x21c0
+  __DATA_DIRTY.__objc_data: 0x21e0
   __DATA_DIRTY.__data: 0x2828
   __DATA_DIRTY.__common: 0x5c0
   __DATA_DIRTY.__bss: 0x148

   - /System/Library/Frameworks/Foundation.framework/Foundation
   - /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
   - /System/Library/PrivateFrameworks/AtomicsInternal.framework/AtomicsInternal
+  - /System/Library/PrivateFrameworks/BiomeLibrary.framework/BiomeLibrary
   - /System/Library/PrivateFrameworks/BiomeStorage.framework/BiomeStorage
   - /System/Library/PrivateFrameworks/BiomeStreams.framework/BiomeStreams
   - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics

   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
-  UUID: 0C0A3A12-23A8-302E-AF01-351F03048888
-  Functions: 4145
-  Symbols:   4875
-  CStrings:  1820
+  UUID: 1D39288E-3975-3FE6-A7AF-BBF05331D4B9
+  Functions: 4344
+  Symbols:   4997
+  CStrings:  1899
 
Symbols:
+ -[AssistantSiriAnalyticsService handler:vendResource:readonly:completion:]
+ -[SiriAnalyticsXPCConnection _vendResource:readonly:completion:]
+ -[SiriAnalyticsXPCConnection vendResource:readonly:completion:]
+ -[SiriAnalyticsXPCConnectionHandler vendResource:readonly:completion:]
+ GCC_except_table107
+ GCC_except_table137
+ GCC_except_table158
+ GCC_except_table165
+ GCC_except_table172
+ GCC_except_table178
+ GCC_except_table184
+ GCC_except_table190
+ GCC_except_table197
+ GCC_except_table204
+ GCC_except_table356
+ GCC_except_table401
+ GCC_except_table405
+ _BiomeLibrary
+ _OBJC_CLASS_$_BMSiriSELFProcessedEvent
+ _OBJC_CLASS_$_BMSiriSELFProcessedEventComponentIdentifier
+ _OBJC_CLASS_$_BMSiriSELFProcessedEventLogicalTimestamp
+ _OBJC_CLASS_$_SISchemaDeviceDynamicContext
+ _OBJC_CLASS_$_SiriAnalyticsRawUnifiedStream
+ _OBJC_CLASS_$__TtC13SiriAnalytics23BiomeSELFStreamProvider
+ _OBJC_CLASS_$__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ _OBJC_IVAR_$_AssistantSiriAnalyticsService._rawUnifiedStream
+ _OBJC_METACLASS_$_BMStoreStream
+ _OBJC_METACLASS_$_SiriAnalyticsRawUnifiedStream
+ _OBJC_METACLASS_$__TtC13SiriAnalytics16RawUnifiedStream
+ _OBJC_METACLASS_$__TtC13SiriAnalytics23BiomeSELFStreamProvider
+ _OBJC_METACLASS_$__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __DATA_SiriAnalyticsRawUnifiedStream
+ __DATA__TtC13SiriAnalytics16RawUnifiedStream
+ __DATA__TtC13SiriAnalytics23BiomeSELFStreamProvider
+ __DATA__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __IVARS_SiriAnalyticsRawUnifiedStream
+ __IVARS__TtC13SiriAnalytics16RawUnifiedStream
+ __IVARS__TtC13SiriAnalytics23BiomeSELFStreamProvider
+ __IVARS__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __METACLASS_DATA_SiriAnalyticsRawUnifiedStream
+ __METACLASS_DATA__TtC13SiriAnalytics16RawUnifiedStream
+ __METACLASS_DATA__TtC13SiriAnalytics23BiomeSELFStreamProvider
+ __METACLASS_DATA__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __OBJC_$_CLASS_METHODS__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __OBJC_$_INSTANCE_METHODS_SiriAnalyticsRawUnifiedStream
+ __OBJC_$_INSTANCE_METHODS__TtC13SiriAnalytics16RawUnifiedStream
+ __OBJC_$_INSTANCE_METHODS__TtC13SiriAnalytics23BiomeSELFStreamProvider
+ __OBJC_$_INSTANCE_METHODS__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __PROPERTIES__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __PROTOCOLS__TtC13SiriAnalytics23RawUnifiedStreamMessage
+ __PROTOCOLS__TtC13SiriAnalytics23RawUnifiedStreamMessage.2
+ ___41-[SiriAnalyticsXPCConnection _fetchTags:]_block_invoke.37
+ ___52-[SiriAnalyticsXPCConnection _createTag:completion:]_block_invoke.43
+ ___63-[SiriAnalyticsXPCConnection _setKillSwitchEnabled:completion:]_block_invoke.45
+ ___63-[SiriAnalyticsXPCConnection vendResource:readonly:completion:]_block_invoke
+ ___64-[SiriAnalyticsXPCConnection _fetchLogicalClocksWithCompletion:]_block_invoke.34
+ ___64-[SiriAnalyticsXPCConnection _vendResource:readonly:completion:]_block_invoke
+ ___64-[SiriAnalyticsXPCConnection _vendResource:readonly:completion:]_block_invoke.31
+ ___64-[SiriAnalyticsXPCConnection _vendResource:readonly:completion:]_block_invoke.32
+ ___64-[SiriAnalyticsXPCConnection _vendResource:readonly:completion:]_block_invoke_2
+ ___65-[SiriAnalyticsXPCConnection _fetchStateForPluginWithCompletion:]_block_invoke.39
+ ___65-[SiriAnalyticsXPCConnection _fetchStateForPluginWithCompletion:]_block_invoke.40
+ ___65-[SiriAnalyticsXPCConnection _saveState:forPluginWithCompletion:]_block_invoke.41
+ ___65-[SiriAnalyticsXPCConnection _saveState:forPluginWithCompletion:]_block_invoke.42
+ ___68-[SiriAnalyticsXPCConnection _fetchKillSwitchEnabledWithCompletion:]_block_invoke.44
+ ___70-[SiriAnalyticsXPCConnectionHandler vendResource:readonly:completion:]_block_invoke
+ ___74-[SiriAnalyticsXPCConnection _fetchSensitiveConditionSpansWithCompletion:]_block_invoke.36
+ ___block_descriptor_48_e8_32s40bs_e40_v32?0"NSString"8"NSURL"16"NSError"24ls32l8s40l8
+ ___block_descriptor_56_e8_32s40bs48w_e40_v32?0"NSString"8"NSURL"16"NSError"24ls32l8w48l8s40l8
+ ___block_descriptor_72_e8_32s40s48s56bs64w_e5_v8?0lw64l8s56l8s32l8s40l8s48l8
+ ___block_literal_global.1512
+ ___block_literal_global.1572
+ ___block_literal_global.405
+ ___block_literal_global.683
+ ___block_literal_global.770
+ ___block_literal_global.946
+ ___swift_memcpy40_8
+ ___unnamed_1
+ __objc_autoreleasePoolPop
+ __objc_autoreleasePoolPush
+ _associated conformance So20SISchemaAnyEventTypeVSHSCSQ
+ _block_descriptor.12
+ _objc_msgSend$_vendResource:readonly:completion:
+ _objc_msgSend$handler:vendResource:readonly:completion:
+ _objc_msgSend$sendWithAnyEvents:
+ _objc_msgSend$sendWithRuntimeEvents:
+ _objc_msgSend$vendResource:readonly:completion:
+ _objc_msgSend$vendedResourceUrlFor:error:
+ _swift_dynamicCastObjCClass
+ _swift_isEscapingClosureAtFileLocation
+ _symbolic SS______t 10Foundation3URLV
+ _symbolic Shy_____G So20SISchemaAnyEventTypeV
+ _symbolic So13BMStoreConfigC
+ _symbolic So13BMStoreStreamCy_____G 13SiriAnalytics23RawUnifiedStreamMessageC
+ _symbolic So8BMSourceCySo24BMSiriSELFProcessedEventCG
+ _symbolic So8BMSourceCy_____GSg 13SiriAnalytics23RawUnifiedStreamMessageC
+ _symbolic _____ 13SiriAnalytics16RawUnifiedStreamC
+ _symbolic _____ 13SiriAnalytics23BiomeSELFStreamProviderC
+ _symbolic _____ 13SiriAnalytics23RawUnifiedStreamAdapterC
+ _symbolic _____ 13SiriAnalytics23RawUnifiedStreamMessageC
+ _symbolic _____ 13SiriAnalytics23RawUnifiedStreamMessageC14UnderlyingTypeO
+ _symbolic _____ 13SiriAnalytics24PrivateBiomeStreamPrunerV
+ _symbolic _____ 13SiriAnalytics35RawUnifiedMessageStreamAccessDemandV
+ _symbolic _____ So20SISchemaAnyEventTypeV
+ _symbolic _____Sg 13SiriAnalytics16RawUnifiedStreamC
+ _symbolic _____y_____G s11_SetStorageC So20SISchemaAnyEventTypeV
+ _symbolic _____y_____G s23_ContiguousArrayStorageC So20SISchemaAnyEventTypeV
+ _symbolic _____y_____GSg 13SiriAnalytics24PrivateBiomeStreamPrunerV AA010RawUnifiedE7MessageC
- GCC_except_table106
- GCC_except_table136
- GCC_except_table157
- GCC_except_table164
- GCC_except_table171
- GCC_except_table177
- GCC_except_table183
- GCC_except_table189
- GCC_except_table196
- GCC_except_table340
- GCC_except_table393
- GCC_except_table397
- ___41-[SiriAnalyticsXPCConnection _fetchTags:]_block_invoke.34
- ___52-[SiriAnalyticsXPCConnection _createTag:completion:]_block_invoke.40
- ___63-[SiriAnalyticsXPCConnection _setKillSwitchEnabled:completion:]_block_invoke.42
- ___64-[SiriAnalyticsXPCConnection _fetchLogicalClocksWithCompletion:]_block_invoke.31
- ___65-[SiriAnalyticsXPCConnection _fetchStateForPluginWithCompletion:]_block_invoke.36
- ___65-[SiriAnalyticsXPCConnection _fetchStateForPluginWithCompletion:]_block_invoke.37
- ___65-[SiriAnalyticsXPCConnection _saveState:forPluginWithCompletion:]_block_invoke.38
- ___65-[SiriAnalyticsXPCConnection _saveState:forPluginWithCompletion:]_block_invoke.39
- ___68-[SiriAnalyticsXPCConnection _fetchKillSwitchEnabledWithCompletion:]_block_invoke.41
- ___74-[SiriAnalyticsXPCConnection _fetchSensitiveConditionSpansWithCompletion:]_block_invoke.33
- ___block_literal_global.1510
- ___block_literal_global.1570
- ___block_literal_global.392
- ___block_literal_global.674
- ___block_literal_global.762
- ___block_literal_global.938
CStrings:
+ "\x01\x1f\x01\x12"
+ " with max size: "
+ "$__lazy_storage_$_pruner"
+ "$__lazy_storage_$_source"
+ "-[AssistantSiriAnalyticsService handler:vendResource:readonly:completion:]"
+ "-[SiriAnalyticsXPCConnection _vendResource:readonly:completion:]"
+ "-[SiriAnalyticsXPCConnection _vendResource:readonly:completion:]_block_invoke"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Biome/PrivateBiomeStreamPruner.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Biome/RawUnifiedStream.swift"
+ "@\"SiriAnalyticsRawUnifiedStream\""
+ "@24@0:8q16"
+ "@32@0:8@16Q24"
+ "@32@0:8q16Q24"
+ "@32@0:8q16^@24"
+ "@40@0:8@16@24#32"
+ "@40@0:8q16Q24#32"
+ "Creating instance at "
+ "Failed to convert event to storage representation."
+ "SELFProcessedEvent"
+ "Siri"
+ "SiriAnalytics.RawUnifiedStream"
+ "SiriAnalytics.RawUnifiedStreamMessage"
+ "SiriAnalyticsRawUnifiedStream"
+ "Stream access vending is disabled. Internal is "
+ "TI,N,R"
+ "Unable to create datastore for pruning"
+ "Vv36@0:8q16B24@?<v@?@\"NSString\"@\"NSURL\"@\"NSError\">28"
+ "_TtC13SiriAnalytics16RawUnifiedStream"
+ "_TtC13SiriAnalytics23BiomeSELFStreamProvider"
+ "_TtC13SiriAnalytics23RawUnifiedStreamMessage"
+ "_rawUnifiedStream"
+ "_vendResource:readonly:completion:"
+ "biomeSource"
+ "com.apple.aiml.instrumentation.self.raw"
+ "deleteLocation"
+ "excludedAnyEventTypes"
+ "getComponentName"
+ "handler:vendResource:readonly:completion:"
+ "init(preMigrationPublicStream:)"
+ "init(privateStreamIdentifier:storeConfig:)"
+ "init(privateStreamIdentifier:storeConfig:eventDataClass:)"
+ "init(publicStream:)"
+ "init(publicStream:protectionClass:)"
+ "init(publicStream:protectionClass:eventDataClass:)"
+ "init(publicStream:storeConfig:)"
+ "init(restrictedStreamIdentifier:)"
+ "init(restrictedStreamIdentifier:protectionClass:)"
+ "init(restrictedStreamIdentifier:storeConfig:)"
+ "init(restrictedStreamIdentifier:storeConfig:eventDataClass:)"
+ "init(streamIdentifier:storeConfig:)"
+ "init(streamURL:dataProtectionClass:)"
+ "initWithLogicalTimestamp:clusterRepresentativeId:componentId:anyEventType:innerType:messageUuid:eventData:"
+ "initWithPreMigrationPublicStream:"
+ "initWithPrivateStreamIdentifier:storeConfig:eventDataClass:"
+ "initWithPublicStream:"
+ "initWithPublicStream:protectionClass:"
+ "initWithPublicStream:protectionClass:eventDataClass:"
+ "initWithPublicStream:storeConfig:"
+ "initWithRestrictedStreamIdentifier:"
+ "initWithRestrictedStreamIdentifier:protectionClass:"
+ "initWithRestrictedStreamIdentifier:storeConfig:"
+ "initWithRestrictedStreamIdentifier:storeConfig:eventDataClass:"
+ "initWithStreamIdentifier:storeConfig:"
+ "initWithTimestampInNanoseconds:clockIdentifier:"
+ "initWithUuid:componentName:"
+ "pruneStreamToMaxSegmentAge:"
+ "publicStream"
+ "rawUnifiedBiomeStream"
+ "send(runtimeEvents:)"
+ "sendWithAnyEvent:"
+ "sendWithAnyEvents:"
+ "sendWithRuntimeEvents:"
+ "storeConfig"
+ "stream.rawUnifiedMessageStream.readonly"
+ "v32@?0@\"NSString\"8@\"NSURL\"16@\"NSError\"24"
+ "vendResource:readonly:completion:"
+ "vendedResourceUrlFor:error:"
- "\x01\x1f\x01\x11"

```
