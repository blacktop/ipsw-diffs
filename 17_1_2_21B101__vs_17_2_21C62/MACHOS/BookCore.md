## BookCore

> `/private/var/staged_system_apps/Books.app/Frameworks/BookCore.framework/BookCore`

```diff

-5983.0.0.0.0
-  __TEXT.__text: 0x1fd494
-  __TEXT.__auth_stubs: 0x3fe0
-  __TEXT.__objc_stubs: 0x306e0
-  __TEXT.__objc_methlist: 0x1c70c
-  __TEXT.__cstring: 0x13ef7
-  __TEXT.__objc_classname: 0x42c0
-  __TEXT.__objc_methname: 0x48926
-  __TEXT.__objc_methtype: 0xb4ad
-  __TEXT.__const: 0x2744
-  __TEXT.__gcc_except_tab: 0x3294
-  __TEXT.__oslogstring: 0x8d56
+6023.0.0.0.0
+  __TEXT.__text: 0x1ffb28
+  __TEXT.__auth_stubs: 0x4070
+  __TEXT.__objc_stubs: 0x30780
+  __TEXT.__objc_methlist: 0x1c844
+  __TEXT.__cstring: 0x140b7
+  __TEXT.__objc_classname: 0x42e1
+  __TEXT.__objc_methname: 0x48b32
+  __TEXT.__objc_methtype: 0xb4e1
+  __TEXT.__const: 0x28c4
+  __TEXT.__gcc_except_tab: 0x32c8
+  __TEXT.__oslogstring: 0x9210
   __TEXT.__ustring: 0x48
-  __TEXT.__swift5_typeref: 0x12c2
-  __TEXT.__constg_swiftt: 0x1330
-  __TEXT.__swift5_builtin: 0xf0
-  __TEXT.__swift5_reflstr: 0xada
-  __TEXT.__swift5_fieldmd: 0xc90
-  __TEXT.__swift5_assocty: 0x120
-  __TEXT.__swift5_proto: 0xec
-  __TEXT.__swift5_types: 0xfc
+  __TEXT.__swift5_typeref: 0x136e
+  __TEXT.__constg_swiftt: 0x13fc
+  __TEXT.__swift5_builtin: 0x104
+  __TEXT.__swift5_reflstr: 0xafa
+  __TEXT.__swift5_fieldmd: 0xccc
+  __TEXT.__swift5_assocty: 0x138
+  __TEXT.__swift5_proto: 0xf8
+  __TEXT.__swift5_types: 0x108
   __TEXT.__swift5_capture: 0xb74
   __TEXT.__swift5_protos: 0x18
-  __TEXT.__unwind_info: 0x8940
+  __TEXT.__unwind_info: 0x8a10
   __TEXT.__eh_frame: 0xd90
-  __DATA_CONST.__auth_got: 0x2008
-  __DATA_CONST.__got: 0xbf8
-  __DATA_CONST.__auth_ptr: 0x90
-  __DATA_CONST.__const: 0xaca0
-  __DATA_CONST.__cfstring: 0x119a0
-  __DATA_CONST.__objc_classlist: 0xf18
+  __DATA_CONST.__auth_got: 0x2050
+  __DATA_CONST.__got: 0xc18
+  __DATA_CONST.__auth_ptr: 0x98
+  __DATA_CONST.__const: 0xad38
+  __DATA_CONST.__cfstring: 0x119c0
+  __DATA_CONST.__objc_classlist: 0xf30
   __DATA_CONST.__objc_catlist: 0x150
-  __DATA_CONST.__objc_protolist: 0x6e0
+  __DATA_CONST.__objc_protolist: 0x6e8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_intobj: 0x1380
+  __DATA_CONST.__objc_intobj: 0x1368
   __DATA_CONST.__objc_arraydata: 0x5278
   __DATA_CONST.__objc_arrayobj: 0xa8
   __DATA_CONST.__objc_dictobj: 0x3688
   __DATA_CONST.__objc_floatobj: 0x10
-  __DATA_CONST.__objc_doubleobj: 0xc0
-  __DATA.__objc_const: 0x3c298
-  __DATA.__objc_selrefs: 0x10520
-  __DATA.__objc_protorefs: 0x230
-  __DATA.__objc_classrefs: 0x1228
-  __DATA.__objc_superrefs: 0x938
-  __DATA.__objc_ivar: 0x1e6c
-  __DATA.__objc_data: 0xa3c0
-  __DATA.__data: 0x6d28
-  __DATA.__bss: 0x5db0
+  __DATA_CONST.__objc_doubleobj: 0xd0
+  __DATA.__objc_const: 0x3c638
+  __DATA.__objc_selrefs: 0x105a0
+  __DATA.__objc_protorefs: 0x238
+  __DATA.__objc_classrefs: 0x1230
+  __DATA.__objc_superrefs: 0x940
+  __DATA.__objc_ivar: 0x1e78
+  __DATA.__objc_data: 0xa4f8
+  __DATA.__data: 0x6ed8
+  __DATA.__bss: 0x5f40
   __DATA.__common: 0x28
   - /System/Library/Frameworks/AVFAudio.framework/AVFAudio
   - /System/Library/Frameworks/AVFoundation.framework/AVFoundation
-  - /System/Library/Frameworks/Accounts.framework/Accounts
-  - /System/Library/Frameworks/CFNetwork.framework/CFNetwork
   - /System/Library/Frameworks/ClassKit.framework/ClassKit
   - /System/Library/Frameworks/CloudKit.framework/CloudKit
+  - /System/Library/Frameworks/Combine.framework/Combine
   - /System/Library/Frameworks/CoreData.framework/CoreData
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics
   - /System/Library/Frameworks/CoreImage.framework/CoreImage
   - /System/Library/Frameworks/CoreMedia.framework/CoreMedia
   - /System/Library/Frameworks/CoreServices.framework/CoreServices
-  - /System/Library/Frameworks/CoreSpotlight.framework/CoreSpotlight
   - /System/Library/Frameworks/CoreText.framework/CoreText
   - /System/Library/Frameworks/Foundation.framework/Foundation
-  - /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
-  - /System/Library/Frameworks/IOSurface.framework/IOSurface
   - /System/Library/Frameworks/ImageIO.framework/ImageIO
   - /System/Library/Frameworks/JavaScriptCore.framework/JavaScriptCore
   - /System/Library/Frameworks/LinkPresentation.framework/LinkPresentation
   - /System/Library/Frameworks/MediaPlayer.framework/MediaPlayer
-  - /System/Library/Frameworks/MessageUI.framework/MessageUI
   - /System/Library/Frameworks/QuartzCore.framework/QuartzCore
   - /System/Library/Frameworks/QuickLookThumbnailing.framework/QuickLookThumbnailing
-  - /System/Library/Frameworks/Security.framework/Security
   - /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
   - /System/Library/Frameworks/UIKit.framework/UIKit
   - /System/Library/Frameworks/UniformTypeIdentifiers.framework/UniformTypeIdentifiers
   - /System/Library/PrivateFrameworks/AppAnalytics.framework/AppAnalytics
   - /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
-  - /System/Library/PrivateFrameworks/AppleAccount.framework/AppleAccount
   - /System/Library/PrivateFrameworks/AppleMediaServices.framework/AppleMediaServices
   - /System/Library/PrivateFrameworks/AppleMediaServicesUI.framework/AppleMediaServicesUI
   - /System/Library/PrivateFrameworks/BiomePubSub.framework/BiomePubSub

   - /System/Library/PrivateFrameworks/CloudDocs.framework/CloudDocs
   - /System/Library/PrivateFrameworks/Coherence.framework/Coherence
   - /System/Library/PrivateFrameworks/CoreBrightness.framework/CoreBrightness
-  - /System/Library/PrivateFrameworks/CoreDuet.framework/CoreDuet
   - /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices
   - /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration
   - /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer

   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreAudio.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
+  - /usr/lib/swift/libswiftCoreGraphics.dylib
   - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftCoreLocation.dylib
   - /usr/lib/swift/libswiftCoreMIDI.dylib

   - @rpath/BookAnalytics.framework/BookAnalytics
   - @rpath/JSApp.framework/JSApp
   - @rpath/TemplateUI.framework/TemplateUI
-  Functions: 14194
-  Symbols:   3461
-  CStrings:  17542
+  Functions: 14269
+  Symbols:   3468
+  CStrings:  17594
 
Symbols:
+ _BCTransactionLog
+ _BRCBooksDefaultsKeyBooksPersonalizationSections
+ _OBJC_CLASS_$_BCPPTConfig
+ _OBJC_CLASS_$_BCXPCUbiquityDisableServiceProxy
+ _OBJC_METACLASS_$_BCPPTConfig
+ _OBJC_METACLASS_$_BCXPCUbiquityDisableServiceProxy
+ _calloc
+ _kBCBookReadingTimesThresholdForSamplesPromotionIntoRecentBooksRN2
- ___assert_rtn
CStrings:
+ "\x02&\x11"
+ "-[BCBookReadingTimeTracker _mq_startBookPromotionTimerForSession:assetID:isSample:trackerEventType:readingFeatureFlags:]_block_invoke"
+ "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/AssetsEngine/AEServices/Sharing/Private/AEAnnotationActivityItemProviderSource.m"
+ "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/AssetsEngine/AEServices/Sharing/Private/AEAssetActivityItemProviderSource.m"
+ "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/CFI/BCCFI.m"
+ "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/Sharing/Annotations/Private/AEAssetHTMLGenerator.m"
+ "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/Sharing/Annotations/Private/AEUserPublishing.m"
+ "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/ViewControllers/Configuration/IMConfiguration.m"
+ "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/ViewControllers/Configuration/IMConfigurationPredicate.m"
+ "/var/mobile/Media/Books/"
+ "<%@: %p guid:%@ name:%@>"
+ "<BKSeriesManagerUpdater: %p> %@ updating %lu bookAdamIDs and %lu audiobookAdamIDs"
+ "<BKSeriesManagerUpdater: %p> AdamIDs of assets still missing series: [%@]."
+ "<BKSeriesManagerUpdater: %p> All series have been checked recently. We are done."
+ "@\"NSXPCConnection\""
+ "@28@0:8@16f24"
+ "BCCommonCore.Transaction"
+ "BCICloudIdentityToken: initWithCurrentIdentity: %{mask.hash}@"
+ "BCICloudIdentityToken: isGlobalICloudDriveSyncOptedIn=NO. Returning nil"
+ "BCICloudIdentityToken: isICloudDriveSyncOptedIn=NO. Returning nil"
+ "BCICloudIdentityToken: isUserSignedInToiCloud=NO. Returning nil"
+ "BCICloudIdentityToken: new token generated"
+ "BCICloudIdentityToken: nil token generated"
+ "BCPPTConfig"
+ "BCPPTConfigJS"
+ "BCSyncUserDefaults: Setting BCSyncCloudKitUserDefaults to %{BOOL}d"
+ "BCSyncUserDefaults: syncIsLiverpoolAndUbiquityEnabledWithReply - Encountered error, %{public}@"
+ "BCUbiquityStatusMonitor: old and new ubiquity tokens are both nil. This is unexpected"
+ "BCXPCUbiquityDisableServiceProxy"
+ "Created transaction id:%{public}@, name:%{public}@"
+ "Failed to get JSON string from path: %s -- %s"
+ "Finalize transaction id:%{public}@ name:%{public}@"
+ "Preparing to cancel activeTransaction id:%{public}@ name:%{public}@"
+ "Preparing to cancel pending transaction id:%{public}@ name:%{public}@"
+ "Q!!\x11\x12\x11C&"
+ "T@\"NSString\",&,N,V_guid"
+ "T@\"NSXPCConnection\",R,N,V_connection"
+ "T@\"OS_os_log\",N,R"
+ "Timeout waiting for completion id:%{public}@ name:%{public}@"
+ "TopPicksPPTCache.txt"
+ "Tq,N,R"
+ "Warning: cancelling transactions [%{public}@] due to conflict with id: %{public}@ name:%{public}@"
+ "_TtCE8BookCoreVSo15UIAccessibilityP33_8FB5C9243120A862394574D429A2D1C246AccessibilityNavigationServicesEnabledObserver"
+ "_connection"
+ "_guid"
+ "_hasNotifiedScrollViewChangeForCurrentContentSV"
+ "_mocqSessionID:sessionEvent:trackerEventType:asset:assetID:isTrackedAsRecent:canBePromoted:isSample:readingFeatureFlags:successCompletion:failureCompletion:"
+ "_mocq_runBookPromotionAlgorithmForAssetID:libraryAsset:isSample:successCompletion:failureCompletion:"
+ "_mq_startBookPromotionTimerForSession:assetID:isSample:trackerEventType:readingFeatureFlags:"
+ "_processTransaction transaction id:%{public}@ name:%{public}@"
+ "bc_formattedReadingProgress:isFinished:"
+ "bc_formattedReadingProgress:max:"
+ "booksExtendedLaunchTestType"
+ "cachedTopPickCardsJSONString"
+ "com.apple.iBooks.BooksProductPageExtension"
+ "commit/rollback transaction id:%{public}@ name:%{public}@"
+ "connection"
+ "currentlyInTest"
+ "extendedLaunchTestType"
+ "guid"
+ "hasExtendedLaunchTypeSet"
+ "isLiverpoolAndUbiquityEnabledWithReply:"
+ "isReturningUser"
+ "launchTestKey"
+ "os_log"
+ "personalization.booksPersonalizationSections"
+ "prewarmSharedResourcesWithCompletion:"
+ "removing active transaction id:%{public}@ name:%{public}@"
+ "setGuid:"
+ "shouldHaveContinueAndPreviousContent"
+ "shouldUseCachedTopPicksCards"
+ "supportsRestorationSnapshots:"
+ "syncIsLiverpoolAndUbiquityEnabledWithReply:"
+ "templateFromURL:"
+ "timeThresholdForSamplePromotion"
+ "usePPTLaunchContent"
+ "v24@0:8@?<v@?BB@\"NSError\">16"
+ "v36@?0@\"<BKLibraryAssetObject>\"8B16B20B24@\"NSError\"28"
+ "v52@0:8@16@24B32@?36@?44"
+ "v52@0:8@16@24B32Q36q44"
+ "v92@0:8@16q24Q32@40@48B56B60B64q68@?76@?84"
+ "whenCancelled transaction id:%{public}@ name:%{public}@"
+ "whenCompleted transaction id:%{public}@ name:%{public}@"
+ "\xa11A\x12A"
- "\x01&\x11"
- "-[BCBookReadingTimeTracker _mq_startBookPromotionTimerForSession:assetID:trackerEventType:readingFeatureFlags:]_block_invoke"
- "-[BCReadingStatisticsProtoBook writeTo:]"
- "-[BCReadingStatisticsProtoTOCEntry writeTo:]"
- "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/AssetsEngine/AEServices/Sharing/AEAnnotationActivityItemProviderSource.m"
- "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/AssetsEngine/AEServices/Sharing/AEAssetActivityItemProviderSource.m"
- "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/BCCFI.m"
- "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/Sharing/Annotations/AEAssetHTMLGenerator.m"
- "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/Sharing/Annotations/AEUserPublishing.m"
- "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/ViewControllers/IMConfiguration.m"
- "/Library/Caches/com.apple.xbs/Sources/Alder/frameworks/BookCore/BookCore/ViewControllers/IMConfigurationPredicate.m"
- "<%@: %p %@>"
- "<BKSeriesManagerUpdater: %p> %@ updateBookAdamIDs: [%@] \n audiobookAdamIDs: [%@]"
- "<BKSeriesManagerUpdater: %p> Processing %lu assets"
- "<BKSeriesManagerUpdater: %p> missingProfileAdamIDs:%@"
- "A!!\x11\x12\x11C&"
- "BCReadingStatisticsProtoBook.m"
- "BCReadingStatisticsProtoTOCEntry.m"
- "BKGenericBookCover.cpp"
- "CreateBackgroundGradientImage"
- "CreateBookCoverImage"
- "DrawBackgroundGradient"
- "Failed to establish XPC connection for getting iCloud settings: %@"
- "Warning: cancelling transactions [%@] due to conflict with %@"
- "_mocqSessionID:sessionEvent:trackerEventType:asset:assetID:isTrackedAsRecent:canBePromoted:readingFeatureFlags:successCompletion:failureCompletion:"
- "_mocq_runBookPromotionAlgorithmForAssetID:libraryAsset:successCompletion:failureCompletion:"
- "_mq_startBookPromotionTimerForSession:assetID:trackerEventType:readingFeatureFlags:"
- "_size.width > 0 && _size.height > 0"
- "bc_formattedReadingProgress:"
- "cachedTemplateFromURL:"
- "com.apple.iBooks.iBooksProductPageExtension"
- "isBookUTIType:"
- "isLiverpoolAndUbiquityEnabledwithReply:"
- "nil != self->_appVersion"
- "nil != self->_assetID"
- "nil != self->_href"
- "prewarmSharedResources"
- "unregisterAssetEnginePlugin:"
- "v16@?0B8B12"
- "v24@0:8@?<v@?BB>16"
- "v32@?0@\"<BKLibraryAssetObject>\"8B16B20@\"NSError\"24"
- "v48@0:8@16@24@?32@?40"
- "v48@0:8@16@24Q32q40"
- "v88@0:8@16q24Q32@40@48B56B60q64@?72@?80"
- "width > 0 && height > 0"
- "\x911A\x12A"

```
