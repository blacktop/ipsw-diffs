## appstored

> `/System/Library/PrivateFrameworks/AppStoreDaemon.framework/Support/appstored`

```diff

-10.1.6.0.0
-  __TEXT.__text: 0x351e10
-  __TEXT.__auth_stubs: 0x3190
-  __TEXT.__objc_stubs: 0x11fe0
-  __TEXT.__objc_methlist: 0xaa54
-  __TEXT.__cstring: 0x21b65
-  __TEXT.__const: 0x15fc8
-  __TEXT.__constg_swiftt: 0x168c
-  __TEXT.__swift5_typeref: 0x1592
-  __TEXT.__swift5_builtin: 0xdc
-  __TEXT.__swift5_reflstr: 0x13cd
-  __TEXT.__swift5_fieldmd: 0x1684
+10.2.8.0.0
+  __TEXT.__text: 0x35cc60
+  __TEXT.__auth_stubs: 0x32b0
+  __TEXT.__objc_stubs: 0x12060
+  __TEXT.__objc_methlist: 0xaae4
+  __TEXT.__cstring: 0x221f6
+  __TEXT.__const: 0x16058
+  __TEXT.__constg_swiftt: 0x172c
+  __TEXT.__swift5_typeref: 0x15c2
+  __TEXT.__swift5_builtin: 0xf0
+  __TEXT.__swift5_reflstr: 0x147d
+  __TEXT.__swift5_fieldmd: 0x177c
   __TEXT.__swift5_assocty: 0x378
   __TEXT.__swift5_proto: 0x284
-  __TEXT.__swift5_types: 0x168
-  __TEXT.__objc_classname: 0x42ed
-  __TEXT.__objc_methname: 0x19f6a
+  __TEXT.__swift5_types: 0x174
+  __TEXT.__objc_classname: 0x42f0
+  __TEXT.__objc_methname: 0x1a05c
   __TEXT.__objc_methtype: 0x75f6
-  __TEXT.__swift5_capture: 0xcf8
+  __TEXT.__swift5_capture: 0xd10
   __TEXT.__swift5_mpenum: 0x8
   __TEXT.__swift5_protos: 0x10
-  __TEXT.__gcc_except_tab: 0x6dd8
-  __TEXT.__oslogstring: 0x31ab3
+  __TEXT.__gcc_except_tab: 0x6e1c
+  __TEXT.__oslogstring: 0x31d32
   __TEXT.__dlopen_cstrs: 0x450
-  __TEXT.__unwind_info: 0x9980
-  __TEXT.__eh_frame: 0x3cb0
-  __DATA_CONST.__auth_got: 0x18d8
-  __DATA_CONST.__got: 0xb08
-  __DATA_CONST.__auth_ptr: 0x118
-  __DATA_CONST.__const: 0x1a9c8
-  __DATA_CONST.__cfstring: 0x1a380
-  __DATA_CONST.__objc_classlist: 0x1578
+  __TEXT.__unwind_info: 0x9af8
+  __TEXT.__eh_frame: 0x3d78
+  __DATA_CONST.__auth_got: 0x1968
+  __DATA_CONST.__got: 0xbc8
+  __DATA_CONST.__auth_ptr: 0x128
+  __DATA_CONST.__const: 0x1aa50
+  __DATA_CONST.__cfstring: 0x1a6a0
+  __DATA_CONST.__objc_classlist: 0x1588
   __DATA_CONST.__objc_catlist: 0x78
   __DATA_CONST.__objc_protolist: 0x4d8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_intobj: 0x1b30
-  __DATA_CONST.__objc_arraydata: 0x628
-  __DATA_CONST.__objc_arrayobj: 0x378
+  __DATA_CONST.__objc_intobj: 0x1cc8
+  __DATA_CONST.__objc_arraydata: 0x6a8
+  __DATA_CONST.__objc_arrayobj: 0x390
   __DATA_CONST.__objc_dictobj: 0x118
   __DATA_CONST.__objc_doubleobj: 0x40
-  __DATA.__objc_const: 0x39ab0
-  __DATA.__objc_selrefs: 0x58b0
+  __DATA.__objc_const: 0x39be0
+  __DATA.__objc_selrefs: 0x58f0
   __DATA.__objc_protorefs: 0x140
-  __DATA.__objc_classrefs: 0x1cd8
+  __DATA.__objc_classrefs: 0x1ce8
   __DATA.__objc_superrefs: 0xde0
-  __DATA.__objc_ivar: 0x24b0
-  __DATA.__objc_data: 0xea70
-  __DATA.__data: 0x6a60
+  __DATA.__objc_ivar: 0x24b8
+  __DATA.__objc_data: 0xec00
+  __DATA.__data: 0x6bf8
   __DATA.__bss: 0x5890
-  __DATA.__common: 0xb2c
+  __DATA.__common: 0xb34
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/BackgroundAssets.framework/BackgroundAssets
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork

   - /System/Library/Frameworks/UserNotifications.framework/UserNotifications
   - /System/Library/Frameworks/VideoSubscriberAccount.framework/VideoSubscriberAccount
   - /System/Library/PrivateFrameworks/AppConduit.framework/AppConduit
+  - /System/Library/PrivateFrameworks/AppInstallationMetrics.framework/AppInstallationMetrics
   - /System/Library/PrivateFrameworks/AppStoreDaemon.framework/AppStoreDaemon
   - /System/Library/PrivateFrameworks/AppStoreFoundation.framework/AppStoreFoundation
   - /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport

   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  Functions: 11055
-  Symbols:   1640
-  CStrings:  14302
+  Functions: 11119
+  Symbols:   1686
+  CStrings:  14363
 
Symbols:
+ _$s10Foundation14DateComponentsV8calendar8timeZone3era4year5month3day4hour6minute6second10nanosecond7weekday0O7Ordinal7quarter11weekOfMonth0rS4Year0h7ForWeeksU0AcA8CalendarVSg_AA04TimeF0VSgSiSgA13ZtcfC
+ _$s10Foundation21_BridgedStoredNSErrorPAAE8userInfoSDySSypGvg
+ _$s10Foundation4DateV18addingTimeIntervalyACSdF
+ _$s10Foundation6LocaleV10identifierACSS_tcfC
+ _$s10Foundation6LocaleV19_bridgeToObjectiveCSo8NSLocaleCyF
+ _$s10Foundation8CalendarV14MatchingPolicyO8nextTimeyA2EmFWC
+ _$s10Foundation8CalendarV14MatchingPolicyOMa
+ _$s10Foundation8CalendarV15SearchDirectionO7forwardyA2EmFWC
+ _$s10Foundation8CalendarV15SearchDirectionOMa
+ _$s10Foundation8CalendarV18RepeatedTimePolicyO4lastyA2EmFWC
+ _$s10Foundation8CalendarV18RepeatedTimePolicyO5firstyA2EmFWC
+ _$s10Foundation8CalendarV18RepeatedTimePolicyOMa
+ _$s10Foundation8CalendarV4date_17matchesComponentsSbAA4DateV_AA0fE0VtF
+ _$s10Foundation8CalendarV8nextDate5after8matching0F6Policy012repeatedTimeG09directionAA0D0VSgAK_AA0D10ComponentsVAC08MatchingG0OAC08RepeatediG0OAC15SearchDirectionOtF
+ _$s10Foundation8CalendarVMn
+ _$s22AppInstallationMetrics0A11InstallTypeO011userManagedD0yA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO013deviceManagedD0yA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO04betaD0yA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO10betaUpdateyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO10redownloadyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO11storeUpdateyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO12autoDownloadyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO13restoreUpdateyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO13tvProviderBuyyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO15updateAutomaticyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO16tvProviderUpdateyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO19deviceManagedUpdateyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO3buyyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO3uppyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO5queueyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO7clipBuyyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO7restoreyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeO9promotionyA2CmFWC
+ _$s22AppInstallationMetrics0A11InstallTypeOMa
+ _$s22AppInstallationMetrics0A11InstallTypeOMn
+ _$s22AppInstallationMetrics0A11InstallTypeOSYAAMc
+ _$s22AppInstallationMetrics0aB11EligibilityV9accountID10storefront8eligibleACs5Int64VSg_SSSbtcfC
+ _$s22AppInstallationMetrics0aB11EligibilityVMa
+ _$s22AppInstallationMetrics0aB5EventV8bundleID11eligibility015externalVersionF011installDate0J4Type6isBeta04itemF002osI08platform6source5token9webDomainACSS_AA0aB11EligibilityVs5Int64V10Foundation0K0VAA0a7InstallL0OSbASSgS4SSgAZtcfC
+ _$s22AppInstallationMetrics0aB5EventVMa
+ _$s22AppInstallationMetrics0aB5EventVMn
+ _$s22AppInstallationMetrics0abC6ClientC10addInstallyyAA0aB5EventVYaKFZ
+ _$s22AppInstallationMetrics0abC6ClientC10addInstallyyAA0aB5EventVYaKFZTu
+ _$s22AppInstallationMetrics0abC6ClientCMa
+ _$sBi8_WV
+ _$sSY8rawValue03RawB0QzvgTj
CStrings:
+ "\x01!"
+ "\a\x15\x12"
+ "/\x0f\x02\x16"
+ "09:59:08"
+ "3\x11\x11'#"
+ "@40@0:8q16q24d32"
+ "@56@0:8q16q24d32@40@?48"
+ "AlwaysSendAppInstallEvents"
+ "Arcade Account"
+ "B44@0:8@16C24@28@36"
+ "CREATE TABLE IF NOT EXISTS app_install (pid INTEGER, account_id INTEGER, apple_id TEXT, arcade INTEGER NOT NULL DEFAULT 0, alt_dsid TEXT, alternate_icon_name TEXT, approved INTEGER NOT NULL DEFAULT 0, artwork_url URL, auto_install_override INTEGER NOT NULL DEFAULT 0, automatic_type INTEGER NOT NULL DEFAULT 0, bundle_id TEXT, bundle_name TEXT, bundle_url URL, bundle_version TEXT, bootstrapped INTEGER NOT NULL DEFAULT 2, cancel_download_url URL, cancel_if_duplicate INTEGER NOT NULL DEFAULT 0, companion_bundle_id TEXT, client_id TEXT, client_type INTEGER NOT NULL DEFAULT 0, coordinator_id UUID, coordinator_intent INTEGER NOT NULL DEFAULT 1, device_based_vpp INTEGER, downloader_id INTEGER, download_path TEXT, external_id UUID, external_order INTEGER, evid INTEGER, failure_error BLOB, gizmo_pairing_id UUID, has_background_assets_extension INTEGER NOT NULL DEFAULT 0, has_messages_extension INTEGER NOT NULL DEFAULT 0, install_finished_timestamp DATETIME, install_verification_token TEXT, item_id INTEGER, last_start_date DATETIME, launch_prohibited INTEGER NOT NULL DEFAULT 0, log_code TEXT, messages_artwork_url URL, metrics_fields JSON, optimal_download_start INTEGER, metrics_install_type INTEGER NOT NULL DEFAULT 0, order_index INTEGER, phase INTEGER NOT NULL DEFAULT 10, policy JSON, placeholder_entitlements BLOB, placeholder_path TEXT, post_processing_state INTEGER NOT NULL DEFAULT 0, previous_galette_mode INTEGER, priority INTEGER NOT NULL DEFAULT 0, quarantine INTEGER NOT NULL DEFAULT 0, receipt BLOB, recovery_count INTEGER NOT NULL DEFAULT 0, redownload INTEGER NOT NULL DEFAULT 0, remote_install INTEGER NOT NULL DEFAULT 0, requires_rosetta INTEGER NOT NULL DEFAULT 0, restore_state INTEGER NOT NULL DEFAULT 0, restore_retry_count INTEGER NOT NULL DEFAULT 0, restore_type INTEGER NOT NULL DEFAULT 0, runs_on_apple_silicon INTEGER NOT NULL DEFAULT 1, runs_on_intel INTEGER NOT NULL DEFAULT 1,software_platform INTEGER NOT NULL DEFAULT 0, source_type INTEGER NOT NULL DEFAULT 0, storefront TEXT, store_cohort TEXT, store_metadata BLOB, supports_32bit_only INTEGER NOT NULL DEFAULT 0, supress_dialogs INTEGER NOT NULL DEFAULT 0, timestamp DATETIME DEFAULT (timestamp()), transaction_id TEXT, update_type INTEGER NOT NULL DEFAULT 0, vid UUID, vendor_name TEXT, watch_type INTEGER NOT NULL DEFAULT 0, PRIMARY KEY(pid));"
+ "EEE MMM dd HH:mm:ss z yyyy"
+ "EnableVPPThinning"
+ "Invalid URL for pid=%lld: "
+ "Nov 12 2023"
+ "Received HTTP %ld; deleting from queue"
+ "Received an optimal download window but we weren't able to create valid dates with the provided data: %ld:%ld %ld minutes at %s"
+ "Sending Account Event"
+ "Sending arcade account event"
+ "Sent arcade account event"
+ "T@\"_TtC9appstored17AppInstallMetrics\",N,R"
+ "[%@] Attempt to replace SINF resulted in error: %{public}@"
+ "[%@] Commerce response contained replacement key, attempting to update sinf"
+ "[%@] Existing app has matching evid, attempting to update sinf"
+ "[%@] Fetching receipt after sinf update"
+ "[%@] Purchasing complete with %ld item(s) in the response"
+ "[%@] Purchasing complete with 1 item in the response"
+ "[%@] Purchasing complete with no items in the response"
+ "[%@] Successfully replaced SINF for existing app"
+ "[%@] There are no subscription details for the active account"
+ "[%@] Unable to determine active account"
+ "[%@] Unable to find specified account using accountID: %{public}@"
+ "[%@] Using account specified in request: %{public}@"
+ "[%@]: Will not attempt sinf update for app because the existing app does not match the purchase response: %{public}@/%lld@ vs %{public}@/%{public}@"
+ "[%@]: Will not attempt sinf update for app because the purchase response did not provide sinf data"
+ "[%@]: Will not attempt sinf update for app because we did not receive the expected number of purchases in response: %lu@"
+ "[%{public}@/%@] Recorded app install for bundleID: [%{public}@] sourceType: %{public}@ installType: %ld token: %@ result: %{BOOL}d"
+ "[%{public}@] %{public}@ event: %{public}@"
+ "[%{public}@] Enqueuing %{public}@ event for account: %{public}@"
+ "[%{public}@] Posted %{public}@ event"
+ "[%{public}@] Promoting previously failed upgrade with bundleID: %{public}@"
+ "[%{public}@][%{public}s]] Sending app install event"
+ "[%{public}@][%{public}s]] Sent app install event"
+ "[%{public}@][%{public}s]] Skipping"
+ "[%{public}@][%{public}s]] Skipping app install event due to proxy lookup failure"
+ "[%{public}@][%{public}s]] Skipping app install event due to reporting being disabled in bag"
+ "[%{public}@][%{public}s]] Skipping because we could not determine the storefront"
+ "[%{public}@][%{public}s]] Skipping because we could not determine the storefront as a number"
+ "[%{public}@][%{public}s]] Skipping unsupported installType: %{public}s)"
+ "_TtC9appstored17AppInstallMetrics"
+ "_TtC9appstored22StoreItemResponseSwift"
+ "_installVerificationToken"
+ "_loadURLMetricsOverlay"
+ "allowed-anonymous-arcade-account-keys"
+ "app-installation-events-enabled"
+ "app-installation-targets"
+ "arcade-account-event-enabled"
+ "arcade-hardware-promo-scenario-ids"
+ "autoRenew"
+ "chargeStoreFrontID"
+ "chargeStoreFrontId"
+ "defaultStore"
+ "downloadLoadURLEventMetricsOverlayWithInstall:"
+ "endDate"
+ "expireDate"
+ "freeTrialPeriodId"
+ "hardwareBundlePromoScenarios"
+ "inAppAdamId"
+ "install-verification-token"
+ "install_verification_token"
+ "isGracePeriod"
+ "isOfferPeriod"
+ "nextOptimalDownloadWindowWithHour:minute:duration:"
+ "nextOptimalDownloadWindowWithHour:minute:duration:now:hourSpreadFactor:"
+ "offerIdentifier"
+ "recordInstallWithBundleID:appInstallType:token:logKey:"
+ "sourceApp"
+ "startDate"
+ "supportedStorefronts"
- "\a\x16\x12"
- "/\x0f\x01\x16"
- "21:44:01"
- "3\x11\x11&#"
- "ASDEnableVPPThinning"
- "CREATE TABLE IF NOT EXISTS app_install (pid INTEGER, account_id INTEGER, apple_id TEXT, arcade INTEGER NOT NULL DEFAULT 0, alt_dsid TEXT, alternate_icon_name TEXT, approved INTEGER NOT NULL DEFAULT 0, artwork_url URL, auto_install_override INTEGER NOT NULL DEFAULT 0, automatic_type INTEGER NOT NULL DEFAULT 0, bundle_id TEXT, bundle_name TEXT, bundle_url URL, bundle_version TEXT, bootstrapped INTEGER NOT NULL DEFAULT 2, cancel_download_url URL, cancel_if_duplicate INTEGER NOT NULL DEFAULT 0, companion_bundle_id TEXT, client_id TEXT, client_type INTEGER NOT NULL DEFAULT 0, coordinator_id UUID, coordinator_intent INTEGER NOT NULL DEFAULT 1, device_based_vpp INTEGER, downloader_id INTEGER, download_path TEXT, external_id UUID, external_order INTEGER, evid INTEGER, failure_error BLOB, gizmo_pairing_id UUID, has_background_assets_extension INTEGER NOT NULL DEFAULT 0, has_messages_extension INTEGER NOT NULL DEFAULT 0, install_finished_timestamp DATETIME, item_id INTEGER, last_start_date DATETIME, launch_prohibited INTEGER NOT NULL DEFAULT 0, log_code TEXT, messages_artwork_url URL, metrics_fields JSON, optimal_download_start INTEGER, metrics_install_type INTEGER NOT NULL DEFAULT 0, order_index INTEGER, phase INTEGER NOT NULL DEFAULT 10, policy JSON, placeholder_entitlements BLOB, placeholder_path TEXT, post_processing_state INTEGER NOT NULL DEFAULT 0, previous_galette_mode INTEGER, priority INTEGER NOT NULL DEFAULT 0, quarantine INTEGER NOT NULL DEFAULT 0, receipt BLOB, recovery_count INTEGER NOT NULL DEFAULT 0, redownload INTEGER NOT NULL DEFAULT 0, remote_install INTEGER NOT NULL DEFAULT 0, requires_rosetta INTEGER NOT NULL DEFAULT 0, restore_state INTEGER NOT NULL DEFAULT 0, restore_retry_count INTEGER NOT NULL DEFAULT 0, restore_type INTEGER NOT NULL DEFAULT 0, runs_on_apple_silicon INTEGER NOT NULL DEFAULT 1, runs_on_intel INTEGER NOT NULL DEFAULT 1,software_platform INTEGER NOT NULL DEFAULT 0, source_type INTEGER NOT NULL DEFAULT 0, storefront TEXT, store_cohort TEXT, store_metadata BLOB, supports_32bit_only INTEGER NOT NULL DEFAULT 0, supress_dialogs INTEGER NOT NULL DEFAULT 0, timestamp DATETIME DEFAULT (timestamp()), transaction_id TEXT, update_type INTEGER NOT NULL DEFAULT 0, vid UUID, vendor_name TEXT, watch_type INTEGER NOT NULL DEFAULT 0, PRIMARY KEY(pid));"
- "Oct  5 2023"
- "Received an optimal download window but we weren't able to create valid dates with the provided data: %{public}@ %ld"
- "[%@] Unable to find options account using accountID: %{public}@"
- "[%@] Using options account: %{public}@"
- "[DNU] App usage grace period bag interval: %{public}@"
- "[DNU] App usage spread period bag interval: %{public}@"
- "[DNU] Failed to find bag value for app post grace period. Error: %{public}@"
- "[DNU] Failed to find bag value for app post spread period. Error: %{public}@"
- "[DNU] Failed to find bag value for app usage flush interval. Error: %{public}@"
- "[DNU] Failed to find bag value for posts per day. Error: %{public}@"
- "[DNU] Failed to find bag value to reset clientUsageID interval error: %{public}@"
- "[DNU] Posts per day bag interval: %{public}@"
- "[DNU] Reset clientUsageID bag interval: %{public}@"
- "_logKeyCode"
- "dateByAddingUnit:value:toDate:options:"
- "dateBySettingHour:minute:second:ofDate:options:"

```
