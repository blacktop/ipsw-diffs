## storekitd

> `/System/Library/Frameworks/StoreKit.framework/Support/storekitd`

```diff

-813.1.7.0.0
-  __TEXT.__text: 0x1b72dc
-  __TEXT.__auth_stubs: 0x2d30
-  __TEXT.__objc_stubs: 0xdc60
-  __TEXT.__objc_methlist: 0x6d20
-  __TEXT.__const: 0x16f90
-  __TEXT.__cstring: 0xbb2d
-  __TEXT.__oslogstring: 0xd248
-  __TEXT.__objc_classname: 0x1241
-  __TEXT.__objc_methname: 0x122e4
-  __TEXT.__objc_methtype: 0x3459
-  __TEXT.__gcc_except_tab: 0x19c4
+813.2.8.0.0
+  __TEXT.__text: 0x1e7d48
+  __TEXT.__auth_stubs: 0x2f90
+  __TEXT.__objc_stubs: 0xd520
+  __TEXT.__objc_methlist: 0x6be0
+  __TEXT.__const: 0x17fc0
+  __TEXT.__cstring: 0xc9f6
+  __TEXT.__oslogstring: 0xcaf8
+  __TEXT.__objc_classname: 0x119f
+  __TEXT.__objc_methname: 0x121d4
+  __TEXT.__objc_methtype: 0x3368
+  __TEXT.__gcc_except_tab: 0x196c
   __TEXT.__dlopen_cstrs: 0x68
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__constg_swiftt: 0x1108
-  __TEXT.__swift5_typeref: 0x1572
-  __TEXT.__swift5_builtin: 0x118
-  __TEXT.__swift5_reflstr: 0xa0c
-  __TEXT.__swift5_fieldmd: 0x1028
+  __TEXT.__constg_swiftt: 0x16c0
+  __TEXT.__swift5_typeref: 0x1b31
+  __TEXT.__swift5_builtin: 0x140
+  __TEXT.__swift5_reflstr: 0xb65
+  __TEXT.__swift5_fieldmd: 0x14bc
   __TEXT.__swift5_assocty: 0x258
-  __TEXT.__swift5_proto: 0x3f4
-  __TEXT.__swift5_types: 0x160
-  __TEXT.__swift5_capture: 0x624
-  __TEXT.__swift5_protos: 0x4
+  __TEXT.__swift5_proto: 0x514
+  __TEXT.__swift5_types: 0x1c4
+  __TEXT.__swift5_capture: 0x8f0
+  __TEXT.__swift5_protos: 0x18
   __TEXT.__swift5_mpenum: 0x8
-  __TEXT.__unwind_info: 0x54c4
-  __TEXT.__eh_frame: 0x3e50
-  __DATA_CONST.__auth_got: 0x16a8
-  __DATA_CONST.__got: 0x610
-  __DATA_CONST.__auth_ptr: 0xf0
-  __DATA_CONST.__const: 0x11708
-  __DATA_CONST.__cfstring: 0x6ec0
-  __DATA_CONST.__objc_classlist: 0x568
+  __TEXT.__unwind_info: 0x4f74
+  __TEXT.__eh_frame: 0x50c0
+  __DATA_CONST.__auth_got: 0x17d8
+  __DATA_CONST.__got: 0x648
+  __DATA_CONST.__auth_ptr: 0x138
+  __DATA_CONST.__const: 0x129b8
+  __DATA_CONST.__cfstring: 0x6cc0
+  __DATA_CONST.__objc_classlist: 0x548
   __DATA_CONST.__objc_catlist: 0xc8
-  __DATA_CONST.__objc_protolist: 0x1f8
+  __DATA_CONST.__objc_protolist: 0x218
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_arraydata: 0x40
   __DATA_CONST.__objc_dictobj: 0x50
-  __DATA_CONST.__objc_intobj: 0x258
+  __DATA_CONST.__objc_intobj: 0x270
   __DATA_CONST.__objc_arrayobj: 0x30
-  __DATA.__objc_const: 0x19f78
-  __DATA.__objc_selrefs: 0x4610
-  __DATA.__objc_protorefs: 0xc8
-  __DATA.__objc_classrefs: 0x910
-  __DATA.__objc_superrefs: 0x350
-  __DATA.__objc_ivar: 0x754
-  __DATA.__objc_data: 0x40a0
-  __DATA.__data: 0x3fd0
-  __DATA.__bss: 0x9668
-  __DATA.__common: 0xcb0
+  __DATA.__objc_const: 0x19500
+  __DATA.__objc_selrefs: 0x45d8
+  __DATA.__objc_protorefs: 0xd8
+  __DATA.__objc_classrefs: 0x8e8
+  __DATA.__objc_superrefs: 0x338
+  __DATA.__objc_ivar: 0x74c
+  __DATA.__objc_data: 0x3f98
+  __DATA.__data: 0x4ea8
+  __DATA.__bss: 0xb468
+  __DATA.__common: 0xcb8
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswiftQuartzCore.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
+  - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 401E3730-90C3-3170-96A1-0CF85165A888
-  Functions: 6137
-  Symbols:   1223
-  CStrings:  6976
+  UUID: D3714912-987F-3EDA-962E-E4D056D4462A
+  Functions: 6828
+  Symbols:   1275
+  CStrings:  7006
 
Symbols:
+ _$s10Foundation12NotificationV36_unconditionallyBridgeFromObjectiveCyACSo14NSNotificationCSgFZ
+ _$s10Foundation12NotificationV8userInfoSDys11AnyHashableVypGSgvg
+ _$s10Foundation12NotificationVMa
+ _$s10Foundation3URLV08absoluteB0ACvg
+ _$s10Foundation3URLV9appending10queryItemsACSayAA12URLQueryItemVG_tF
+ _$s10Foundation4DataVMn
+ _$s10Foundation4DateV026timeIntervalSinceReferenceB0Sdvg
+ _$s10Foundation4DateV11distantPastACvgZ
+ _$s10Foundation4DateV20timeIntervalSinceNowACSd_tcfC
+ _$s10Foundation4DateV3nowACvgZ
+ _$s10Foundation4DateVSEAAMc
+ _$s10Foundation4DateVSeAAMc
+ _$s17_StringProcessing5RegexV06_regexA07versionACyxGSS_SitcfC
+ _$s17_StringProcessing5RegexV10wholeMatch2inAC0E0Vyx_GSgSS_tKF
+ _$s17_StringProcessing5RegexV5MatchV13dynamicMemberqd__s7KeyPathCyxqd__G_tcluig
+ _$s17_StringProcessing5RegexV5MatchVMn
+ _$s17_StringProcessing5RegexVMn
+ _$sSD4KeysV11descriptionSSvg
+ _$sSS10FoundationE6format_S2Sh_s7CVarArg_pdtcfC
+ _$sSS_5radix9uppercaseSSx_SiSbtcSzRzlufC
+ _$sSSs7CVarArg10FoundationMc
+ _$sSa11descriptionSSvg
+ _$sSb10FoundationE19_bridgeToObjectiveCSo8NSNumberCyF
+ _$sSd11descriptionSSvg
+ _$sSf11descriptionSSvg
+ _$sSfN
+ _$sSi10FoundationE19_bridgeToObjectiveCSo8NSNumberCyF
+ _$sSiSzsMc
+ _$sSs10FoundationE19_bridgeToObjectiveCSo8NSStringCyF
+ _$sSuN
+ _$sSus23CustomStringConvertiblesWP
+ _$ss11AnyHashableV11descriptionSSvg
+ _$ss11_StringGutsV16_slowWithCStringyxxSPys4Int8VGKXEKlF
+ _$ss13ManagedBufferCMn
+ _$ss22KeyedDecodingContainerV6decode_6forKeyS2bm_xtKF
+ _$ss22KeyedEncodingContainerV6encode_6forKeyySb_xtKF
+ _$ss27_bridgeAnythingToObjectiveCyyXlxlF
+ _$ss28SingleValueDecodingContainerP6decodeyS2SmKFTj
+ _$ss5Int64VMn
+ _$ss6UInt32VN
+ _$ss6UInt32Vs23CustomStringConvertiblesWP
+ _$ss7CVarArgMp
+ _$ss7DecoderP10codingPathSays9CodingKey_pGvgTj
+ _$ss7DecoderP20singleValueContainers06Singlec8DecodingD0_pyKFTj
+ _swift_allocateGenericClassMetadata
+ _swift_deallocClassInstance
+ _swift_getGenericMetadata
+ _swift_getKeyPath
+ _swift_initClassMetadata2
+ _swift_stdlib_random
+ _swift_unknownObjectWeakAssign
+ _swift_unknownObjectWeakDestroy
+ _swift_unknownObjectWeakInit
+ _swift_unknownObjectWeakLoadStrong
- _$ss32_diagnoseUnexpectedEnumCaseValue4type03rawE0s5NeverOxm_q_tr0_lF
- _$ss4Int8VN
CStrings:
+ "\x04\x11\x11"
+ "\x11#\x1f\x04"
+ "\x15"
+ " DATETIME DEFAULT (timestamp()),\nPRIMARY KEY ("
+ " after adding purchase intent: "
+ " because it is not allowed"
+ " because no intents were found"
+ " because the app "
+ " because the app is not installed"
+ " because the app or product name are missing"
+ " because the device is not in developer mode"
+ " because the format strings could not be found"
+ " because the install sheet is open"
+ " because they are not allowed"
+ " is not valid for StoreKit testing"
+ " purchase intents"
+ " purchase intents for "
+ "\" because the required bundleID is missing"
+ "%{public}@: Finished processing payment for %{public}@"
+ "&productIdentifier="
+ ") ON CONFLICT REPLACE);"
+ "/xcode\\[([^\\0]+)\\]/"
+ "11:04:12"
+ "@60@0:8@16@24@32B40@44@52"
+ "ALTER TABLE iap_purchase_intents\nADD COLUMN buy_params TEXT;"
+ "ALTER TABLE iap_purchase_intents\nDROP COLUMN trunk_bundle_id;"
+ "ALTER TABLE iap_purchase_intents\nDROP COLUMN trunk_product_id;"
+ "Adding custom buy param "
+ "Adding purchase intent with request "
+ "Analytics"
+ "B16@?0@\"SQLiteDatabaseTransaction\"8"
+ "B40@0:8^v16@24^@32"
+ "CREATE TABLE IF NOT EXISTS "
+ "Clearing all purchase intents"
+ "Clearing current app install sheet bundle ID"
+ "Client is not entitled to add purchase intents"
+ "Client is not entitled to clear all purchase intents"
+ "Client is not entitled to override clients"
+ "Client is not entitled to query client overrides"
+ "Client is not entitled to request all purchase intents"
+ "Client is not entitled to set app install sheet bundle ID"
+ "Could not create client for clearing purchase intents"
+ "Could not create client for purchase intent request"
+ "Could not get current connection for clearing purchase intents"
+ "Could not get current connection for purchase intent request"
+ "Could not get custom buy params allow-list: "
+ "Developer display"
+ "Error decoding AddPurchaseIntentRequest "
+ "Error decoding ClearPurchaseIntentRequest "
+ "Error decoding ClientOverrideRequest "
+ "Error decoding PurchaseIntentRequest "
+ "Error getting store cohort "
+ "Failed to encode purchase intents: "
+ "Failed to open application "
+ "Failed to post purchase intent notification for "
+ "Found purchase intent with additional buyParams "
+ "Ignoring custom buy param "
+ "Ignoring custom buy params "
+ "Ignoring method call \""
+ "Ignoring method call for non-entitled client: "
+ "Ignoring method call from "
+ "Ignoring method call from non-development client: "
+ "Invalid purchase intent entity "
+ "No PurchaseIntents migration for "
+ "Not posting notification for "
+ "Not posting purchase intent notification because they are disabled by "
+ "Not posting purchase intent notification for "
+ "Not posting purchase intent notification. Error fetching "
+ "Nov 12 2023"
+ "OverrideService"
+ "Posting purchase intent notification for "
+ "Posting user notification"
+ "PurchaseIntentService"
+ "PurchaseIntentService_"
+ "Required display"
+ "Sending purchase intent "
+ "Sent to listener"
+ "Server must be auto[matic], prod[uction], sandbox, or xcode[<configuration_file_path>]"
+ "Setting app install sheet bundle ID ("
+ "Setting current app install sheet bundle ID "
+ "Store cohort is empty"
+ "T@\"NSURL\",R,N,V_deepLinkURL"
+ "T@\"SQLiteDatabaseStoreDescriptor\",N,R"
+ "TB,R,N,V_allowsDeveloperControl"
+ "Unable to get entitlements for "
+ "[%{public}@] App is not installed for %{public}@(%{public}@). Creating client with overrides."
+ "[%{public}@] Client is not entitled to process payment"
+ "[%{public}@] Could not create client for %{public}@ to process payment"
+ "[%{public}@] Error processing payment for %{public}@ - %{public}@"
+ "[%{public}@] Generated VID for purchase %{private}@"
+ "[%{public}@] No buyParams to process payment"
+ "[%{public}@] Pinging AppStoreDaemon to start parent app install"
+ "[%{public}@] Processing buyParams %{public}@"
+ "[%{public}@] Processing payment with buyParams %{public}@"
+ "[%{public}@] Releasing VID for failed purchase"
+ "[%{public}@]: Removing message for %{public}@ because it's no longer applicable."
+ "[%{public}@][%{public}@] %{public}s"
+ "[%{public}s][%{public}s]: Ignoring query parameter for unentitled client: %s"
+ "[%{public}s][%{public}s]: Invalid key format: %s"
+ "[%{public}s][%{public}s]: Lookup for %{public}s (%s) is missing a URL"
+ "[%{public}s][%{public}s]: Unhandled value: %s for key: %s"
+ "[Client] Forcing override "
+ "[Client] No longer forcing override for "
+ "[Client] Removing forced override for "
+ "] Could not determine if app is installed: "
+ "] Handling installed event for "
+ "] Handling uninstalled event for "
+ "_TtC9storekitd22LaunchServicesObserver"
+ "_TtC9storekitdP33_E619F6C7E2B7960B25E94D759ACE384B19PurchaseIntentStore"
+ "_TtC9storekitdP33_E619F6C7E2B7960B25E94D759ACE384B20PurchaseIntentEntity"
+ "_allowsDeveloperControl"
+ "_deepLinkURL"
+ "_generateBuyParams"
+ "_logExitForMethod:context:"
+ "_performWithBuyParams:"
+ "_recordMessageListenerEventWithType:"
+ "_recordPotentialMessageWithURL:type:allowsDeveloperControl:client:"
+ "_validateMethodCall:context:error:"
+ "addPurchaseIntent(with:reply:)"
+ "addPurchaseIntentWithRequest:reply:"
+ "allowsDeveloperControl"
+ "buyParams:completionHandler:"
+ "clearPurchaseIntents(with:reply:)"
+ "clearPurchaseIntentsWithRequest:reply:"
+ "clientOverrides(reply:)"
+ "clientOverridesWithReply:"
+ "com.apple.storekit.messages"
+ "context"
+ "createDeviceIdentifierWithVendorName:bundleIdentifier:"
+ "deepLinkURL"
+ "handleInstalledEvent:"
+ "handleUninstalledEvent:"
+ "initWithResult:extensionID:productURL:isEntitled:parameters:deepLinkURL:"
+ "installParentApp"
+ "isAppStoreSignedAppWithBundleID:"
+ "itms-services://?action=purchaseIntent&bundleId="
+ "logExitForMethod:context:"
+ "privateStore"
+ "privateValue"
+ "purchaseIntents(with:reply:)"
+ "purchaseIntentsWithRequest:reply:"
+ "recordMessageDisplayEventWithType:messageType:client:"
+ "removeDeviceIdentifierForVendorName:bundleIdentifier:"
+ "sendPurchaseIntent(for:bundleID:completion:)"
+ "sendPurchaseIntentForProductIdentifier:bundleID:completion:"
+ "setAppInstallSheetBundleID(_:reply:)"
+ "setAppInstallSheetBundleID:reply:"
+ "setClientOverride(with:reply:)"
+ "setClientOverrideWithRequest:reply:"
+ "shouldInstallParentAppWithBuyParams:"
+ "storekitd6"
+ "storekitd7"
+ "stringByRemovingPercentEncoding"
+ "v16@?0@\"AMSBuyParams\"8"
+ "v16@?0@\"SQLiteDatabaseSession\"8"
+ "v28@0:8B16@?<v@?@\"AMSBuyParams\">20"
+ "v28@?0@\"NSArray\"8B16@\"NSError\"20"
+ "v32@0:8@\"NSData\"16@?<v@?@\"NSError\">24"
+ "v32@0:8^v16@24"
+ "v44@0:8@16q24B32@36"
+ "validateMethodCall:context:error:"
- "\x02#\x1f\x04"
- "\x05\x11"
- "%{public}@ Cannot find application bundle for %{public}@[%ld]"
- "%{public}@: Adding purchase intent (%{public}@, %{public}@, %{public}@, %{public}@)"
- "%{public}@: Clearing all purchase intents for bundle identifier %{public}@"
- "%{public}@: Clearing purchase intent for product identifier %{public}@"
- "%{public}@: Client is not entitled to process payment"
- "%{public}@: Could not create client for %{public}@ to process payment with %{public}@"
- "%{public}@: Could not parse client from buy parameters"
- "%{public}@: Error processing payment for %{public}@ with %{public}@ - %{public}@"
- "%{public}@: Failed to open application %{public}@ with error: %{public}@"
- "%{public}@: Finished processing payment for %{public}@ with %{public}@"
- "%{public}@: Invalid purchase intent (%{public}@, %{public}@)"
- "%{public}@: No buyParams to process payment"
- "%{public}@: No client to get purchase intents"
- "%{public}@: Processing payment with %{public}@"
- "%{public}@: Requesting purchase intent products for bundle identifier %{public}@: %{public}@"
- "-[StoreKitServiceConnection addPurchaseIntent:reply:]"
- "-[StoreKitServiceConnection forceSandboxForBundleIdentifier:untilDate:reply:]"
- "-[StoreKitServiceConnection purchaseIntentAppInstallSheetOpenForBundleIdentifier:reply:]"
- "-[StoreKitServiceConnection purchaseIntentsForClient:clearOnRetrieval:reply:]"
- "-[StoreKitServiceConnection setClientOverrides:forBundleIdentifier:untilDate:reply:]"
- "22:53:06"
- "@\"AMSBuyParams\""
- "@\"InAppPurchaseIntentDatabaseStore\""
- "@32@0:8r*16@24"
- "@52@0:8@16@24@32B40@44"
- "A bundle ID is required"
- "B16@?0@\"InAppPurchaseIntentDatabaseTransaction\"8"
- "CREATE TABLE IF NOT EXISTS iap_purchase_intents (bundle_id TEXT, product_id TEXT, app_name TEXT, product_name TEXT, timestamp DATETIME DEFAULT (timestamp()), PRIMARY KEY (product_id, bundle_id) ON CONFLICT REPLACE);"
- "Can't create purchase intent user notification because a valid URL was not provided: %{public}@"
- "DELETE FROM iap_purchase_intents WHERE bundle_id = ?"
- "DELETE FROM iap_purchase_intents WHERE product_id = ?"
- "Developer mode is required to use StoreKit Testing"
- "Error removing purchase intent for %{public}@: %{public}@"
- "Error removing purchase intents for %{public}@: %{public}@"
- "Error updating purchase intent timestamps for %{public}@: %{public}@"
- "InAppPurchaseIntent"
- "InAppPurchaseIntentDatabaseSession"
- "InAppPurchaseIntentDatabaseStore"
- "InAppPurchaseIntentDatabaseTransaction"
- "InAppPurchaseIntentEntity"
- "InAppPurchaseIntentManager"
- "LaunchServicesObserver"
- "No StoreKit In App Purchase Intents Database migration function for %li => %li"
- "Oct  2 2023"
- "Sending received purchase intent notification"
- "T{?=[8I]},N,V_auditToken"
- "UPDATE INTO iap_purchase_intents (timestamp) VALUES (timestamp()) WHERE bundle_id = ?"
- "Unable to get entitlements for %{public}@: %{public}@"
- "[%{public}@] Could not get custom buy params allow-list from bag, will assume none are allowed: %{public}@"
- "[%{public}@] Entering %{public}s for %{public}@ by %{public}@"
- "[%{public}@] Error getting store cohort %{public}@"
- "[%{public}@]: Failed to post purchase intent notification for %{public}@: %{public}@"
- "[%{public}@]: Ignoring method call for non-development client: %{public}@"
- "[%{public}@]: Ignoring method call for non-entitled client: %{public}@"
- "[%{public}@]: Ignoring method call from %{public}@ because the app (%{public}@) is not valid for StoreKit testing"
- "[%{public}@]: Ignoring method call from %{public}@ because the device is not in developer mode"
- "[%{public}@]: Ignoring method call from %{public}@ because the required bundle ID is missing"
- "[%{public}@]: Not posting notification for %{public}@ due to missing app or product name(%{public}@, %{public}@)"
- "[%{public}@]: Not posting purchase intent notification for %{public}@, install sheet currently displayed"
- "[%{public}@]: Not posting purchase intent notification for %{public}@, no intents found"
- "[%{public}@]: Posting purchase intent notification for %{public}@"
- "[%{public}@]: Purchase intent notifications disabled"
- "[%{public}s] Forcing server %{public}s for %{public}s until %{public}s"
- "[%{public}s] Forcing xcode test server not allowed"
- "[%{public}s] No longer forcing server for %{public}s"
- "_auditToken"
- "_buildPurchaseIntentNotificationRequest:title:body:launchURL:"
- "_bundleIdForCurrentInstallSheet"
- "_buyParams"
- "_generateNotificationRequestIdentifierForProductID:"
- "_handleInstalledEventNotification:"
- "_handleUninstalledEventNotification:"
- "_isAppStoreSignedApp:"
- "_logAndValidateMethodCall:context:"
- "_logExitForMethodCall:context:"
- "_parseRegistrationNotification:usingBlock:"
- "addPurchaseIntent:"
- "addPurchaseIntent:reply:"
- "app_name"
- "bundleIDs"
- "clearPurchaseIntentForProductID:"
- "clearPurchaseIntentForProductIdentifier:"
- "clearPurchaseIntentNotificationForProductID:"
- "clearPurchaseIntentsForBundleID:"
- "clearPurchaseIntentsForBundleIdentifier:"
- "com.apple.StoreKit.ForcedServer"
- "forceSandboxForBundleIdentifier:untilDate:reply:"
- "initWithBundleID:productID:appName:productName:"
- "initWithResult:extensionID:productURL:isEntitled:parameters:"
- "isPlaceholder"
- "itms-services://?action=purchaseIntent&bundleId=%@&productIdentifier=%@"
- "objc_forceClientType:forBundleIdentifier:until:"
- "postPurchaseIntentNotificationIfNeededForBundleIDs:"
- "productName"
- "product_name"
- "purchaseIntentAppInstallSheetOpenForBundleID:"
- "purchaseIntentAppInstallSheetOpenForBundleIdentifier:reply:"
- "purchaseIntentsForBundleID:afterDate:"
- "purchaseIntentsForBundleID:afterDate:error:"
- "purchaseIntentsForClient:clearOnRetrieval:reply:"
- "receivedPurchaseIntentsForProductIdentifiers:"
- "resetPurchaseIntentTimestampsForBundleID:"
- "rid"
- "setAuditToken:"
- "setClientOverrides:forBundleIdentifier:untilDate:reply:"
- "v16@?0@\"InAppPurchaseIntentDatabaseSession\"8"
- "v20@?0B8@\"NSArray\"12"
- "v32@0:8@\"NSDictionary\"16@?<v@?>24"
- "v32@0:8@\"NSString\"16@?<v@?>24"
- "v32@0:8r*16@24"
- "v36@0:8c16@20@28"
- "v40@0:8@\"NSString\"16@\"NSDate\"24@?<v@?>32"
- "v48@0:8@\"NSDictionary\"16@\"NSString\"24@\"NSDate\"32@?<v@?@\"NSError\">40"
- "v48@0:8{?=[8I]}16"
- "{?=\"val\"[8I]}"
- "{?=[8I]}16@0:8"

```
