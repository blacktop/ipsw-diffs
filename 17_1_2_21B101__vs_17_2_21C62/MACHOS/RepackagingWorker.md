## RepackagingWorker

> `/System/Library/ExtensionKit/Extensions/RepackagingWorker.appex/RepackagingWorker`

```diff

-3301.5.1.0.0
-  __TEXT.__text: 0xe9c8
-  __TEXT.__auth_stubs: 0xc00
-  __TEXT.__objc_methlist: 0x44
-  __TEXT.__const: 0x7a8
-  __TEXT.__cstring: 0x7ed
-  __TEXT.__constg_swiftt: 0x2d4
-  __TEXT.__swift5_typeref: 0x31a
-  __TEXT.__swift5_fieldmd: 0x1e8
-  __TEXT.__swift5_reflstr: 0x14d
-  __TEXT.__swift5_types: 0x38
-  __TEXT.__objc_methname: 0x511
-  __TEXT.__swift5_proto: 0x74
-  __TEXT.__swift5_capture: 0xd8
-  __TEXT.__objc_classname: 0x1b
-  __TEXT.__objc_methtype: 0x1a3
+3302.8.1.0.0
+  __TEXT.__text: 0x100d8
+  __TEXT.__auth_stubs: 0xb10
+  __TEXT.__objc_methlist: 0x14
+  __TEXT.__const: 0xd14
+  __TEXT.__cstring: 0x8fc
+  __TEXT.__constg_swiftt: 0x288
+  __TEXT.__swift5_typeref: 0x357
+  __TEXT.__swift5_fieldmd: 0x228
+  __TEXT.__swift5_capture: 0xa8
+  __TEXT.__objc_methname: 0x1b3
+  __TEXT.__swift5_reflstr: 0xf0
+  __TEXT.__swift5_assocty: 0x60
+  __TEXT.__swift5_proto: 0xd4
+  __TEXT.__swift5_types: 0x48
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__swift5_assocty: 0x18
-  __TEXT.__unwind_info: 0x558
-  __TEXT.__eh_frame: 0x9f0
-  __DATA_CONST.__auth_got: 0x600
-  __DATA_CONST.__got: 0x140
-  __DATA_CONST.__auth_ptr: 0x20
-  __DATA_CONST.__const: 0x968
+  __TEXT.__unwind_info: 0x60c
+  __TEXT.__eh_frame: 0x9a0
+  __DATA_CONST.__auth_got: 0x588
+  __DATA_CONST.__got: 0x128
+  __DATA_CONST.__auth_ptr: 0x28
+  __DATA_CONST.__const: 0xc28
   __DATA_CONST.__objc_classlist: 0x10
-  __DATA_CONST.__objc_protolist: 0x20
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA.__objc_const: 0x508
-  __DATA.__objc_selrefs: 0x170
-  __DATA.__objc_protorefs: 0x10
-  __DATA.__objc_classrefs: 0x70
-  __DATA.__objc_data: 0x168
-  __DATA.__data: 0x600
+  __DATA.__objc_const: 0x100
+  __DATA.__objc_selrefs: 0xc0
+  __DATA.__objc_classrefs: 0x50
+  __DATA.__objc_data: 0xc0
+  __DATA.__data: 0x5d8
+  __DATA.__bss: 0x1a80
   __DATA.__common: 0x60
-  __DATA.__bss: 0xe80
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/ExtensionFoundation.framework/ExtensionFoundation
   - /System/Library/Frameworks/Foundation.framework/Foundation
+  - /System/Library/PrivateFrameworks/AssistantServices.framework/AssistantServices
   - /System/Library/PrivateFrameworks/BiomePubSub.framework/BiomePubSub
+  - /System/Library/PrivateFrameworks/FeedbackLogger.framework/FeedbackLogger
   - /System/Library/PrivateFrameworks/LighthouseBackground.framework/LighthouseBackground
   - /System/Library/PrivateFrameworks/LighthouseBitacoraFramework.framework/LighthouseBitacoraFramework
-  - /System/Library/PrivateFrameworks/MLRuntime.framework/MLRuntime
   - /System/Library/PrivateFrameworks/SiriAnalytics.framework/SiriAnalytics
   - /System/Library/PrivateFrameworks/SiriInstrumentation.framework/SiriInstrumentation
-  - /System/Library/PrivateFrameworks/Trial.framework/Trial
   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libobjc.A.dylib
+  - /usr/lib/swift/libswiftAVFoundation.dylib
+  - /usr/lib/swift/libswiftAccelerate.dylib
   - /usr/lib/swift/libswiftCore.dylib
+  - /usr/lib/swift/libswiftCoreAudio.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
+  - /usr/lib/swift/libswiftCoreLocation.dylib
+  - /usr/lib/swift/libswiftCoreMIDI.dylib
+  - /usr/lib/swift/libswiftCoreMedia.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
+  - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftOSLog.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib
+  - /usr/lib/swift/libswiftQuartzCore.dylib
+  - /usr/lib/swift/libswiftUniformTypeIdentifiers.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
-  Functions: 396
-  Symbols:   120
-  CStrings:  143
+  - /usr/lib/swift/libswiftsimd.dylib
+  Functions: 481
+  Symbols:   119
+  CStrings:  82
 
Symbols:
+ _OBJC_CLASS_$_AFAccount
+ _OBJC_CLASS_$_AFInstanceContext
+ _OBJC_CLASS_$_AFSettingsConnection
+ _OBJC_CLASS_$_FLLogger
+ __NSConcreteStackBlock
+ __objc_autoreleasePoolPop
+ __objc_autoreleasePoolPush
+ __swift_FORCE_LOAD_$_swiftAVFoundation
+ __swift_FORCE_LOAD_$_swiftAccelerate
+ __swift_FORCE_LOAD_$_swiftCoreAudio
+ __swift_FORCE_LOAD_$_swiftCoreLocation
+ __swift_FORCE_LOAD_$_swiftCoreMIDI
+ __swift_FORCE_LOAD_$_swiftCoreMedia
+ __swift_FORCE_LOAD_$_swiftMetal
+ __swift_FORCE_LOAD_$_swiftQuartzCore
+ __swift_FORCE_LOAD_$_swiftUniformTypeIdentifiers
+ __swift_FORCE_LOAD_$_swiftsimd
+ _swift_allocBox
+ _swift_continuation_await
+ _swift_continuation_init
+ _swift_continuation_throwingResume
+ _swift_continuation_throwingResumeWithError
+ _swift_deletedAsyncMethodErrorTu
+ _swift_endAccess
+ _swift_projectBox
+ _swift_retain_n
- _OBJC_CLASS_$_LBFEventManager
- _OBJC_CLASS_$_LBFLighthouseEvent
- _OBJC_CLASS_$_LBFTrialIdentifiers
- _OBJC_CLASS_$_MLRTaskResult
- _OBJC_CLASS_$_MLRTrialTaskResult
- _OBJC_CLASS_$_NSData
- _OBJC_CLASS_$_TRIClient
- _OBJC_CLASS_$_TRIExperimentIdentifiers
- _dispatch_semaphore_create
- _objc_autorelease
- _objc_autoreleaseReturnValue
- _objc_release
- _objc_release_x28
- _objc_retain
- _objc_retain_x19
- _objc_retain_x21
- _objc_retain_x23
- _objc_retain_x27
- _swift_allocateGenericClassMetadata
- _swift_deallocPartialClassInstance
- _swift_dynamicCast
- _swift_errorRetain
- _swift_getGenericMetadata
- _swift_initClassMetadata2
- _swift_initStackObject
- _swift_task_create
- _swift_updateClassMetadata2
CStrings:
+ " sessions to FBF"
+ " total messages processed, clocks not sampled "
+ "/Library/Caches/com.apple.xbs/Sources/AIMLInstrumentationStreams/Extensions/RepackagingWorker/Plugin.swift"
+ "/Library/Caches/com.apple.xbs/Sources/AIMLInstrumentationStreams/Extensions/RepackagingWorker/RepackagingWorker.swift"
+ "/Library/Caches/com.apple.xbs/Sources/AIMLInstrumentationStreams/Extensions/RepackagingWorker/SessionBuilderExtension.swift"
+ "Can't fetch Siri accounts"
+ "Can't get method from ExtensionTask from "
+ "Invalid number of keys found, expected one."
+ "Moving to new bookmark"
+ "No found accounts are to be sampled"
+ "No messages found"
+ "No sessions generated out of "
+ "Packaging method isn't set, can't run"
+ "Sampling is active: "
+ "Sampling is deactivated"
+ "Sessions sent to FBF: "
+ "Sessions that couldn't be wrapped as AnyEvent: "
+ "Should run with method "
+ "_TtC17RepackagingWorker17RepackagingWorker"
+ "assistantIdentifier"
+ "bypassRecipe(_:)"
+ "com.apple.aiml.RepackagingWorker.Grouped"
+ "com.apple.aiml.RepackagingWorker.Session"
+ "com.apple.assistantd"
+ "defaultContext"
+ "defaultRecipe(_:)"
+ "extensionTaskError"
+ "fetchAccountsWithCompletion:"
+ "initWithInstanceContext:"
+ "loadRecipe(_:packagingMethod:)"
+ "noClocksFound"
+ "noMessages"
+ "noSessionsFound"
+ "notSampled"
+ "packagingMethod"
+ "packagingMethodMissing"
+ "reportSiriInstrumentationEvent:forBundleID:completion:"
+ "selectedForCurrentAssistantId(_:)"
+ "sharedLogger"
+ "shouldRun(context:)"
+ "v16@?0@\"NSError\"8"
+ "v24@?0@\"NSArray\"8@\"NSError\"16"
+ "wrapAsAnyEvent"
- "#16@0:8"
- "$__lazy_storage_$_rootObject"
- ".cxx_destruct"
- "/Library/Caches/com.apple.xbs/Sources/AIMLInstrumentationStreams/Plugins/RepackagingPlugin/Experiments/Recipe.swift"
- "/Library/Caches/com.apple.xbs/Sources/AIMLInstrumentationStreams/Plugins/RepackagingPlugin/Plugin.swift"
- "/Library/Caches/com.apple.xbs/Sources/AIMLInstrumentationStreams/Plugins/RepackagingWorker/RepackagingWorker.swift"
- "@\"MLRTaskResult\"32@0:8@\"MLRTask\"16^@24"
- "@\"MLRTrialTaskResult\"32@0:8@\"MLRTrialTask\"16^@24"
- "@\"NSString\"16@0:8"
- "@24@0:8:16"
- "@32@0:8:16@24"
- "@32@0:8@16^@24"
- "@40@0:8:16@24@32"
- "B16@0:8"
- "B24@0:8#16"
- "B24@0:8:16"
- "B24@0:8@\"Protocol\"16"
- "B24@0:8@16"
- "BMLT callback, setting result: "
- "Error decoding json of recipe: "
- "Error while emitting bitacora plugin event. %s"
- "Error while running BMLT async perform: "
- "Error while running async perform: "
- "Failed to get recipe from Trial"
- "JSONResult"
- "MLRTaskPerforming"
- "NSObject"
- "Q16@0:8"
- "Running BMLT with trialClient: "
- "Running MLRTrialTask with trialClient: "
- "SIRI_SELF_LIGHTHOUSE_SAMPLING"
- "T#,R"
- "T@\"NSString\",R,C"
- "TQ,R"
- "Trial client unavailable for task: "
- "Trial namespace unavailable for task: "
- "Vv16@0:8"
- "^{_NSZone=}16@0:8"
- "_TtC17RepackagingWorker26RepackagingBitacoraManager"
- "addLighthousePluginEvent:identifiers:error:"
- "autorelease"
- "backgroundMLTaskIdentifiersWithNamespaceName:"
- "bitacoraManager"
- "bmltTaskId"
- "class"
- "conformsToProtocol:"
- "data"
- "debugDescription"
- "deploymentId"
- "description"
- "experimentId"
- "experimentIdentifiersWithNamespaceName:"
- "fileValue"
- "getRecipe(client:)"
- "hasPath"
- "hash"
- "init(filePathUrl:)"
- "initWithBMLTTaskID:deploymentID:"
- "initWithContentsOfURL:options:error:"
- "initWithExperimentID:deploymentID:treatmentID:"
- "initWithExperimentId:deploymentId:treatmentId:"
- "initWithJSONResult:unprivatizedVector:"
- "initWithPerformTaskStatus:error:"
- "initWithStop:error:"
- "isEqual:"
- "isKindOfClass:"
- "isMemberOfClass:"
- "isProxy"
- "lbfTrialIdentifiers"
- "levelForFactor:withNamespaceName:"
- "logger"
- "mlr_clientWithMLRTask:"
- "mlr_namespaceNameWithMLRTask:"
- "path"
- "performAsyncTask:completionHandler:"
- "performAsyncTrialTask:completionHandler:"
- "performBMLT(task:)"
- "performBMLTAsyncCallback(task:completion:)"
- "performSelector:"
- "performSelector:withObject:"
- "performSelector:withObject:withObject:"
- "performTask:outError:"
- "performTrial(client:)"
- "performTrialAsyncCallback(client:completion:)"
- "performTrialTask:outError:"
- "refresh"
- "release"
- "respondsToSelector:"
- "retain"
- "retainCount"
- "self"
- "sharedInstance"
- "stop"
- "superclass"
- "treatmentId"
- "triClient"
- "v16@0:8"
- "v32@0:8@\"MLRTask\"16@?<v@?@\"MLRTaskResult\"@\"NSError\">24"
- "v32@0:8@\"MLRTrialTask\"16@?<v@?@\"MLRTrialTaskResult\"@\"NSError\">24"
- "v32@0:8@16@?24"
- "zone"

```
