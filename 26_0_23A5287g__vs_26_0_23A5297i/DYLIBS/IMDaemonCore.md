## IMDaemonCore

> `/System/Library/PrivateFrameworks/IMDaemonCore.framework/IMDaemonCore`

```diff

-1443.100.10.1.5
-  __TEXT.__text: 0x2e5678
-  __TEXT.__auth_stubs: 0x5000
-  __TEXT.__objc_methlist: 0x186ec
-  __TEXT.__const: 0x54a8
-  __TEXT.__cstring: 0x13921
-  __TEXT.__gcc_except_tab: 0x283e4
-  __TEXT.__oslogstring: 0x49ad7
+1445.100.6.2.4
+  __TEXT.__text: 0x2f6eb8
+  __TEXT.__auth_stubs: 0x5100
+  __TEXT.__objc_methlist: 0x18744
+  __TEXT.__const: 0x56f8
+  __TEXT.__cstring: 0x13e21
+  __TEXT.__gcc_except_tab: 0x28438
+  __TEXT.__oslogstring: 0x49f17
   __TEXT.__ustring: 0x486
   __TEXT.__dlopen_cstrs: 0x1e8
-  __TEXT.__constg_swiftt: 0x1e68
-  __TEXT.__swift5_typeref: 0x2600
+  __TEXT.__constg_swiftt: 0x207c
+  __TEXT.__swift5_typeref: 0x2812
   __TEXT.__swift5_builtin: 0x1b8
-  __TEXT.__swift5_reflstr: 0x105f
-  __TEXT.__swift5_fieldmd: 0x1250
+  __TEXT.__swift5_reflstr: 0x10df
+  __TEXT.__swift5_fieldmd: 0x138c
   __TEXT.__swift5_assocty: 0x688
-  __TEXT.__swift5_capture: 0xffc
-  __TEXT.__swift5_proto: 0x2e0
-  __TEXT.__swift5_types: 0x1c8
-  __TEXT.__swift_as_entry: 0x238
-  __TEXT.__swift_as_ret: 0x2b4
-  __TEXT.__swift5_protos: 0x20
+  __TEXT.__swift5_capture: 0x111c
+  __TEXT.__swift5_proto: 0x2ec
+  __TEXT.__swift5_types: 0x1e0
+  __TEXT.__swift_as_entry: 0x284
+  __TEXT.__swift_as_ret: 0x32c
+  __TEXT.__swift5_protos: 0x24
   __TEXT.__swift5_mpenum: 0x10
-  __TEXT.__unwind_info: 0xc638
-  __TEXT.__eh_frame: 0x502c
-  __TEXT.__objc_classname: 0x33eb
-  __TEXT.__objc_methname: 0x4a72d
-  __TEXT.__objc_methtype: 0x9d14
+  __TEXT.__unwind_info: 0xc980
+  __TEXT.__eh_frame: 0x5a0c
+  __TEXT.__objc_classname: 0x33ed
+  __TEXT.__objc_methname: 0x4a914
+  __TEXT.__objc_methtype: 0x9d0e
   __TEXT.__objc_stubs: 0x2ea80
-  __DATA_CONST.__got: 0x2f58
+  __DATA_CONST.__got: 0x2fe8
   __DATA_CONST.__const: 0x60f8
-  __DATA_CONST.__objc_classlist: 0x8f8
-  __DATA_CONST.__objc_catlist: 0xe0
-  __DATA_CONST.__objc_protolist: 0x6c0
+  __DATA_CONST.__objc_classlist: 0x908
+  __DATA_CONST.__objc_catlist: 0xe8
+  __DATA_CONST.__objc_protolist: 0x6d8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xf328
-  __DATA_CONST.__objc_protorefs: 0x220
-  __DATA_CONST.__objc_superrefs: 0x588
+  __DATA_CONST.__objc_selrefs: 0xf378
+  __DATA_CONST.__objc_protorefs: 0x230
+  __DATA_CONST.__objc_superrefs: 0x580
   __DATA_CONST.__objc_arraydata: 0x140
-  __AUTH_CONST.__auth_got: 0x2810
-  __AUTH_CONST.__const: 0x7110
-  __AUTH_CONST.__cfstring: 0xdc60
-  __AUTH_CONST.__objc_const: 0x1e928
+  __AUTH_CONST.__auth_got: 0x2890
+  __AUTH_CONST.__const: 0x74f0
+  __AUTH_CONST.__cfstring: 0xdbe0
+  __AUTH_CONST.__objc_const: 0x1ec80
   __AUTH_CONST.__objc_intobj: 0x990
   __AUTH_CONST.__objc_arrayobj: 0x1c8
   __AUTH_CONST.__objc_floatobj: 0x10
-  __AUTH.__objc_data: 0x2ed8
-  __AUTH.__data: 0x6e0
-  __DATA.__objc_ivar: 0x10c0
-  __DATA.__data: 0x50f0
-  __DATA.__bss: 0x5240
-  __DATA.__common: 0x110
-  __DATA_DIRTY.__objc_data: 0x3228
-  __DATA_DIRTY.__data: 0x1c48
-  __DATA_DIRTY.__bss: 0xfd0
+  __AUTH.__objc_data: 0x2f48
+  __AUTH.__data: 0xbf0
+  __DATA.__objc_ivar: 0x10c4
+  __DATA.__data: 0x52f0
+  __DATA.__bss: 0x5320
+  __DATA.__common: 0x118
+  __DATA_DIRTY.__objc_data: 0x30f8
+  __DATA_DIRTY.__data: 0x1c08
+  __DATA_DIRTY.__bss: 0xfc0
   __DATA_DIRTY.__common: 0x190
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/AppIntents.framework/AppIntents

   - /System/Library/PrivateFrameworks/Marco.framework/Marco
   - /System/Library/PrivateFrameworks/MessagesBlastDoorSupport.framework/MessagesBlastDoorSupport
   - /System/Library/PrivateFrameworks/MessagesCloudSync.framework/MessagesCloudSync
+  - /System/Library/PrivateFrameworks/NanoPreferencesSync.framework/NanoPreferencesSync
   - /System/Library/PrivateFrameworks/NanoRegistry.framework/NanoRegistry
   - /System/Library/PrivateFrameworks/RunningBoardServices.framework/RunningBoardServices
   - /System/Library/PrivateFrameworks/ScreenTimeCore.framework/ScreenTimeCore

   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  UUID: 5148B8AF-48A7-3B92-B016-1ED2DE6A382B
-  Functions: 11863
-  Symbols:   2858
-  CStrings:  20594
+  UUID: E185FC87-4EC4-340A-8465-263A80B347BA
+  Functions: 12085
+  Symbols:   2866
+  CStrings:  20645
 
Symbols:
+ _IDSOriginalTimestampKey
+ _IMAggregatePartCharThresholdMadrid
+ _IMUnreadCountControllerDetectedExpiredTimeSensitiveMessagesNotification
+ _OBJC_CLASS_$_IMDChatStatusChangeContext
+ _OBJC_CLASS_$_IMDReparentingMonitor
+ _OBJC_CLASS_$_NPSManager
+ _OBJC_METACLASS_$_IMDChatStatusChangeContext
+ _OBJC_METACLASS_$_IMDReparentingMonitor
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
- _OBJC_CLASS_$_IMDSyncedSettingsServiceManager_Impl
- _OBJC_METACLASS_$_IMDSyncedSettingsServiceManager_Impl
- _class_getProperty
CStrings:
+ "\n\nRemaining tasks in queue:\n"
+ " critical workload budget exceeded. It has been suspended to block further power drain. Please submit this radar so we can better root-cause this issue. Critical workload time ranges:\n\n"
+ " exceeded critical workload budget"
+ " tasks for reason "
+ "$__lazy_storage_$_maxSecondsPerWindow"
+ "$__lazy_storage_$_ttrWindow"
+ "$__lazy_storage_$_windowDuration"
+ "-[IMDFileTransferCenter _messageForFileTransferWithGUID:]"
+ "Attempted to start monitoring while already monitoring."
+ "Cleared expired time sensitive messages successfully: %{bool}d error: %@"
+ "Clearing expired time sensitive messages"
+ "Completed."
+ "Critical lane for %{public}s has exhausted allotted time, and will be deferred until %s"
+ "Critical lane for %{public}s has finished deferral"
+ "Error while searching for reparentable messages."
+ "Error! IMDReparentingMonitor requested to handle non-repeating task but was only expected to handle repeating tasks."
+ "Failed to start monitoring with error: %@"
+ "Found and submitted %ld reparentable messages over %ld batches."
+ "IMDReparentingMonitor"
+ "IMDReparentingMonitorHandlerQueue"
+ "IMDReparentingMonitorRegistrationQueue"
+ "IMSyncedSettingsWatchSyncDelegate"
+ "Messaging Processing Disabled. Cannot monitor for reparentable items."
+ "MiC is not enabled. No need to monitor for reparentable messages."
+ "MiC sync in progress, not allowing any reparenting tasks."
+ "PersistentTaskCriticalExecutionBudgetExceededTTRDate"
+ "PersistentTaskCriticalExecutionMaxSecondsPerDay"
+ "PersistentTaskCriticalExecutionRanges"
+ "PersistentTaskCriticalExecutionStart"
+ "PersistentTaskCriticalExecutionTTRWindow"
+ "PersistentTaskCriticalExecutionWindowDuration"
+ "PersistentTaskCriticalLaneShouldHang"
+ "Searching for reparentable items..."
+ "Spam filter is disabled"
+ "T@\"IMDReparentingMonitor\",N,R"
+ "T@\"IMDSyncedSettingsServiceManager\",N,R"
+ "T@\"IMDTrustKitDecisioningManager\",&,N,V_trustKitManager"
+ "TB,N,V_isMessageSentFromMe"
+ "TTR requested for %{public}s"
+ "TrustKit query skipped because chat has 3+ replies or message was read."
+ "_TtC12IMDaemonCore32IMDPersistentTaskCriticalLimiter"
+ "_TtCC12IMDaemonCore32IMDPersistentTaskCriticalLimiter8Defaults"
+ "_checkIfMessageIsSpam:fromSender:withGuid:receiverISOCountryCode:receivedViaRelay:containsOneTimeCode:"
+ "_clearExpiredTimeSensitiveMessages"
+ "_expiredTimeSensitiveMessagesDetected:"
+ "_hasSavedContactCardForHandle:"
+ "_isFileTransferWithGUIDFromKnownSender:"
+ "_isMessageSentFromMe"
+ "_messageForFileTransferWithGUID:"
+ "_shouldCheckForSMSSpam: Contains One Time Code, forcing category %ld sub category %ld"
+ "_smsSpamCheck:withMessageBody:withGuid:sender:receiverISOCountryCode:receivedViaRelay:containsOneTimeCode:"
+ "_trustKitManager"
+ "clearExpiredTimeSensitiveMessagesWithCompletionHandler:"
+ "cloudkitStateEnabledReturned. Starting to monitor..."
+ "com.apple.DiagnosticExtensions.IMDiagnosticExtension"
+ "com.apple.messages.reparentingmonitor"
+ "criticalLimiter"
+ "initWithGUID:flag:lane:reason:userInfo:retryCount:"
+ "initWithLocalDomain:remoteDomain:localStorageDelegate:remoteStorageDelegate:watchSyncDelegate:"
+ "isMessageSentFromMe"
+ "originalTimestamp"
+ "registrationQueue"
+ "reparentableMessagesStartingAtRowID:limit:completionHandler:"
+ "setIsMessageSentFromMe:"
+ "setMinDurationBetweenInstances:"
+ "setTrustKitManager:"
+ "setValueForKey"
+ "sharedMonitor"
+ "synchronizeUserDefaultsDomain:keys:"
+ "timers"
+ "trustKitManager"
+ "v32@0:8@\"NSString\"16@\"NSSet\"24"
+ "v32@?0@\"NSArray\"8q16@\"NSError\"24"
+ "v64@0:8@?16@24@32@40@48B56B60"
+ "valueForKey"
+ "watchSyncDelegate"
- "-[IMDFileTransferCenter _findTransferGUIDMatchingSpotlightDonatedSpeculativeTransferGUID:]"
- "@\"IMDSyncedSettingsServiceManager_Impl\""
- "Current aliasToCNIDMap %@"
- "Found contactID: %@ for handle: %@"
- "IMDSyncedSettingsServiceManager_Impl"
- "T@\"IMDSyncedSettingsServiceManager_Impl\",R,V_impl"
- "TrustKit query skipped because chat has 3+ replies"
- "_checkIfMessageIsSpam:fromSender:withGuid:receiverISOCountryCode:receivedViaRelay:"
- "_impl"
- "_internalDASQueue"
- "_registrations"
- "_smsSpamCheck:withMessageBody:withGuid:sender:receiverISOCountryCode:receivedViaRelay:"
- "_systemTaskRequestCopiesBackloggedProperty"
- "_withInternalTaskRequestForIdentifier:block:"
- "com.test"
- "impl"
- "initWithLocalDomain:remoteDomain:localStorageDelegate:remoteStorageDelegate:"
- "isActivityBackloggedWithIdentifier:"
- "registrations"
- "taskRequest"
- "v16@?0@\"BGSystemTaskRequest\"8"
- "v60@0:8@?16@24@32@40@48B56"

```
