## IntelligencePlatformLibrary

> `/System/Library/PrivateFrameworks/IntelligencePlatformLibrary.framework/IntelligencePlatformLibrary`

```diff

-246.16.0.0.0
-  __TEXT.__text: 0x4ee1d4
+246.20.0.0.0
+  __TEXT.__text: 0x4f4b90
   __TEXT.__auth_stubs: 0x1910
-  __TEXT.__objc_methlist: 0x11e34
-  __TEXT.__const: 0x501f0
-  __TEXT.__constg_swiftt: 0x9314
-  __TEXT.__swift5_typeref: 0x9760
-  __TEXT.__swift5_fieldmd: 0x14638
-  __TEXT.__swift5_types: 0x12a8
-  __TEXT.__swift5_reflstr: 0x12b94
-  __TEXT.__swift5_assocty: 0x3ad0
-  __TEXT.__cstring: 0x697f4
-  __TEXT.__oslogstring: 0x19c
-  __TEXT.__swift5_proto: 0x5c0c
-  __TEXT.__swift5_capture: 0x35c0
+  __TEXT.__objc_methlist: 0x11fec
+  __TEXT.__const: 0x508a8
+  __TEXT.__constg_swiftt: 0x93ac
+  __TEXT.__swift5_typeref: 0x982e
+  __TEXT.__swift5_fieldmd: 0x147f0
+  __TEXT.__swift5_types: 0x12bc
+  __TEXT.__swift5_reflstr: 0x12c54
+  __TEXT.__swift5_assocty: 0x3b30
+  __TEXT.__cstring: 0x69ac7
+  __TEXT.__oslogstring: 0x1cc
+  __TEXT.__swift5_proto: 0x5c80
+  __TEXT.__swift5_capture: 0x35f0
   __TEXT.__swift5_protos: 0x40
-  __TEXT.__swift5_builtin: 0x5f0
-  __TEXT.__swift5_mpenum: 0x5b8
-  __TEXT.__unwind_info: 0x19620
-  __TEXT.__eh_frame: 0x201fc
-  __TEXT.__objc_classname: 0x5a65
-  __TEXT.__objc_methname: 0x16fab
-  __TEXT.__objc_methtype: 0x2edb
-  __TEXT.__objc_stubs: 0x8b00
-  __DATA_CONST.__got: 0xfd0
-  __DATA_CONST.__const: 0x2d98
-  __DATA_CONST.__objc_classlist: 0xbc0
+  __TEXT.__swift5_builtin: 0x604
+  __TEXT.__swift5_mpenum: 0x5cc
+  __TEXT.__unwind_info: 0x197e0
+  __TEXT.__eh_frame: 0x2046c
+  __TEXT.__objc_classname: 0x5b3b
+  __TEXT.__objc_methname: 0x17275
+  __TEXT.__objc_methtype: 0x2f6d
+  __TEXT.__objc_stubs: 0x8bc0
+  __DATA_CONST.__got: 0xfe0
+  __DATA_CONST.__const: 0x2e88
+  __DATA_CONST.__objc_classlist: 0xbd0
   __DATA_CONST.__objc_catlist: 0x8
   __DATA_CONST.__objc_protolist: 0x50
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x3230
+  __DATA_CONST.__objc_selrefs: 0x3280
   __DATA_CONST.__objc_protorefs: 0x10
   __DATA_CONST.__objc_superrefs: 0x60
   __AUTH_CONST.__auth_got: 0xc90
-  __AUTH_CONST.__const: 0x3ac30
-  __AUTH_CONST.__cfstring: 0xe3c0
-  __AUTH_CONST.__objc_const: 0x217b8
-  __AUTH.__objc_data: 0x7238
-  __AUTH.__data: 0x2c88
-  __DATA.__objc_ivar: 0x17b4
-  __DATA.__data: 0x9a98
-  __DATA.__bss: 0x63b60
-  __DATA.__common: 0x5d08
+  __AUTH_CONST.__const: 0x3b078
+  __AUTH_CONST.__cfstring: 0xe560
+  __AUTH_CONST.__objc_const: 0x21ad8
+  __AUTH.__objc_data: 0x72d8
+  __AUTH.__data: 0x2cd0
+  __DATA.__objc_ivar: 0x17dc
+  __DATA.__data: 0x9b20
+  __DATA.__bss: 0x64280
+  __DATA.__common: 0x5d80
   __DATA_DIRTY.__objc_data: 0x7d0
-  __DATA_DIRTY.__data: 0x5c48
-  __DATA_DIRTY.__bss: 0xa2d0
+  __DATA_DIRTY.__data: 0x5cd8
+  __DATA_DIRTY.__bss: 0xa4e0
   __DATA_DIRTY.__common: 0x18
   - /System/Library/Frameworks/Combine.framework/Combine
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswift_DarwinFoundation1.dylib
   - /usr/lib/swift/libswiftos.dylib
-  UUID: 864C1259-BC79-30AA-B18B-3F468E48A689
-  Functions: 49742
-  Symbols:   46457
-  CStrings:  13507
+  UUID: 33529EAB-1E9B-3747-B3AA-2173648D728F
+  Functions: 49981
+  Symbols:   46704
+  CStrings:  13583
 
Symbols:
+ +[CCToolKitToolToolInvocationOptions contentMessageClass]
+ +[CCToolKitToolToolInvocationOptions descriptionForTypeIdentifier:]
+ +[CCToolKitToolToolInvocationOptions itemType]
+ +[CCToolKitToolToolInvocationOptions metaContentMessageClass]
+ +[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage contentMessageClass]
+ +[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage descriptionForTypeIdentifier:]
+ +[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage itemType]
+ +[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage metaContentMessageClass]
+ -[CCItemField(CCToolKitToolToolInvocationOptions_interactionMode) toolKitToolToolInvocationOptionsInteractionMode]
+ -[CCItemField(CCToolKitToolToolInvocationOptions_interfaceIdiom) toolKitToolToolInvocationOptionsInterfaceIdiom]
+ -[CCToolKitToolToolInvocation initWithIdentifier:toolIdentifier:target:parameterValues:options:error:]
+ -[CCToolKitToolToolInvocation options]
+ -[CCToolKitToolToolInvocationOptions .cxx_destruct]
+ -[CCToolKitToolToolInvocationOptions enumerateFieldsUsingBlock:parentFieldType:]
+ -[CCToolKitToolToolInvocationOptions hasShortcutOutput]
+ -[CCToolKitToolToolInvocationOptions initWithInteractionMode:locale:requestIdentifier:interfaceIdiom:shortcutOutput:error:]
+ -[CCToolKitToolToolInvocationOptions initWithJSONDictionary:error:]
+ -[CCToolKitToolToolInvocationOptions initializeFieldValuesFromData:error:]
+ -[CCToolKitToolToolInvocationOptions interactionMode]
+ -[CCToolKitToolToolInvocationOptions interfaceIdiom]
+ -[CCToolKitToolToolInvocationOptions jsonDictionary]
+ -[CCToolKitToolToolInvocationOptions locale]
+ -[CCToolKitToolToolInvocationOptions requestIdentifier]
+ -[CCToolKitToolToolInvocationOptions setHasShortcutOutput:]
+ -[CCToolKitToolToolInvocationOptions shortcutOutput]
+ -[CCToolKitToolTypedValueDeferredValueStorage defaultValue]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage .cxx_destruct]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage actionIdentifier]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage enumerateFieldsUsingBlock:parentFieldType:]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage initWithActionIdentifier:parameterKey:error:]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage initWithJSONDictionary:error:]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage initializeFieldValuesFromData:error:]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage jsonDictionary]
+ -[CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage parameterKey]
+ _CCToolKitToolToolInvocationOptionsInteractionModeAsString
+ _CCToolKitToolToolInvocationOptionsInteractionModeDecode
+ _CCToolKitToolToolInvocationOptionsInteractionModeFromString
+ _CCToolKitToolToolInvocationOptionsInteractionModeFromString.sortedEnums
+ _CCToolKitToolToolInvocationOptionsInteractionModeFromString.sortedStrings
+ _CCToolKitToolToolInvocationOptionsInterfaceIdiomAsString
+ _CCToolKitToolToolInvocationOptionsInterfaceIdiomDecode
+ _CCToolKitToolToolInvocationOptionsInterfaceIdiomFromString
+ _CCToolKitToolToolInvocationOptionsInterfaceIdiomFromString.sortedEnums
+ _CCToolKitToolToolInvocationOptionsInterfaceIdiomFromString.sortedStrings
+ _OBJC_CLASS_$_CCToolKitToolToolInvocationOptions
+ _OBJC_CLASS_$_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ _OBJC_IVAR_$_CCToolKitToolToolInvocation._options
+ _OBJC_IVAR_$_CCToolKitToolToolInvocationOptions._hasShortcutOutput
+ _OBJC_IVAR_$_CCToolKitToolToolInvocationOptions._interactionMode
+ _OBJC_IVAR_$_CCToolKitToolToolInvocationOptions._interfaceIdiom
+ _OBJC_IVAR_$_CCToolKitToolToolInvocationOptions._locale
+ _OBJC_IVAR_$_CCToolKitToolToolInvocationOptions._requestIdentifier
+ _OBJC_IVAR_$_CCToolKitToolToolInvocationOptions._shortcutOutput
+ _OBJC_IVAR_$_CCToolKitToolTypedValueDeferredValueStorage._defaultValue
+ _OBJC_IVAR_$_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage._actionIdentifier
+ _OBJC_IVAR_$_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage._parameterKey
+ _OBJC_METACLASS_$_CCToolKitToolToolInvocationOptions
+ _OBJC_METACLASS_$_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ _OUTLINED_FUNCTION_465
+ _OUTLINED_FUNCTION_666
+ _OUTLINED_FUNCTION_667
+ _OUTLINED_FUNCTION_668
+ _OUTLINED_FUNCTION_669
+ _OUTLINED_FUNCTION_670
+ __OBJC_$_CLASS_METHODS_CCToolKitToolToolInvocationOptions
+ __OBJC_$_CLASS_METHODS_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ __OBJC_$_INSTANCE_METHODS_CCItemField(CCAssistantSchema_type|CCHomeService_deviceType|CCHomeAccessory_deviceType|CCMediaLinkedIdentifier_type|CCPhotosPetRelationshipContent_type|CCRadioStationContent_signalType|CCSignificantLocationSubPremise_type|CCSiriCompanionContextAudioContent_mediaCategories|CCSiriCompanionContextAudioContent_subscriptionStatus|CCWalletPaymentsCommerceTrackedOrderShippingFulfillment_status|CCWalletPaymentsCommerceOrderEmailShippingInformation_status|CCWalletPaymentsCommerceOrderEmail_emailType|CCWalletExtractedOrderContentExtractedEmailOrderDetails_orderContentType|CCWalletExtractedOrderContentExtractedEmailShippingDetails_status|CCWalletExtractedOrderContentExtractedEmail_emailType|CCWalletExtractedOrderContentShippingFulfillment_status|CCWalletExtractedOrderContent_orderStatus|CCToolKitToolTypeIdentifierPrimitive_none_p|CCToolKitToolTypeIdentifierPrimitive_boolType|CCToolKitToolTypeIdentifierPrimitive_intType|CCToolKitToolTypeIdentifierPrimitive_number|CCToolKitToolTypeIdentifierPrimitive_decimal|CCToolKitToolTypeIdentifierPrimitive_string|CCToolKitToolTypeIdentifierPrimitive_date|CCToolKitToolTypeIdentifierPrimitive_dateComponents|CCToolKitToolTypeIdentifierPrimitive_url|CCToolKitToolTypeIdentifierPrimitive_dictionary|CCToolKitToolTypeIdentifierPrimitive_attributedString|CCToolKitToolTypeIdentifierPrimitive_measurement|CCToolKitToolTypeIdentifierPrimitive_currencyAmount|CCToolKitToolTypeIdentifierPrimitive_paymentMethod|CCToolKitToolTypeIdentifierPrimitive_placemark|CCToolKitToolTypeIdentifierPrimitive_person|CCToolKitToolTypeIdentifierPrimitive_file|CCToolKitToolTypeIdentifierPrimitive_app|CCToolKitToolTypeIdentifierPrimitive_searchableItem|CCToolKitToolTypeIdentifierPrimitive_intentsFile|CCToolKitToolTypeIdentifierPrimitive_shortcut|CCToolKitToolTypeIdentifierPrimitive_recurrenceRule|CCToolKitToolTypeIdentifierPrimitive_dateInterval|CCToolKitToolTypeIdentifierPrimitive_personNameComponents|CCToolKitToolTypeIdentifierPrimitive_duration|CCToolKitToolTypeIdentifierBuiltin_app|CCToolKitToolTypeIdentifierBuiltin_boundNumber|CCToolKitToolTypeIdentifierBuiltin_calendar|CCToolKitToolTypeIdentifierBuiltin_color|CCToolKitToolTypeIdentifierBuiltin_currency|CCToolKitToolTypeIdentifierBuiltin_file|CCToolKitToolTypeIdentifierBuiltin_homeArea|CCToolKitToolTypeIdentifierBuiltin_mediaRoute|CCToolKitToolTypeIdentifierBuiltin_paymentMethod|CCToolKitToolTypeIdentifierBuiltin_podcast|CCToolKitToolTypeIdentifierBuiltin_person|CCToolKitToolTypeIdentifierBuiltin_placemark|CCToolKitToolTypeIdentifierBuiltin_rideshareOption|CCToolKitToolTypeIdentifierBuiltin_vpn|CCToolKitToolTypeIdentifierBuiltin_timeZone|CCToolKitToolTypeIdentifierBuiltin_measurement|CCToolKitToolSystemTypeProtocol_unk|CCToolKitToolSystemTypeProtocol_mailAccount|CCToolKitToolSystemTypeProtocol_mailAddressee|CCToolKitToolSystemTypeProtocol_mailMessage|CCToolKitToolSystemTypeProtocol_mailbox|CCToolKitToolSystemTypeProtocol_intentMessage|CCToolKitToolSystemTypeProtocol_messageGroup|CCToolKitToolSystemTypeProtocol_messageParticipants|CCToolKitToolSystemTypeProtocol_uniqueEntity|CCToolKitToolSystemTypeProtocol_urlRepresentable|CCToolKitToolSystemTypeProtocol_visualSearch|CCToolKitToolSystemTypeProtocol_visualSearchOcr|CCToolKitToolSystemTypeProtocol_updatableEntity|CCToolKitToolSystemTypeProtocol_transientEntity|CCToolKitToolSystemTypeProtocol_indexedEntity|CCToolKitToolTypeDefinitionVersion1Entity_runtimeFlags|CCToolKitToolTypeDefinitionVersion1Enumeration_kind|CCToolKitToolTypedValuePrimitiveValueDecimal_sign|CCToolKitToolTypedValuePrimitiveValueMeasurement_unitType|CCToolKitToolTypedValuePrimitiveValuePaymentMethod_type|CCToolKitToolTypedValuePrimitiveValuePlacemark_type|CCToolKitToolTypedValuePrimitiveValuePersonHandle_type|CCToolKitToolTypedValuePrimitiveValueDateComponentsCalendar_identifier|CCToolKitToolTypedValuePrimitiveValueRecurrenceRuleRecurrenceRuleWeekday_RecurrenceRuleWeekdayWeekday|CCToolKitToolTypedValuePrimitiveValueRecurrenceRule_frequency|CCToolKitToolTypedValuePrimitiveValueRecurrenceRule_matchingPolicy|CCToolKitToolTypedValuePrimitiveValueRecurrenceRule_repeatedTimePolicy|CCToolKitToolTypedValuePrimitiveValue_noneVariant|CCToolKitToolRestrictionContextTextTypedWith_keyboardType|CCToolKitToolRestrictionContextTextTypedWith_autocorrectionType|CCToolKitToolRestrictionContextTextTypedWith_capitalizationType|CCToolKitToolRestrictionContext_personReachableAs|CCToolKitToolRestrictionContext_dateExpressibleAs|CCToolKitToolComparisonPredicateComparisonTemplate_hasValue|CCToolKitToolComparisonPredicateComparisonTemplate_hasNoValue|CCToolKitToolComparisonPredicateComparisonTemplate_isToday|CCToolKitToolComparisonPredicateComparison_hasValue|CCToolKitToolComparisonPredicateComparison_hasNoValue|CCToolKitToolComparisonPredicateComparison_isToday|CCToolKitToolCompoundPredicate_operatorType|CCToolKitToolQuery_sort|CCToolKitToolRuntimeRequirementAvailabilityAnnotation_platform|CCToolKitToolRuntimeRequirementDeviceCapability_capability|CCToolKitToolRuntimeRequirement_deviceState|CCToolKitToolSystemToolProtocolIntentSideEffect_unk|CCToolKitToolSystemToolProtocolIntentSideEffect_noSideEffect|CCToolKitToolSystemToolProtocol_unk|CCToolKitToolSystemToolProtocol_undoable|CCToolKitToolSystemToolProtocol_sessionStarting|CCToolKitToolSystemToolProtocol_urlRepresentable|CCToolKitToolSystemToolProtocol_foregroundContinuable|CCToolKitToolSystemToolProtocol_changeBinarySetting|CCToolKitToolSystemToolProtocol_requiresMdmChecks|CCToolKitToolSystemToolProtocol_cut|CCToolKitToolSystemToolProtocol_copyProtocol|CCToolKitToolSystemToolProtocol_paste|CCToolKitToolSystemToolProtocol_cancel|CCToolKitToolSystemToolProtocol_resize|CCToolKitToolSystemToolProtocol_scroll|CCToolKitToolSystemToolProtocol_undo|CCToolKitToolSystemToolProtocol_zoom|CCToolKitToolSystemToolProtocol_closeEntity|CCToolKitToolSystemToolProtocol_createEntity|CCToolKitToolSystemToolProtocol_cutEntity|CCToolKitToolSystemToolProtocol_deleteEntity|CCToolKitToolSystemToolProtocol_duplicateEntity|CCToolKitToolSystemToolProtocol_favoriteEntity|CCToolKitToolSystemToolProtocol_openEntity|CCToolKitToolSystemToolProtocol_previewEntity|CCToolKitToolSystemToolProtocol_saveEntity|CCToolKitToolSystemToolProtocol_putEntityInContainer|CCToolKitToolSystemToolProtocol_audioStarting|CCToolKitToolSystemToolProtocol_audioRecording|CCToolKitToolSystemToolProtocol_pushToTalkTransmission|CCToolKitToolSystemToolProtocol_startDive|CCToolKitToolSystemToolProtocol_startWorkout|CCToolKitToolSystemToolProtocol_pauseWorkout|CCToolKitToolSystemToolProtocol_resumeWorkout|CCToolKitToolSystemToolProtocol_enterMarkup|CCToolKitToolSystemToolProtocol_exitMarkup|CCToolKitToolSystemToolProtocol_focusConfiguration|CCToolKitToolSystemToolProtocol_widgetConfiguration|CCToolKitToolSystemToolProtocol_search|CCToolKitToolSystemToolProtocol_showSearchResultsInApp|CCToolKitToolSystemToolProtocol_showStringSearchResultsInApp|CCToolKitToolSystemToolProtocol_showInAppSearchResults|CCToolKitToolSystemToolProtocol_moveSpatial|CCToolKitToolSystemToolProtocol_navigateSequentially|CCToolKitToolSystemToolProtocol_sting|CCToolKitToolSystemToolProtocol_toggle|CCToolKitToolSystemToolProtocol_cameraCapture|CCToolKitToolSystemToolProtocol_staccatoLongPress|CCToolKitToolSystemToolProtocol_sendMail|CCToolKitToolSystemToolProtocol_setMailMessageIsRead|CCToolKitToolSystemToolProtocol_rewriteWritingTool|CCToolKitToolSystemToolProtocol_proofreadWritingTool|CCToolKitToolSystemToolProtocol_assistantInvocable|CCToolKitToolSystemToolProtocol_systemFrameworkIntent|CCToolKitToolSystemToolProtocol_progressReporting|CCToolKitToolSystemToolProtocol_controlConfiguration|CCToolKitToolSystemToolProtocol_valueSetting|CCToolKitToolSystemToolProtocol_entityGetter|CCToolKitToolToolDefinitionVersion1ParameterRelationshipRelation_isSome|CCToolKitToolToolDefinitionVersion1ParameterRelationshipRelation_isNone|CCToolKitToolToolDefinitionVersion1Parameter_flags|CCToolKitToolToolDefinitionVersion1ToolIconToolSymbolIcon_style|CCToolKitToolToolDefinitionVersion1_toolType|CCToolKitToolToolDefinitionVersion1_flags|CCToolKitToolToolDefinitionVersion1_authenticationPolicy|CCToolKitToolToolDefinitionVersion1_visibilityFlags|CCToolKitToolAppDefinitionDevice_local|CCToolKitToolAppDefinition_origin|CCToolKitToolContainerDefinitionDevice_local|CCToolKitToolContainerDefinition_containerType|CCToolKitToolContainerDefinition_origin|CCToolKitToolDisplayRepresentationDisplayValue_type|CCToolKitToolCoercionDefinition_direction|CCToolKitToolTriggerDefinitionVersion1_flags|CCToolKitToolToolInvocationOptions_interactionMode|CCToolKitToolToolInvocationOptions_interfaceIdiom)
+ __OBJC_$_INSTANCE_METHODS_CCToolKitToolToolInvocationOptions
+ __OBJC_$_INSTANCE_METHODS_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ __OBJC_$_INSTANCE_VARIABLES_CCToolKitToolToolInvocationOptions
+ __OBJC_$_INSTANCE_VARIABLES_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ __OBJC_$_PROP_LIST_CCToolKitToolToolInvocationOptions
+ __OBJC_$_PROP_LIST_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ __OBJC_CLASS_RO_$_CCToolKitToolToolInvocationOptions
+ __OBJC_CLASS_RO_$_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ __OBJC_METACLASS_RO_$_CCToolKitToolToolInvocationOptions
+ __OBJC_METACLASS_RO_$_CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage
+ ___CCToolKitToolToolInvocationOptionsInteractionModeFromString_block_invoke
+ ___CCToolKitToolToolInvocationOptionsInterfaceIdiomFromString_block_invoke
+ ___block_literal_global.30.7059
+ ___block_literal_global.566
+ ___block_literal_global.583
+ ___block_literal_global.7039
+ ___swift_memcpy107_8
+ ___swift_memcpy59_8
+ _associated conformance 27IntelligencePlatformLibrary05AppleA20ReportingSpanContextVSHAASQ
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitD10TypedValueO08DeferredG0V7StorageO022ActionParameterDefaultgI0VSHAASQ
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV14InterfaceIdiomOSHAASQ
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV14InterfaceIdiomOs12CaseIterableAA8AllCasessAFP_Sl
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV14InterfaceIdiomOs25LosslessStringConvertibleAAs06CustomkL0
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV15InteractionModeOSHAASQ
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV15InteractionModeOs12CaseIterableAA8AllCasessAFP_Sl
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV15InteractionModeOs25LosslessStringConvertibleAAs06CustomkL0
+ _associated conformance 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsVSHAASQ
+ _get_enum_tag_for_layout_string 27IntelligencePlatformLibrary07ToolKitD10TypedValueO08DeferredG0V7StorageO
+ _get_enum_tag_for_layout_string 27IntelligencePlatformLibrary07ToolKitD10TypedValueO08DeferredG0V7StorageOSg
+ _get_enum_tag_for_layout_string 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsVSg
+ _objc_msgSend$initWithActionIdentifier:parameterKey:error:
+ _objc_msgSend$initWithIdentifier:toolIdentifier:target:parameterValues:options:error:
+ _objc_msgSend$initWithInteractionMode:locale:requestIdentifier:interfaceIdiom:shortcutOutput:error:
+ _objc_msgSend$interactionMode
+ _objc_msgSend$interfaceIdiom
+ _objc_msgSend$requestIdentifier
+ _objc_msgSend$shortcutOutput
+ _objectdestroy.140Tm
+ _objectdestroy.165Tm
+ _objectdestroy.209Tm
+ _objectdestroy.221Tm
+ _objectdestroy.372Tm
+ _objectdestroy.405Tm
+ _objectdestroy.431Tm
+ _objectdestroy.80Tm
+ _symbolic Say_____G 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV14InterfaceIdiomO
+ _symbolic Say_____G 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV15InteractionModeO
+ _symbolic _____ 27IntelligencePlatformLibrary05AppleA20ReportingSpanContextV
+ _symbolic _____ 27IntelligencePlatformLibrary07ToolKitD10TypedValueO08DeferredG0V7StorageO022ActionParameterDefaultgI0V
+ _symbolic _____ 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV
+ _symbolic _____ 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV14InterfaceIdiomO
+ _symbolic _____ 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV15InteractionModeO
+ _symbolic _____Sg 27IntelligencePlatformLibrary05AppleA20ReportingSpanContextV
+ _symbolic _____Sg 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV
+ _symbolic _____Sg 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV14InterfaceIdiomO
+ _symbolic _____Sg 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV15InteractionModeO
+ _symbolic _____Sg_ABt 27IntelligencePlatformLibrary05AppleA20ReportingSpanContextV
+ _symbolic _____Sg_ABt 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 27IntelligencePlatformLibrary07ToolKitgG17InvocationOptionsV14InterfaceIdiomO
+ _symbolic _____y_____G s23_ContiguousArrayStorageC 27IntelligencePlatformLibrary07ToolKitgG17InvocationOptionsV15InteractionModeO
+ _type_layout_string 27IntelligencePlatformLibrary07ToolKitdD17InvocationOptionsV
- -[CCToolKitToolToolInvocation initWithIdentifier:toolIdentifier:target:parameterValues:error:]
- _OUTLINED_FUNCTION_597
- _OUTLINED_FUNCTION_598
- _OUTLINED_FUNCTION_599
- __OBJC_$_INSTANCE_METHODS_CCItemField(CCAssistantSchema_type|CCHomeService_deviceType|CCHomeAccessory_deviceType|CCMediaLinkedIdentifier_type|CCPhotosPetRelationshipContent_type|CCRadioStationContent_signalType|CCSignificantLocationSubPremise_type|CCSiriCompanionContextAudioContent_mediaCategories|CCSiriCompanionContextAudioContent_subscriptionStatus|CCWalletPaymentsCommerceTrackedOrderShippingFulfillment_status|CCWalletPaymentsCommerceOrderEmailShippingInformation_status|CCWalletPaymentsCommerceOrderEmail_emailType|CCWalletExtractedOrderContentExtractedEmailOrderDetails_orderContentType|CCWalletExtractedOrderContentExtractedEmailShippingDetails_status|CCWalletExtractedOrderContentExtractedEmail_emailType|CCWalletExtractedOrderContentShippingFulfillment_status|CCWalletExtractedOrderContent_orderStatus|CCToolKitToolTypeIdentifierPrimitive_none_p|CCToolKitToolTypeIdentifierPrimitive_boolType|CCToolKitToolTypeIdentifierPrimitive_intType|CCToolKitToolTypeIdentifierPrimitive_number|CCToolKitToolTypeIdentifierPrimitive_decimal|CCToolKitToolTypeIdentifierPrimitive_string|CCToolKitToolTypeIdentifierPrimitive_date|CCToolKitToolTypeIdentifierPrimitive_dateComponents|CCToolKitToolTypeIdentifierPrimitive_url|CCToolKitToolTypeIdentifierPrimitive_dictionary|CCToolKitToolTypeIdentifierPrimitive_attributedString|CCToolKitToolTypeIdentifierPrimitive_measurement|CCToolKitToolTypeIdentifierPrimitive_currencyAmount|CCToolKitToolTypeIdentifierPrimitive_paymentMethod|CCToolKitToolTypeIdentifierPrimitive_placemark|CCToolKitToolTypeIdentifierPrimitive_person|CCToolKitToolTypeIdentifierPrimitive_file|CCToolKitToolTypeIdentifierPrimitive_app|CCToolKitToolTypeIdentifierPrimitive_searchableItem|CCToolKitToolTypeIdentifierPrimitive_intentsFile|CCToolKitToolTypeIdentifierPrimitive_shortcut|CCToolKitToolTypeIdentifierPrimitive_recurrenceRule|CCToolKitToolTypeIdentifierPrimitive_dateInterval|CCToolKitToolTypeIdentifierPrimitive_personNameComponents|CCToolKitToolTypeIdentifierPrimitive_duration|CCToolKitToolTypeIdentifierBuiltin_app|CCToolKitToolTypeIdentifierBuiltin_boundNumber|CCToolKitToolTypeIdentifierBuiltin_calendar|CCToolKitToolTypeIdentifierBuiltin_color|CCToolKitToolTypeIdentifierBuiltin_currency|CCToolKitToolTypeIdentifierBuiltin_file|CCToolKitToolTypeIdentifierBuiltin_homeArea|CCToolKitToolTypeIdentifierBuiltin_mediaRoute|CCToolKitToolTypeIdentifierBuiltin_paymentMethod|CCToolKitToolTypeIdentifierBuiltin_podcast|CCToolKitToolTypeIdentifierBuiltin_person|CCToolKitToolTypeIdentifierBuiltin_placemark|CCToolKitToolTypeIdentifierBuiltin_rideshareOption|CCToolKitToolTypeIdentifierBuiltin_vpn|CCToolKitToolTypeIdentifierBuiltin_timeZone|CCToolKitToolTypeIdentifierBuiltin_measurement|CCToolKitToolSystemTypeProtocol_unk|CCToolKitToolSystemTypeProtocol_mailAccount|CCToolKitToolSystemTypeProtocol_mailAddressee|CCToolKitToolSystemTypeProtocol_mailMessage|CCToolKitToolSystemTypeProtocol_mailbox|CCToolKitToolSystemTypeProtocol_intentMessage|CCToolKitToolSystemTypeProtocol_messageGroup|CCToolKitToolSystemTypeProtocol_messageParticipants|CCToolKitToolSystemTypeProtocol_uniqueEntity|CCToolKitToolSystemTypeProtocol_urlRepresentable|CCToolKitToolSystemTypeProtocol_visualSearch|CCToolKitToolSystemTypeProtocol_visualSearchOcr|CCToolKitToolSystemTypeProtocol_updatableEntity|CCToolKitToolSystemTypeProtocol_transientEntity|CCToolKitToolSystemTypeProtocol_indexedEntity|CCToolKitToolTypeDefinitionVersion1Entity_runtimeFlags|CCToolKitToolTypeDefinitionVersion1Enumeration_kind|CCToolKitToolTypedValuePrimitiveValueDecimal_sign|CCToolKitToolTypedValuePrimitiveValueMeasurement_unitType|CCToolKitToolTypedValuePrimitiveValuePaymentMethod_type|CCToolKitToolTypedValuePrimitiveValuePlacemark_type|CCToolKitToolTypedValuePrimitiveValuePersonHandle_type|CCToolKitToolTypedValuePrimitiveValueDateComponentsCalendar_identifier|CCToolKitToolTypedValuePrimitiveValueRecurrenceRuleRecurrenceRuleWeekday_RecurrenceRuleWeekdayWeekday|CCToolKitToolTypedValuePrimitiveValueRecurrenceRule_frequency|CCToolKitToolTypedValuePrimitiveValueRecurrenceRule_matchingPolicy|CCToolKitToolTypedValuePrimitiveValueRecurrenceRule_repeatedTimePolicy|CCToolKitToolTypedValuePrimitiveValue_noneVariant|CCToolKitToolRestrictionContextTextTypedWith_keyboardType|CCToolKitToolRestrictionContextTextTypedWith_autocorrectionType|CCToolKitToolRestrictionContextTextTypedWith_capitalizationType|CCToolKitToolRestrictionContext_personReachableAs|CCToolKitToolRestrictionContext_dateExpressibleAs|CCToolKitToolComparisonPredicateComparisonTemplate_hasValue|CCToolKitToolComparisonPredicateComparisonTemplate_hasNoValue|CCToolKitToolComparisonPredicateComparisonTemplate_isToday|CCToolKitToolComparisonPredicateComparison_hasValue|CCToolKitToolComparisonPredicateComparison_hasNoValue|CCToolKitToolComparisonPredicateComparison_isToday|CCToolKitToolCompoundPredicate_operatorType|CCToolKitToolQuery_sort|CCToolKitToolRuntimeRequirementAvailabilityAnnotation_platform|CCToolKitToolRuntimeRequirementDeviceCapability_capability|CCToolKitToolRuntimeRequirement_deviceState|CCToolKitToolSystemToolProtocolIntentSideEffect_unk|CCToolKitToolSystemToolProtocolIntentSideEffect_noSideEffect|CCToolKitToolSystemToolProtocol_unk|CCToolKitToolSystemToolProtocol_undoable|CCToolKitToolSystemToolProtocol_sessionStarting|CCToolKitToolSystemToolProtocol_urlRepresentable|CCToolKitToolSystemToolProtocol_foregroundContinuable|CCToolKitToolSystemToolProtocol_changeBinarySetting|CCToolKitToolSystemToolProtocol_requiresMdmChecks|CCToolKitToolSystemToolProtocol_cut|CCToolKitToolSystemToolProtocol_copyProtocol|CCToolKitToolSystemToolProtocol_paste|CCToolKitToolSystemToolProtocol_cancel|CCToolKitToolSystemToolProtocol_resize|CCToolKitToolSystemToolProtocol_scroll|CCToolKitToolSystemToolProtocol_undo|CCToolKitToolSystemToolProtocol_zoom|CCToolKitToolSystemToolProtocol_closeEntity|CCToolKitToolSystemToolProtocol_createEntity|CCToolKitToolSystemToolProtocol_cutEntity|CCToolKitToolSystemToolProtocol_deleteEntity|CCToolKitToolSystemToolProtocol_duplicateEntity|CCToolKitToolSystemToolProtocol_favoriteEntity|CCToolKitToolSystemToolProtocol_openEntity|CCToolKitToolSystemToolProtocol_previewEntity|CCToolKitToolSystemToolProtocol_saveEntity|CCToolKitToolSystemToolProtocol_putEntityInContainer|CCToolKitToolSystemToolProtocol_audioStarting|CCToolKitToolSystemToolProtocol_audioRecording|CCToolKitToolSystemToolProtocol_pushToTalkTransmission|CCToolKitToolSystemToolProtocol_startDive|CCToolKitToolSystemToolProtocol_startWorkout|CCToolKitToolSystemToolProtocol_pauseWorkout|CCToolKitToolSystemToolProtocol_resumeWorkout|CCToolKitToolSystemToolProtocol_enterMarkup|CCToolKitToolSystemToolProtocol_exitMarkup|CCToolKitToolSystemToolProtocol_focusConfiguration|CCToolKitToolSystemToolProtocol_widgetConfiguration|CCToolKitToolSystemToolProtocol_search|CCToolKitToolSystemToolProtocol_showSearchResultsInApp|CCToolKitToolSystemToolProtocol_showStringSearchResultsInApp|CCToolKitToolSystemToolProtocol_showInAppSearchResults|CCToolKitToolSystemToolProtocol_moveSpatial|CCToolKitToolSystemToolProtocol_navigateSequentially|CCToolKitToolSystemToolProtocol_sting|CCToolKitToolSystemToolProtocol_toggle|CCToolKitToolSystemToolProtocol_cameraCapture|CCToolKitToolSystemToolProtocol_staccatoLongPress|CCToolKitToolSystemToolProtocol_sendMail|CCToolKitToolSystemToolProtocol_setMailMessageIsRead|CCToolKitToolSystemToolProtocol_rewriteWritingTool|CCToolKitToolSystemToolProtocol_proofreadWritingTool|CCToolKitToolSystemToolProtocol_assistantInvocable|CCToolKitToolSystemToolProtocol_systemFrameworkIntent|CCToolKitToolSystemToolProtocol_progressReporting|CCToolKitToolSystemToolProtocol_controlConfiguration|CCToolKitToolSystemToolProtocol_valueSetting|CCToolKitToolSystemToolProtocol_entityGetter|CCToolKitToolToolDefinitionVersion1ParameterRelationshipRelation_isSome|CCToolKitToolToolDefinitionVersion1ParameterRelationshipRelation_isNone|CCToolKitToolToolDefinitionVersion1Parameter_flags|CCToolKitToolToolDefinitionVersion1ToolIconToolSymbolIcon_style|CCToolKitToolToolDefinitionVersion1_toolType|CCToolKitToolToolDefinitionVersion1_flags|CCToolKitToolToolDefinitionVersion1_authenticationPolicy|CCToolKitToolToolDefinitionVersion1_visibilityFlags|CCToolKitToolAppDefinitionDevice_local|CCToolKitToolAppDefinition_origin|CCToolKitToolContainerDefinitionDevice_local|CCToolKitToolContainerDefinition_containerType|CCToolKitToolContainerDefinition_origin|CCToolKitToolDisplayRepresentationDisplayValue_type|CCToolKitToolCoercionDefinition_direction|CCToolKitToolTriggerDefinitionVersion1_flags)
- ___block_literal_global.30.7063
- ___block_literal_global.7043
- ___swift_assignWithCopy_strong
- ___swift_assignWithTake_strong
- ___swift_destroy_strong
- ___swift_initWithCopy_strong
- _objc_msgSend$initWithIdentifier:toolIdentifier:target:parameterValues:error:
- _objectdestroy.137Tm
- _objectdestroy.162Tm
- _objectdestroy.206Tm
- _objectdestroy.218Tm
- _objectdestroy.369Tm
- _objectdestroy.402Tm
- _objectdestroy.428Tm
CStrings:
+ "331f20cd-495e-46ad-b8a8-2b4a3a536a6f"
+ "5f5a34a67e9b28853a6f2a7c80e24287449584bb2b07465e519cc39dbdb47f50"
+ "@\"CCToolKitToolToolInvocationOptions\""
+ "@\"CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage\""
+ "@56@0:8I16@20@28I36@40^@48"
+ "AirPods"
+ "AppleIntelligenceReportingSpanContext"
+ "CCToolKitToolToolInvocationOptions"
+ "CCToolKitToolToolInvocationOptions_interactionMode"
+ "CCToolKitToolToolInvocationOptions_interfaceIdiom"
+ "CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage"
+ "CarPlay"
+ "DisplayForward"
+ "DisplayOnly"
+ "EyesFree"
+ "HomePod"
+ "InteractionModeDisplayForward"
+ "InteractionModeDisplayOnly"
+ "InteractionModeUnknown"
+ "InteractionModeVoiceForward"
+ "InteractionModeVoiceOnly"
+ "InterfaceIdiomAirPods"
+ "InterfaceIdiomCarPlay"
+ "InterfaceIdiomEyesFree"
+ "InterfaceIdiomHomePod"
+ "InterfaceIdiomMac"
+ "InterfaceIdiomPad"
+ "InterfaceIdiomPhone"
+ "InterfaceIdiomTv"
+ "InterfaceIdiomUnknown"
+ "InterfaceIdiomVision"
+ "InterfaceIdiomWatch"
+ "T@\"CCToolKitToolToolInvocationOptions\",R,N,V_options"
+ "T@\"CCToolKitToolTypedValueDeferredValueStorageActionParameterDefaultValueStorage\",R,N,V_defaultValue"
+ "T@\"NSString\",R,N,V_requestIdentifier"
+ "TB,N,V_hasShortcutOutput"
+ "TB,R,N,V_shortcutOutput"
+ "TI,R,N,V_interactionMode"
+ "TI,R,N,V_interfaceIdiom"
+ "ToolKitToolToolInvocationOptions"
+ "ToolKitToolTypedValue.DeferredValue.Storage.ActionParameterDefaultValueStorage"
+ "Unable to unwrap event with nil bookmark"
+ "VoiceForward"
+ "VoiceOnly"
+ "_hasShortcutOutput"
+ "_interactionMode"
+ "_interfaceIdiom"
+ "_requestIdentifier"
+ "_shortcutOutput"
+ "hasShortcutOutput"
+ "initWithActionIdentifier:parameterKey:error:"
+ "initWithIdentifier:toolIdentifier:target:parameterValues:options:error:"
+ "initWithInteractionMode:locale:requestIdentifier:interfaceIdiom:shortcutOutput:error:"
+ "interactionMode"
+ "interfaceIdiom"
+ "parentSpanId"
+ "requestIdentifier"
+ "setHasShortcutOutput:"
+ "shortcutOutput"
+ "spanContext"
+ "toolKitToolToolInvocationOptionsInteractionMode"
+ "toolKitToolToolInvocationOptionsInterfaceIdiom"
+ "{\"configHash\": \"5f5a34a67e9b28853a6f2a7c80e24287449584bb2b07465e519cc39dbdb47f50\", \"dependencies\": [\"WalletOrderFields\", \"WalletTrackedOrderFields\", \"WalletOrder\", \"WalletOrderEmail\", \"WalletOrderPayment\", \"WalletOrderTransaction\", \"WalletOrderShipmentFullFillmentInfo\", \"WalletOrderPerson\"], \"dependents\": [\"WalletCascadeInsert\"], \"deployment\": [\"production\"], \"featureFlag\": \"OrionSQL\", \"legacyName\": \"WalletOrderExtractedView\", \"name\": \"WalletOrderExtractedView\", \"platforms\": {\"iOS\": \"18.0\"}, \"sql\": {\"update\": \"WITH WalletOrderFields AS (\\n  SELECT\\n    wof.*\\n  FROM\\n    (\\n      SELECT DISTINCT\\n        identifier\\n      FROM\\n        \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n      WHERE\\n        referenceEntityIdType = 'emailIdentifier'\\n    ) AS EmailLinkedOrder\\n    INNER JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderFields\\\" wof ON EmailLinkedOrder.identifier = wof.identifier\\n),\\nWalletEmailOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'emailIdentifier'\\n),\\nWalletOrderMerchantListByEmail AS (\\n  SELECT\\n    ROW_NUMBER() OVER (\\n      PARTITION BY WalletEmailOrder.subject\\n      ORDER BY\\n        emailSentDate ASC\\n    ) as rn,\\n    WalletEmailOrder.subject,\\n    origOrderNumber as orderNumber,\\n    origMerchantName AS merchantName,\\n    emailSentDate\\n  FROM\\n    WalletEmailOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletEmailOrder.referenceId = we.subject\\n),\\nWalletTrackedOrderFields AS (\\n  SELECT\\n    subject,\\n    trkOrderNumber as orderNumber,\\n    trkMerchantName as merchantName,\\n    trkOrderStatus as orderStatus,\\n    earliestEmailDateSent as earliestEmailDateSent,\\n    displayNameUpdateDate ,\\n    orderStatusUpdateDate\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletTrackedOrderFields\\\"\\n),\\nWalletOrderMerchantListUnion AS (\\n    SELECT subject , orderNumber, merchantName, emailSentDate FROM WalletOrderMerchantListByEmail\\n    UNION\\n    SELECT subject, orderNumber, merchantName, displayNameUpdateDate as emailSentDate FROM\\n        WalletTrackedOrderFields WHERE displayNameUpdateDate IS NOT NULL AND displayNameUpdateDate!=''\\n),\\nWalletOrderEmailEarliestDateList AS (\\n    SELECT subject , emailSentDate AS earliestEmailDateSent FROM WalletOrderMerchantListByEmail\\n    UNION\\n    SELECT subject, earliestEmailDateSent FROM walletTrackedOrderFields WHERE earliestEmailDateSent IS NOT NULL AND earliestEmailDateSent!=''\\n),\\nWalletEmailsUnionRanked AS  (SELECT *,  ROW_NUMBER() OVER (\\n      PARTITION BY subject\\n      ORDER BY\\n        earliestEmailDateSent ASC\\n    ) as rn FROM WalletOrderEmailEarliestDateList),\\nWalletEmailEarliestDateFinal AS (\\n    SELECT subject, earliestEmailDateSent FROM WalletEmailsUnionRanked WHERE rn =1 ),\\nWalletOrderMerchantList AS (\\n    SELECT\\n      ROW_NUMBER() OVER (\\n        PARTITION BY subject\\n        ORDER BY\\n          emailSentDate ASC\\n      ) as rn,\\n      subject,\\n      orderNumber,\\n      merchantName,\\n      emailSentDate AS displayNameUpdateDate FROM\\n    WalletOrderMerchantListUnion\\n),\\nWalletOrderStatusRanked AS (\\n  SELECT\\n    WalletEmailOrder.subject,\\n    orderNumber,\\n    CASE\\n      WHEN emailType = '1' THEN '1'\\n      WHEN emailType = '3' THEN '3'\\n      WHEN emailType = '4' THEN '4'\\n      ELSE NULL\\n    END AS emailOrderStatus,\\n    emailSentDate\\n  FROM\\n    WalletEmailOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletEmailOrder.referenceId = we.subject\\n    UNION\\n  SELECT subject, orderNumber, orderStatus AS emailOrderStatus, orderStatusUpdateDate AS emailSentDate FROM WalletTrackedOrderFields\\n),\\nWalletOrderStatusRankedList AS (\\n  SELECT\\n    *,\\n    ROW_NUMBER() OVER (\\n      PARTITION BY WalletOrderStatusRanked.subject\\n      ORDER BY\\n        emailSentDate DESC\\n    ) as rn\\n  FROM\\n    WalletOrderStatusRanked\\n  where\\n    emailOrderStatus IS NOT NULL\\n),\\nWalletOrderStatusFinal AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    emailOrderStatus AS orderStatus,\\n    emailSentDate AS orderStatusUpdateDate\\n  FROM\\n    WalletOrderStatusRankedList\\n  WHERE\\n    rn = 1\\n),\\nWalletOrderMerchant AS (\\n  SELECT\\n    subject,\\n    merchantName,\\n    orderNumber,\\n    JSON_OBJECT('displayName', merchantName,\\n     'displayNameUpdateDate',  CAST(displayNameUpdateDate AS REAL)) AS merchantJson\\n  FROM\\n    WalletOrderMerchantList\\n  WHERE\\n    rn = 1\\n),\\nWalletPersonOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    walletOrder\\n  WHERE\\n    referenceEntityIdType = 'customerIdentifier'\\n),\\nWalletPersonOrderJson AS (\\n  SELECT\\n    WalletPersonOrder.subject,\\n    JSON_OBJECT(\\n      'fullName',\\n      name,\\n      'phoneNumber',\\n      phone,\\n      'emailAddress',\\n      email,\\n      'billingAddress',\\n      JSON_OBJECT(\\n        'street',\\n        street,\\n        'city',\\n        city,\\n        'state',\\n        state,\\n        'country',\\n        country,\\n        'postalCode',\\n        postal,\\n        'rawAddress',\\n        rawAddress\\n      )\\n    ) AS personJson\\n  FROM\\n    WalletPersonOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderPerson\\\" wop ON WalletPersonOrder.referenceId = wop.subject\\n),\\nWalletPymOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'paymentIdentifier'\\n),\\nWalletTrxOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'transactionIdentifier'\\n),\\nWalletPymTbl AS (\\n  SELECT\\n    WalletPymOrder.subject,\\n    orderNumber,\\n    totalAmount,\\n    currencyCode,\\n    ROW_NUMBER() OVER (\\n      PARTITION BY WalletPymOrder.subject\\n      ORDER BY\\n        totalAmount DESC\\n    ) AS rn\\n  FROM\\n    WalletPymOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderPayment\\\" wop ON WalletPymOrder.referenceId = wop.subject\\n),\\nWalletPymCol AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    totalAmount,\\n    currencyCode\\n  FROM\\n    WalletPymTbl\\n  where\\n    rn = 1\\n),\\nWalletTrxCol AS (\\n  SELECT DISTINCT\\n    WalletTrxOrder.subject,\\n    JSON_GROUP_ARRAY(\\n      JSON_OBJECT(\\n        'amount',\\n        totalAmount,\\n        'isoCurrencyCode',\\n        currencyCode,\\n        'transactionIdenifier',\\n        trxId,\\n        'paymentMethod',\\n        JSON_OBJECT(\\n          'lastFourDigits',\\n          accountLastFourDigits,\\n          'displayName',\\n          accountInstitution\\n        )\\n      )\\n    ) AS trxInfo\\n  FROM\\n    WalletTrxOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderTransaction\\\" wot ON WalletTrxOrder.referenceId = wot.subject\\n  WHERE\\n    currencyCode IS NOT NULL\\n    OR totalAmount IS NOT NULL\\n    OR accountInstitution IS NOT NULL\\n    OR accountLastFourDigits IS NOT NULL\\n  GROUP BY\\n    WalletTrxOrder.subject\\n),\\nWalletPymJson AS (\\n  SELECT\\n    WalletPymCol.subject,\\n    JSON_OBJECT(\\n      'totalAmount',\\n      totalAmount,\\n      'totalIsoCurrencyCode',\\n      currencyCode,\\n      'transactions',\\n      json_extract(trxInfo, '$')\\n    ) AS orderPayment\\n  FROM\\n    WalletPymCol\\n    LEFT JOIN WalletTrxCol ON WalletPymCol.subject = WalletTrxCol.subject\\n),\\nWalletShipmentOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'shipmentFullFillmentIdentifier'\\n),\\nWalletDedupeShipment AS (\\n  SELECT DISTINCT\\n    WalletShipmentOrder.subject AS identifierOrder,\\n    WalletShipmentOrder.orderNumber,\\n    wosfi.*\\n  FROM\\n    WalletShipmentOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderShipmentFullFillmentInfo\\\" wosfi ON WalletShipmentOrder.referenceId = wosfi.subject\\n),\\nWalletShipmentOrderByEmail AS (\\n  SELECT\\n    WalletDedupeShipment.subject AS orderIdentifier,\\n    *,\\n    ROW_NUMBER() OVER (\\n      PARTITION BY orderNumber,\\n      trackingNumber\\n      ORDER BY\\n        fullfillmentUpdateDate DESC,\\n        emailSentDate DESC\\n    ) AS rn\\n  FROM\\n    WalletDedupeShipment\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletDedupeShipment.emailIdentifier = we.subject\\n),\\nWalletShipmentWithPilledValues AS (\\n  SELECT\\n    s1.*,\\n    COALESCE(s1.carrierName,\\n      (SELECT s2.carrierName FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.carrierName IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_carrierName,\\n    COALESCE(s1.trackingNumber,\\n      (SELECT s2.trackingNumber FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             s2.trackingNumber IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_trackingNumber,\\n    COALESCE(s1.shippingMethod,\\n      (SELECT s2.shippingMethod FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.shippingMethod IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_shippingMethod,\\n    COALESCE(s1.shippingStatus,\\n      (SELECT s2.shippingStatus FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.shippingStatus IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_shippingStatus,\\n    COALESCE(s1.shippingDate,\\n      (SELECT s2.shippingDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.shippingDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_shippingDate,\\n    COALESCE(s1.estimatedDeliveryStartDate,\\n      (SELECT s2.estimatedDeliveryStartDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryStartDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryStartDate,\\n    COALESCE(s1.estimatedDeliveryStartTime,\\n      (SELECT s2.estimatedDeliveryStartTime FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryStartTime IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryStartTime,\\n    COALESCE(s1.estimatedDeliveryEndDate,\\n      (SELECT s2.estimatedDeliveryEndDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryEndDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryEndDate,\\n    COALESCE(s1.estimatedDeliveryEndTime,\\n      (SELECT s2.estimatedDeliveryEndTime FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryEndTime IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryEndTime,\\n    COALESCE(s1.deliveryDate,\\n      (SELECT s2.deliveryDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.deliveryDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_deliveryDate,\\n    COALESCE(s1.deliveryTime,\\n      (SELECT s2.deliveryTime FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.deliveryTime IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_deliveryTime,\\n    COALESCE(s1.personIdentifier,\\n         (SELECT s2.personIdentifier FROM WalletShipmentOrderByEmail s2\\n          WHERE s2.orderNumber = s1.orderNumber AND\\n                (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n                s2.personIdentifier IS NOT NULL\\n          ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_personIdentifier\\n  FROM WalletShipmentOrderByEmail s1\\n),\\nWalletShipmentFilledRanked AS (\\n SELECT\\n    s1.*,\\n   ROW_NUMBER() OVER (\\n      PARTITION BY orderNumber,\\n      filled_trackingNumber\\n      ORDER BY\\n        fullfillmentUpdateDate DESC,\\n        emailSentDate DESC\\n    ) AS mrn\\nFROM  WalletShipmentWithPilledValues s1\\n),\\nWalletShippingRecepientOrderJson AS (\\n    SELECT\\n      WalletShipmentFilledRanked.subject,\\n      *,\\n      JSON_OBJECT(\\n        'fullName',\\n        name,\\n        'phoneNumber',\\n        phone,\\n        'emailAddress',\\n        email,\\n        'address',\\n        JSON_OBJECT(\\n          'street',\\n          street,\\n          'city',\\n          city,\\n          'state',\\n          state,\\n          'country',\\n          country,\\n          'postalCode',\\n          postal,\\n          'rawAddress',\\n          rawAddress\\n        )\\n      ) AS shippingRecepientJson\\n    FROM\\n      WalletShipmentFilledRanked\\n      LEFT JOIN \\\"WalletOrderPerson\\\" wop ON wop.subject = WalletShipmentFilledRanked.filled_personIdentifier\\n      WHERE rn=1\\n),\\nWalletShipmentJson AS (\\n    SELECT\\n      WalletShipmentFilledRanked.identifierOrder AS identifierOrder,\\n      WalletShipmentFilledRanked.orderNumber,\\n      JSON_GROUP_ARRAY(\\n        JSON_OBJECT(\\n          'carrierName',\\n          WalletShipmentFilledRanked.filled_carrierName,\\n          'trackingNumber',\\n          WalletShipmentFilledRanked.filled_trackingNumber,\\n          'shippingMethod',\\n          WalletShipmentFilledRanked.filled_shippingMethod,\\n          'status',\\n          CAST(\\n            WalletShipmentFilledRanked.filled_shippingStatus AS INTEGER\\n          ),\\n          'shippingDate',\\n          WalletShipmentFilledRanked.filled_shippingDate,\\n          'estimatedDeliveryStartDate',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryStartDate,\\n          'estimatedDeliveryStartTime',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryStartTime,\\n          'estimatedDeliveryEndDate',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryEndDate,\\n          'estimatedDeliveryEndTime',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryEndTime,\\n          'deliveryDate',\\n          WalletShipmentFilledRanked.filled_deliveryDate,\\n          'deliveryTime',\\n          WalletShipmentFilledRanked.filled_deliveryTime,\\n          'fulfillmentUpdateDate',\\n          (\\n            CASE\\n              WHEN WalletShipmentFilledRanked.emailSentDate IS NULL THEN CAST(\\n                WalletShipmentFilledRanked.fullfillmentUpdateDate AS REAL\\n              )\\n              WHEN WalletShipmentFilledRanked.fullfillmentUpdateDate IS NULL THEN CAST(\\n                WalletShipmentFilledRanked.emailSentDate AS REAL\\n              )\\n              WHEN CAST(\\n                WalletShipmentFilledRanked.emailSentDate AS REAL\\n              ) > CAST(\\n                WalletShipmentFilledRanked.fullfillmentUpdateDate AS REAL\\n              ) THEN CAST(\\n                WalletShipmentFilledRanked.emailSentDate AS REAL\\n              )\\n              ELSE CAST(\\n                WalletShipmentFilledRanked.fullfillmentUpdateDate AS REAL\\n              )\\n            END\\n          ),\\n          'shippingRecipient',\\n          json_extract(\\n            WalletShippingRecepientOrderJson.shippingRecepientJson,\\n            '$'\\n          )\\n        )\\n      ) AS shipmentJson\\n    FROM\\n      WalletShipmentFilledRanked\\n      LEFT JOIN WalletShippingRecepientOrderJson ON WalletShippingRecepientOrderJson.orderIdentifier = WalletShipmentFilledRanked.orderIdentifier\\n    WHERE\\n      WalletShipmentFilledRanked.mrn = 1\\n      GROUP BY\\n    WalletShipmentFilledRanked.identifierOrder\\n),\\nWalletEmailShipping AS (\\n  SELECT\\n    shippingStatus,\\n    trackingNumber,\\n    carrierName,\\n    we.subject\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrderShipmentFullFillmentInfo\\\" wosfi\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON wosfi.emailIdentifier = we.subject\\n),\\nWalletEmailOrderJson AS (\\n  SELECT\\n    WalletEmailOrder.subject,\\n    orderNumber,\\n    JSON_GROUP_ARRAY(\\n      JSON_OBJECT(\\n        'emailType',\\n        CAST(emailType AS INTEGER),\\n        'emailMetadata',\\n        JSON_OBJECT(\\n          'messageID',\\n          messageID,\\n          'senderDomain',\\n          senderDomain,\\n          'replyToEmailAddress',\\n          emailReplyTo,\\n          'subject',\\n          emailSubject,\\n          'toEmailAddress',\\n          emailTo,\\n          'fromEmailAddress',\\n          emailFrom,\\n          'toDisplayName',\\n          emailToDisplay,\\n          'fromDisplayName',\\n          emailFromDisplay,\\n          'replyToDisplayName',\\n          emailReplyToDisplay,\\n          'dateSent',\\n          CAST(emailSentDate AS REAL)\\n        ),\\n        'orderDetails',\\n        JSON_OBJECT(\\n          'orderNumber',\\n          origOrderNumber,\\n          'merchant',\\n            JSON_OBJECT('displayName', origMerchantName),\\n          'shippingDetails',\\n          JSON_OBJECT(\\n            'status',\\n            CAST(shippingStatus AS INTEGER),\\n            'trackingNumber',\\n            origTrackingNumber,\\n            'carrierName',\\n            carrierName\\n          ),\\n          'orderContentType',\\n          CAST(orderContentType AS INTEGER)\\n        ),\\n        'spotlightUniqueIdentifier',\\n        spotlightUniqueIdentifier,\\n        'spotlightDomainIdentifier',\\n        spotlightDomainIdentifier\\n      )\\n    ) AS emailArr\\n  FROM\\n    WalletEmailOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletEmailOrder.referenceId = we.subject\\n    LEFT JOIN \\\"WalletEmailShipping\\\" wes ON walletEmailOrder.referenceId = wes.subject\\n  GROUP BY\\n    WalletEmailOrder.subject\\n  ORDER BY emailSentDate DESC\\n)\\nSELECT DISTINCT\\n  WalletOrderFields.subject,\\n  'md:' || WalletOrderFields.subject AS identifier,\\n  WalletOrderFields.orderNumber AS orderNumber,\\n  JSON_OBJECT(\\n    'orderNumber',\\n    WalletOrderMerchant.orderNumber,\\n    'orderDate',\\n    WalletOrderFields.orderDate,\\n    'orderIdentifier',\\n    WalletOrderFields.orderIdentifier,\\n    'orderTypeIdentifier',\\n    WalletOrderFields.orderTypeIdentifier,\\n    'trackedOrderIdentifier',\\n    WalletOrderFields.trackedOrderIdentifier,\\n    'orderUpdateDate',\\n    CAST(WalletOrderFields.orderUpdateDate AS REAL),\\n    'orderEmails',\\n    json_extract(emailArr, '$'),\\n    'payment',\\n    json_extract(WalletPymJson.orderPayment, '$'),\\n    'shippingFulfillments',\\n    json_extract(WalletShipmentJson.shipmentJson, '$'),\\n    'merchant',\\n    json_extract(WalletOrderMerchant.merchantJson, '$'),\\n    'customer',\\n    json_extract(WalletPersonOrderJson.personJson, '$'),\\n    'orderStatus',\\n    CAST(WalletOrderStatusFinal.orderStatus AS INTEGER),\\n    'orderStatusUpdateDate',\\n    CAST(WalletOrderStatusFinal.orderStatusUpdateDate AS REAL),\\n    'earliestEmailDateSent',\\n    CAST(WalletEmailEarliestDateFinal.earliestEmailDateSent AS REAL)\\n  ) AS orderJson\\nFROM\\n  WalletOrderFields\\n  LEFT JOIN WalletEmailOrderJson ON WalletOrderFields.subject = WalletEmailOrderJson.subject\\n  LEFT JOIN WalletPymJson ON WalletOrderFields.subject = WalletPymJson.subject\\n  LEFT JOIN WalletShipmentJson ON WalletOrderFields.subject = WalletShipmentJson.identifierOrder\\n  LEFT JOIN WalletOrderMerchant ON WalletOrderFields.subject = WalletOrderMerchant.subject\\n  LEFT JOIN WalletPersonOrderJson ON WalletOrderFields.subject = WalletPersonOrderJson.subject\\n  LEFT JOIN WalletOrderStatusFinal ON WalletOrderFields.subject = WalletOrderStatusFinal.subject\\n  LEFT JOIN WalletEmailEarliestDateFinal ON WalletOrderFields.subject = WalletEmailEarliestDateFinal.subject\\n\\n\\n\"}, \"target\": {\"database\": \"WalletPaymentsCommerce.Internal\", \"name\": \"WalletOrderExtractedView\", \"target\": \"WalletPaymentsCommerce.Internal.WalletOrderExtractedView\", \"type\": \"view\"}, \"type\": \"sqlConnection\", \"update\": {\"viewListeners\": [{\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderFields\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderFields\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletTrackedOrderFields\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletTrackedOrderFields\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrder\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderEmail\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderPayment\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderPayment\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderTransaction\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderTransaction\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderShipmentFullFillmentInfo\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderShipmentFullFillmentInfo\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderPerson\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderPerson\", \"rebuildView\": true, \"requiredSource\": true, \"schedule\": \"live\"}]}, \"uuid\": \"456D4F37-51DB-4E59-B38A-C155C57FF5CB\", \"version\": \"331f20cd-495e-46ad-b8a8-2b4a3a536a6f\", \"writeToStream\": true}"
- "59946db6476095e7d639e1230ec6a5ba506d0ac924df319da47884818e69ae0a"
- "5f7289f3-2047-49d4-9e18-f495fc315ba2"
- "initWithIdentifier:toolIdentifier:target:parameterValues:error:"
- "{\"configHash\": \"59946db6476095e7d639e1230ec6a5ba506d0ac924df319da47884818e69ae0a\", \"dependencies\": [\"WalletOrderFields\", \"WalletTrackedOrderFields\", \"WalletOrder\", \"WalletOrderEmail\", \"WalletOrderPayment\", \"WalletOrderTransaction\", \"WalletOrderShipmentFullFillmentInfo\", \"WalletOrderPerson\"], \"dependents\": [\"WalletCascadeInsert\"], \"deployment\": [\"production\"], \"featureFlag\": \"OrionSQL\", \"legacyName\": \"WalletOrderExtractedView\", \"name\": \"WalletOrderExtractedView\", \"platforms\": {\"iOS\": \"18.0\"}, \"sql\": {\"update\": \"WITH WalletOrderFields AS (\\n  SELECT\\n    wof.*\\n  FROM\\n    (\\n      SELECT DISTINCT\\n        identifier\\n      FROM\\n        \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n      WHERE\\n        referenceEntityIdType = 'emailIdentifier'\\n    ) AS EmailLinkedOrder\\n    INNER JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderFields\\\" wof ON EmailLinkedOrder.identifier = wof.identifier\\n),\\nWalletEmailOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'emailIdentifier'\\n),\\nWalletOrderMerchantListByEmail AS (\\n  SELECT\\n    ROW_NUMBER() OVER (\\n      PARTITION BY WalletEmailOrder.subject\\n      ORDER BY\\n        emailSentDate ASC\\n    ) as rn,\\n    WalletEmailOrder.subject,\\n    origOrderNumber as orderNumber,\\n    origMerchantName AS merchantName,\\n    emailSentDate\\n  FROM\\n    WalletEmailOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletEmailOrder.referenceId = we.subject\\n),\\nWalletTrackedOrderFields AS (\\n  SELECT\\n    subject,\\n    trkOrderNumber as orderNumber,\\n    trkMerchantName as merchantName,\\n    trkOrderStatus as orderStatus,\\n    earliestEmailDateSent as earliestEmailDateSent,\\n    displayNameUpdateDate ,\\n    orderStatusUpdateDate\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletTrackedOrderFields\\\"\\n),\\nWalletOrderMerchantListUnion AS (\\n    SELECT subject , orderNumber, merchantName, emailSentDate FROM WalletOrderMerchantListByEmail\\n    UNION\\n    SELECT subject, orderNumber, merchantName, displayNameUpdateDate as emailSentDate FROM\\n        WalletTrackedOrderFields WHERE displayNameUpdateDate IS NOT NULL AND displayNameUpdateDate!=''\\n),\\nWalletOrderEmailEarliestDateList AS (\\n    SELECT subject , emailSentDate AS earliestEmailDateSent FROM WalletOrderMerchantListByEmail\\n    UNION\\n    SELECT subject, earliestEmailDateSent FROM walletTrackedOrderFields WHERE earliestEmailDateSent IS NOT NULL AND earliestEmailDateSent!=''\\n),\\nWalletEmailsUnionRanked AS  (SELECT *,  ROW_NUMBER() OVER (\\n      PARTITION BY subject\\n      ORDER BY\\n        earliestEmailDateSent ASC\\n    ) as rn FROM WalletOrderEmailEarliestDateList),\\nWalletEmailEarliestDateFinal AS (\\n    SELECT subject, earliestEmailDateSent FROM WalletEmailsUnionRanked WHERE rn =1 ),\\nWalletOrderMerchantList AS (\\n    SELECT\\n      ROW_NUMBER() OVER (\\n        PARTITION BY subject\\n        ORDER BY\\n          emailSentDate ASC\\n      ) as rn,\\n      subject,\\n      orderNumber,\\n      merchantName,\\n      emailSentDate AS displayNameUpdateDate FROM\\n    WalletOrderMerchantListUnion\\n),\\nWalletOrderStatusRanked AS (\\n  SELECT\\n    WalletEmailOrder.subject,\\n    orderNumber,\\n    CASE\\n      WHEN emailType = '1' THEN '1'\\n      WHEN emailType = '3' THEN '3'\\n      WHEN emailType = '4' THEN '4'\\n      ELSE NULL\\n    END AS emailOrderStatus,\\n    emailSentDate\\n  FROM\\n    WalletEmailOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletEmailOrder.referenceId = we.subject\\n    UNION\\n  SELECT subject, orderNumber, orderStatus AS emailOrderStatus, orderStatusUpdateDate AS emailSentDate FROM WalletTrackedOrderFields\\n),\\nWalletOrderStatusRankedList AS (\\n  SELECT\\n    *,\\n    ROW_NUMBER() OVER (\\n      PARTITION BY WalletOrderStatusRanked.subject\\n      ORDER BY\\n        emailSentDate DESC\\n    ) as rn\\n  FROM\\n    WalletOrderStatusRanked\\n  where\\n    emailOrderStatus IS NOT NULL\\n),\\nWalletOrderStatusFinal AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    emailOrderStatus AS orderStatus,\\n    emailSentDate AS orderStatusUpdateDate\\n  FROM\\n    WalletOrderStatusRankedList\\n  WHERE\\n    rn = 1\\n),\\nWalletOrderMerchant AS (\\n  SELECT\\n    subject,\\n    merchantName,\\n    orderNumber,\\n    JSON_OBJECT('displayName', merchantName,\\n     'displayNameUpdateDate',  CAST(displayNameUpdateDate AS REAL)) AS merchantJson\\n  FROM\\n    WalletOrderMerchantList\\n  WHERE\\n    rn = 1\\n),\\nWalletPersonOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    walletOrder\\n  WHERE\\n    referenceEntityIdType = 'customerIdentifier'\\n),\\nWalletPersonOrderJson AS (\\n  SELECT\\n    WalletPersonOrder.subject,\\n    JSON_OBJECT(\\n      'fullName',\\n      name,\\n      'phoneNumber',\\n      phone,\\n      'emailAddress',\\n      email,\\n      'billingAddress',\\n      JSON_OBJECT(\\n        'street',\\n        street,\\n        'city',\\n        city,\\n        'state',\\n        state,\\n        'country',\\n        country,\\n        'postalCode',\\n        postal,\\n        'rawAddress',\\n        rawAddress\\n      )\\n    ) AS personJson\\n  FROM\\n    WalletPersonOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderPerson\\\" wop ON WalletPersonOrder.referenceId = wop.subject\\n),\\nWalletPymOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'paymentIdentifier'\\n),\\nWalletTrxOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'transactionIdentifier'\\n),\\nWalletPymTbl AS (\\n  SELECT\\n    WalletPymOrder.subject,\\n    orderNumber,\\n    totalAmount,\\n    currencyCode,\\n    ROW_NUMBER() OVER (\\n      PARTITION BY WalletPymOrder.subject\\n      ORDER BY\\n        totalAmount DESC\\n    ) AS rn\\n  FROM\\n    WalletPymOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderPayment\\\" wop ON WalletPymOrder.referenceId = wop.subject\\n),\\nWalletPymCol AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    totalAmount,\\n    currencyCode\\n  FROM\\n    WalletPymTbl\\n  where\\n    rn = 1\\n),\\nWalletTrxCol AS (\\n  SELECT DISTINCT\\n    WalletTrxOrder.subject,\\n    JSON_GROUP_ARRAY(\\n      JSON_OBJECT(\\n        'amount',\\n        totalAmount,\\n        'isoCurrencyCode',\\n        currencyCode,\\n        'transactionIdenifier',\\n        trxId,\\n        'paymentMethod',\\n        JSON_OBJECT(\\n          'lastFourDigits',\\n          accountLastFourDigits,\\n          'displayName',\\n          accountInstitution\\n        )\\n      )\\n    ) AS trxInfo\\n  FROM\\n    WalletTrxOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderTransaction\\\" wot ON WalletTrxOrder.referenceId = wot.subject\\n  WHERE\\n    currencyCode IS NOT NULL\\n    OR totalAmount IS NOT NULL\\n    OR accountInstitution IS NOT NULL\\n    OR accountLastFourDigits IS NOT NULL\\n  GROUP BY\\n    WalletTrxOrder.subject\\n),\\nWalletPymJson AS (\\n  SELECT\\n    WalletPymCol.subject,\\n    JSON_OBJECT(\\n      'totalAmount',\\n      totalAmount,\\n      'totalIsoCurrencyCode',\\n      currencyCode,\\n      'transactions',\\n      json_extract(trxInfo, '$')\\n    ) AS orderPayment\\n  FROM\\n    WalletPymCol\\n    LEFT JOIN WalletTrxCol ON WalletPymCol.subject = WalletTrxCol.subject\\n),\\nWalletShipmentOrder AS (\\n  SELECT\\n    subject,\\n    orderNumber,\\n    referenceId\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\\n  WHERE\\n    referenceEntityIdType = 'shipmentFullFillmentIdentifier'\\n),\\nWalletDedupeShipment AS (\\n  SELECT DISTINCT\\n    WalletShipmentOrder.subject AS identifierOrder,\\n    WalletShipmentOrder.orderNumber,\\n    wosfi.*\\n  FROM\\n    WalletShipmentOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderShipmentFullFillmentInfo\\\" wosfi ON WalletShipmentOrder.referenceId = wosfi.subject\\n),\\nWalletShipmentOrderByEmail AS (\\n  SELECT\\n    WalletDedupeShipment.subject AS orderIdentifier,\\n    *,\\n    ROW_NUMBER() OVER (\\n      PARTITION BY orderNumber,\\n      trackingNumber\\n      ORDER BY\\n        fullfillmentUpdateDate DESC,\\n        emailSentDate DESC\\n    ) AS rn\\n  FROM\\n    WalletDedupeShipment\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletDedupeShipment.emailIdentifier = we.subject\\n),\\nWalletShipmentWithPilledValues AS (\\n  SELECT\\n    s1.*,\\n    COALESCE(s1.carrierName,\\n      (SELECT s2.carrierName FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.carrierName IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_carrierName,\\n    COALESCE(s1.trackingNumber,\\n      (SELECT s2.trackingNumber FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             s2.trackingNumber IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_trackingNumber,\\n    COALESCE(s1.shippingMethod,\\n      (SELECT s2.shippingMethod FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.shippingMethod IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_shippingMethod,\\n    COALESCE(s1.shippingStatus,\\n      (SELECT s2.shippingStatus FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.shippingStatus IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_shippingStatus,\\n    COALESCE(s1.shippingDate,\\n      (SELECT s2.shippingDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.shippingDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_shippingDate,\\n    COALESCE(s1.estimatedDeliveryStartDate,\\n      (SELECT s2.estimatedDeliveryStartDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryStartDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryStartDate,\\n    COALESCE(s1.estimatedDeliveryStartTime,\\n      (SELECT s2.estimatedDeliveryStartTime FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryStartTime IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryStartTime,\\n    COALESCE(s1.estimatedDeliveryEndDate,\\n      (SELECT s2.estimatedDeliveryEndDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryEndDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryEndDate,\\n    COALESCE(s1.estimatedDeliveryEndTime,\\n      (SELECT s2.estimatedDeliveryEndTime FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.estimatedDeliveryEndTime IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_estimatedDeliveryEndTime,\\n    COALESCE(s1.deliveryDate,\\n      (SELECT s2.deliveryDate FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.deliveryDate IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_deliveryDate,\\n    COALESCE(s1.deliveryTime,\\n      (SELECT s2.deliveryTime FROM WalletShipmentOrderByEmail s2\\n       WHERE s2.orderNumber = s1.orderNumber AND\\n             (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n             s2.deliveryTime IS NOT NULL\\n       ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_deliveryTime,\\n    COALESCE(s1.personIdentifier,\\n         (SELECT s2.personIdentifier FROM WalletShipmentOrderByEmail s2\\n          WHERE s2.orderNumber = s1.orderNumber AND\\n                (s1.trackingNumber IS NULL OR s2.trackingNumber = s1.trackingNumber) AND\\n                s2.personIdentifier IS NOT NULL\\n          ORDER BY s2.fullfillmentUpdateDate DESC, s2.emailSentDate DESC LIMIT 1)) AS filled_personIdentifier\\n  FROM WalletShipmentOrderByEmail s1\\n),\\nWalletShipmentFilledRanked AS (\\n SELECT\\n    s1.*,\\n   ROW_NUMBER() OVER (\\n      PARTITION BY orderNumber,\\n      filled_trackingNumber\\n      ORDER BY\\n        fullfillmentUpdateDate DESC,\\n        emailSentDate DESC\\n    ) AS mrn\\nFROM  WalletShipmentWithPilledValues s1\\n),\\nWalletShippingRecepientOrderJson AS (\\n    SELECT\\n      WalletShipmentFilledRanked.subject,\\n      *,\\n      JSON_OBJECT(\\n        'fullName',\\n        name,\\n        'phoneNumber',\\n        phone,\\n        'emailAddress',\\n        email,\\n        'address',\\n        JSON_OBJECT(\\n          'street',\\n          street,\\n          'city',\\n          city,\\n          'state',\\n          state,\\n          'country',\\n          country,\\n          'postalCode',\\n          postal,\\n          'rawAddress',\\n          rawAddress\\n        )\\n      ) AS shippingRecepientJson\\n    FROM\\n      WalletShipmentFilledRanked\\n      LEFT JOIN \\\"WalletOrderPerson\\\" wop ON wop.subject = WalletShipmentFilledRanked.filled_personIdentifier\\n      WHERE rn=1\\n),\\nWalletShipmentJson AS (\\n    SELECT\\n      WalletShipmentFilledRanked.identifierOrder AS identifierOrder,\\n      WalletShipmentFilledRanked.orderNumber,\\n      JSON_GROUP_ARRAY(\\n        JSON_OBJECT(\\n          'carrierName',\\n          WalletShipmentFilledRanked.filled_carrierName,\\n          'trackingNumber',\\n          WalletShipmentFilledRanked.filled_trackingNumber,\\n          'shippingMethod',\\n          WalletShipmentFilledRanked.filled_shippingMethod,\\n          'status',\\n          CAST(\\n            WalletShipmentFilledRanked.filled_shippingStatus AS INTEGER\\n          ),\\n          'shippingDate',\\n          WalletShipmentFilledRanked.filled_shippingDate,\\n          'estimatedDeliveryStartDate',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryStartDate,\\n          'estimatedDeliveryStartTime',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryStartTime,\\n          'estimatedDeliveryEndDate',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryEndDate,\\n          'estimatedDeliveryEndTime',\\n          WalletShipmentFilledRanked.filled_estimatedDeliveryEndTime,\\n          'deliveryDate',\\n          WalletShipmentFilledRanked.filled_deliveryDate,\\n          'deliveryTime',\\n          WalletShipmentFilledRanked.filled_deliveryTime,\\n          'fulfillmentUpdateDate',\\n          (\\n            CASE\\n              WHEN WalletShipmentFilledRanked.emailSentDate IS NULL THEN CAST(\\n                WalletShipmentFilledRanked.fullfillmentUpdateDate AS REAL\\n              )\\n              WHEN WalletShipmentFilledRanked.fullfillmentUpdateDate IS NULL THEN CAST(\\n                WalletShipmentFilledRanked.emailSentDate AS REAL\\n              )\\n              WHEN CAST(\\n                WalletShipmentFilledRanked.emailSentDate AS REAL\\n              ) > CAST(\\n                WalletShipmentFilledRanked.fullfillmentUpdateDate AS REAL\\n              ) THEN CAST(\\n                WalletShipmentFilledRanked.emailSentDate AS REAL\\n              )\\n              ELSE CAST(\\n                WalletShipmentFilledRanked.fullfillmentUpdateDate AS REAL\\n              )\\n            END\\n          ),\\n          'shippingRecipient',\\n          json_extract(\\n            WalletShippingRecepientOrderJson.shippingRecepientJson,\\n            '$'\\n          )\\n        )\\n      ) AS shipmentJson\\n    FROM\\n      WalletShipmentFilledRanked\\n      LEFT JOIN WalletShippingRecepientOrderJson ON WalletShippingRecepientOrderJson.orderIdentifier = WalletShipmentFilledRanked.orderIdentifier\\n    WHERE\\n      WalletShipmentFilledRanked.mrn = 1\\n      GROUP BY\\n    WalletShipmentFilledRanked.identifierOrder\\n),\\nWalletEmailShipping AS (\\n  SELECT\\n    shippingStatus,\\n    trackingNumber,\\n    carrierName,\\n    we.subject\\n  FROM\\n    \\\"WalletPaymentsCommerce.Internal.WalletOrderShipmentFullFillmentInfo\\\" wosfi\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON wosfi.emailIdentifier = we.subject\\n),\\nWalletEmailOrderJson AS (\\n  SELECT\\n    WalletEmailOrder.subject,\\n    orderNumber,\\n    JSON_GROUP_ARRAY(\\n      JSON_OBJECT(\\n        'emailType',\\n        CAST(emailType AS INTEGER),\\n        'emailMetadata',\\n        JSON_OBJECT(\\n          'messageID',\\n          messageID,\\n          'senderDomain',\\n          senderDomain,\\n          'replyToEmailAddress',\\n          emailReplyTo,\\n          'subject',\\n          emailSubject,\\n          'toEmailAddress',\\n          emailTo,\\n          'fromEmailAddress',\\n          emailFrom,\\n          'toDisplayName',\\n          emailToDisplay,\\n          'fromDisplayName',\\n          emailFromDisplay,\\n          'replyToDisplayName',\\n          emailReplyToDisplay,\\n          'dateSent',\\n          CAST(emailSentDate AS REAL)\\n        ),\\n        'orderDetails',\\n        JSON_OBJECT(\\n          'orderNumber',\\n          origOrderNumber,\\n          'merchant',\\n            JSON_OBJECT('displayName', origMerchantName),\\n          'shippingDetails',\\n          JSON_OBJECT(\\n            'status',\\n            CAST(shippingStatus AS INTEGER),\\n            'trackingNumber',\\n            origTrackingNumber,\\n            'carrierName',\\n            carrierName\\n          ),\\n          'orderContentType',\\n          CAST(orderContentType AS INTEGER)\\n        ),\\n        'spotlightUniqueIdentifier',\\n        spotlightUniqueIdentifier,\\n        'spotlightDomainIdentifier',\\n        spotlightDomainIdentifier\\n      )\\n    ) AS emailArr\\n  FROM\\n    WalletEmailOrder\\n    LEFT JOIN \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\" we ON WalletEmailOrder.referenceId = we.subject\\n    LEFT JOIN \\\"WalletEmailShipping\\\" wes ON walletEmailOrder.referenceId = wes.subject\\n  GROUP BY\\n    WalletEmailOrder.subject\\n  ORDER BY emailSentDate DESC\\n)\\nSELECT DISTINCT\\n  WalletOrderFields.subject,\\n  'md:' || WalletOrderFields.subject AS identifier,\\n  WalletOrderFields.orderNumber AS orderNumber,\\n  JSON_OBJECT(\\n    'orderNumber',\\n    WalletOrderMerchant.orderNumber,\\n    'orderDate',\\n    WalletOrderFields.orderDate,\\n    'orderIdentifier',\\n    WalletOrderFields.orderIdentifier,\\n    'orderTypeIdentifier',\\n    WalletOrderFields.orderTypeIdentifier,\\n    'trackedOrderIdentifier',\\n    WalletOrderFields.trackedOrderIdentifier,\\n    'orderUpdateDate',\\n    CAST(WalletOrderFields.orderUpdateDate AS REAL),\\n    'orderEmails',\\n    json_extract(emailArr, '$'),\\n    'payment',\\n    json_extract(WalletPymJson.orderPayment, '$'),\\n    'shippingFulfillments',\\n    json_extract(WalletShipmentJson.shipmentJson, '$'),\\n    'merchant',\\n    json_extract(WalletOrderMerchant.merchantJson, '$'),\\n    'customer',\\n    json_extract(WalletPersonOrderJson.personJson, '$'),\\n    'orderStatus',\\n    CAST(WalletOrderStatusFinal.orderStatus AS INTEGER),\\n    'orderStatusUpdateDate',\\n    CAST(WalletOrderStatusFinal.orderStatusUpdateDate AS REAL),\\n    'earliestEmailDateSent',\\n    CAST(WalletEmailEarliestDateFinal.earliestEmailDateSent AS REAL)\\n  ) AS orderJson\\nFROM\\n  WalletOrderFields\\n  LEFT JOIN WalletEmailOrderJson ON WalletOrderFields.subject = WalletEmailOrderJson.subject\\n  LEFT JOIN WalletPymJson ON WalletOrderFields.subject = WalletPymJson.subject\\n  LEFT JOIN WalletShipmentJson ON WalletOrderFields.subject = WalletShipmentJson.identifierOrder\\n  LEFT JOIN WalletOrderMerchant ON WalletOrderFields.subject = WalletOrderMerchant.subject\\n  LEFT JOIN WalletPersonOrderJson ON WalletOrderFields.subject = WalletPersonOrderJson.subject\\n  LEFT JOIN WalletOrderStatusFinal ON WalletOrderFields.subject = WalletOrderStatusFinal.subject\\n  LEFT JOIN WalletEmailEarliestDateFinal ON WalletOrderFields.subject = WalletEmailEarliestDateFinal.subject\\n\\n\\n\"}, \"target\": {\"database\": \"WalletPaymentsCommerce.Internal\", \"name\": \"WalletOrderExtractedView\", \"target\": \"WalletPaymentsCommerce.Internal.WalletOrderExtractedView\", \"type\": \"view\"}, \"type\": \"sqlConnection\", \"update\": {\"knowledgeGraphListeners\": [{\"filters\": [{\"entityType\": \"SB10\"}], \"fullRebuildOnChange\": true, \"rebuildView\": true, \"requiredSource\": false, \"schedule\": \"live\", \"stores\": [\"stableGraph\"]}], \"viewListeners\": [{\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderFields\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderFields\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletTrackedOrderFields\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletTrackedOrderFields\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrder\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrder\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderEmail\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderEmail\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderPayment\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderPayment\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderTransaction\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderTransaction\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderShipmentFullFillmentInfo\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderShipmentFullFillmentInfo\", \"rebuildView\": true, \"schedule\": \"live\"}, {\"diffType\": \"updatedObject\", \"filterQuery\": \"SELECT subject FROM \\\"WalletPaymentsCommerce.Internal.WalletOrderPerson\\\"\", \"fullRebuildOnChange\": true, \"name\": \"WalletOrderPerson\", \"rebuildView\": true, \"requiredSource\": true, \"schedule\": \"live\"}]}, \"uuid\": \"456D4F37-51DB-4E59-B38A-C155C57FF5CB\", \"version\": \"5f7289f3-2047-49d4-9e18-f495fc315ba2\", \"writeToStream\": true}"

```
