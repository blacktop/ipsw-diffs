## exclave_sharedcache

> `exclave_sharedcache`

```diff

-543.100.341.0.0
-  __TEXT.__text: 0x4ec95c
+543.100.349.0.0
+  __TEXT.__text: 0x4eea80
   __TEXT.__lcxx_override: 0x200
-  __TEXT.__cstring: 0x37f5f
-  __TEXT.__const: 0xf7028
-  __TEXT.__swift5_typeref: 0xfa27
-  __TEXT.__swift5_reflstr: 0xa7f8
+  __TEXT.__cstring: 0x39acf
+  __TEXT.__const: 0xfcac8
+  __TEXT.__swift5_typeref: 0xfa1b
+  __TEXT.__swift5_reflstr: 0xa838
   __TEXT.__swift5_assocty: 0x6e68
-  __TEXT.__swift5_fieldmd: 0x11f1c
-  __TEXT.__constg_swiftt: 0x1cec0
+  __TEXT.__swift5_fieldmd: 0x11ef0
+  __TEXT.__constg_swiftt: 0x1ce5c
   __TEXT.__swift5_protos: 0x700
   __TEXT.__swift5_proto: 0x2bb0
-  __TEXT.__swift5_types: 0x1848
+  __TEXT.__swift5_types: 0x1840
   __TEXT.__swift5_types2: 0x1c
   __TEXT.__swift5_builtin: 0xeb0
   __TEXT.__swift5_mpenum: 0x244

   __TEXT.__term_offsets: 0x0
   __TEXT.__swift5_replace: 0x0
   __TEXT.__thread_starts: 0x40
-  __TEXT.__eh_frame: 0x27584
+  __TEXT.__eh_frame: 0x27544
   __DATA.__got: 0x18
-  __DATA.__auth_ptr: 0x2a0
+  __DATA.__auth_ptr: 0x2a8
   __DATA.__mod_init_func: 0x38
-  __DATA.__const: 0x30b58
+  __DATA.__const: 0x30af0
   __DATA.__objc_imageinfo: 0x8
-  __DATA.__data: 0x11808
+  __DATA.__data: 0x11828
   __DATA.__shared_cache: 0xe0
-  __DATA.__TIGHTBEAM_VT: 0x540
-  __DATA.__TIGHTBEAM: 0x140
+  __DATA.__TIGHTBEAM_VT: 0x4e0
+  __DATA.__TIGHTBEAM: 0x130
   __DATA.__ENDPOINTS: 0xdeef
   __DATA.__thread_vars: 0x60
   __DATA.__mod_term_func: 0x0

   __DATA.__DEVICETREE: 0x18
   __DATA.__thread_data: 0x0
   __DATA.__thread_bss: 0x28
-  __DATA.__common: 0x6a6
+  __DATA.__common: 0x6c6
   __DATA.__bss: 0x9110
   __PDATA.__data: 0x1bf0
-  __PDATA.__const: 0x4410
+  __PDATA.__const: 0x43f8
   __PDATA.__ENDPOINTS: 0x731
   __PDATA.__shared_cache: 0x38
   __PDATA.__mod_init_func: 0x18
   __PDATA.__auth_ptr: 0x38
   __PDATA.__objc_imageinfo: 0x8
-  __PDATA.__bss: 0x4798
-  __PDATA.__common: 0x2518
+  __PDATA.__bss: 0x47b8
+  __PDATA.__common: 0x2528
   __DATA_CONST.__mod_init_func: 0x0
   __DATA_CONST.__mod_term_func: 0x0
-  Functions: 19721
+  Functions: 19759
   Symbols:   0
-  CStrings:  5635
+  CStrings:  5755
 
CStrings:
+ "!_operation_span_tree_remove(opdata, span_b)"
+ "!rl->rl_active"
+ "!vas->mapping_siptable"
+ "!vas->siptable_mapped"
+ "!vas_core_operation_refresh_pftes(&opdata, vas, cur_saddr, len_left, VAS_PFTE_REFILL)"
+ "!vas_core_operation_start(&opdata, vas, 0, 0, 1, 0, 0, 0)"
+ "!vas_core_operation_start(&opdata, vas, saddr, len, 0, 0, 0, 1)"
+ "!vas_core_operation_start(opdata, vas, saddr, len, 0, 0, 0, 0)"
+ "(rl)->rl_active"
+ "/AppleInternal/Library/BuildRoots/e3acf947-f363-11ef-bc4c-3e0a6b9ba2ed/Applications/Xcode.app/Contents/Developer/Platforms/ExclaveCore.iPhoneOS.platform/Developer/SDKs/ExclaveCore.iPhoneOS18.4.Internal.sdk/System/ExclaveCore/usr/include/xrt/thread.h"
+ "/AppleInternal/Library/BuildRoots/e3acf947-f363-11ef-bc4c-3e0a6b9ba2ed/Applications/Xcode.app/Contents/Developer/Platforms/ExclaveCore.iPhoneOS.platform/Developer/SDKs/ExclaveCore.iPhoneOS18.4.Internal.sdk/System/ExclaveCore/usr/local/standalone/RTKit/usr/include/protocols/mbi_tightbeam_protocol.h"
+ "A >= B || C >= D"
+ "BAMUM LETTER PHASE-A MAEMGBIEE"
+ "BUG IN CLIENT OF LIBMALLOC: %s"
+ "CUNEIFORM SIGN KALAM"
+ "EGYPTIAN HIEROGLYPH-"
+ "I160@?0{stackshotdelegate_helper_getaddressspaceinfo__result_s=C(?=I{stackshottypes_addressspaceinfo_s={stackshottypes_addressspace_s=Q{u8_v_s=C(?={?=*Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}Q{address__opt_s=BQ}{asroot__opt_s=BQ}}{stackshottypes_textlayout_s=Q{stackshottypes_textsegment_v_s=C(?={?=^{stackshottypes_textsegment_s}Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}{u32__opt_s=BI}}})}8"
+ "I28@?0Q8B16@?<I@?{stackshotdelegate_helper_getaddressspaceinfo__result_s=C(?=I{stackshottypes_addressspaceinfo_s={stackshottypes_addressspace_s=Q{u8_v_s=C(?={?=*Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}Q{address__opt_s=BQ}{asroot__opt_s=BQ}}{stackshottypes_textlayout_s=Q{stackshottypes_textsegment_v_s=C(?={?=^{stackshottypes_textsegment_s}Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}{u32__opt_s=BI}}})}>20"
+ "I36@?0^{stackshotdelegatecomponent_stackshotdelegatecomponent__context_s=^^v^^v}8Q16B24@?<I@?{stackshotdelegate_helper_getaddressspaceinfo__result_s=C(?=I{stackshottypes_addressspaceinfo_s={stackshottypes_addressspace_s=Q{u8_v_s=C(?={?=*Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}Q{address__opt_s=BQ}{asroot__opt_s=BQ}}{stackshottypes_textlayout_s=Q{stackshottypes_textsegment_v_s=C(?={?=^{stackshottypes_textsegment_s}Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}{u32__opt_s=BI}}})}>28"
+ "MENDE KIKAKUI SYLLABLE M172 MBO"
+ "MENDE KIKAKUI SYLLABLE M174 MBOO"
+ "Setting UI Brightness "
+ "There are more SCIDs than will fit in the buffer"
+ "WARNING: destroying a span that still has spanmap contents (type %u). The PMM won't be informed of these slots' deletion.\n"
+ "[VAS abort in function %s at line %d] Couldn't find span %p in %p's fault table\n"
+ "[VAS abort in function %s at line %d] [%s] destroying span after failed prepopulate\n"
+ "[VAS abort in function %s at line %d] [%s] merging free spans %p and %p should not fail\n"
+ "[VAS abort in function %s at line %d] [%s] spanmap_merge failed\n"
+ "[VAS abort in function %s at line %d] [%s] split of a free span must never fail\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]%#zx requested > %#zx max\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]Ended up with wrong start address\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]Spans not in address order\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]cn %p (%#lx): slot %#lx's idx %#lx too big\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]empty rangelock\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]faulttables: %#zx requested > %#zx max\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]getting fault table from empty opdata %p\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]getting pagefault hashtable from empty opdata %p\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]getting pagefault tblentry from empty opdata %p\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]getting segmentinfo from empty opdata %p\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]getting span from empty opdata %p\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]must split span into two pieces\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]not initialized to match usage\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]opdata %p fault table count is crazy\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]opdata %p pagefault hashtable count is crazy\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]opdata %p pagefault tblentry count is crazy\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]opdata %p segmentinfo count is crazy\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]opdata %p span count is crazy\n"
+ "[VAS abort in function %s at line %d] [true: %llx %s %llx]segments: %#zx requested > %#zx max\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]Corrupted state of rl->vas\n\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]mismatched VAS pointer\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]opdata %p faulttables not emptied\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]opdata %p pgfault_hashtables not emptied\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]opdata %p pgfault_tblentries not emptied\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]opdata %p segmentinfos not emptied\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]opdata %p spans not emptied\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]opdata not set up\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]opdata not vas %p's active operation\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]page %p in vas %p raced to get mapped\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]rangelock not initialized for vas\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]siptable %p mapspan set\n"
+ "[VAS abort in function %s at line %d] [true: %lx %s %lx]we assume the first span is the passed in span\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] Unable to start operation to initialize vas %p\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] added a new segmentinfo, but no space\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] empty operation starts should always succeed\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] failed but has merged span\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] failed to allocate fault entries\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] fault_done called on inactive faulthandler\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] first get_inspace_segmentinfotable should do the mappings\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] grabbed vas %p vas_lock, but active operation %p listed\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] opdata %p returning NULL fault table\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] opdata %p returning NULL pagefault hashtable\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] opdata %p returning NULL pagefault tblentry\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] opdata %p returning NULL segmentinfo\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] opdata %p returning NULL span\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] rangelock %p not active\n\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] rangelock already active\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] ranges must not be empty\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] rl %p active at destruction\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] rounded up len must be non-zero\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] segmentinfo table already set up\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] should not have to grow multiple times\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] siptable should be mapped\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] spans %p and %p must be free\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] spans %p must be free\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] split of %p at %#zx failed but least one non-NULL span %p %p\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] split of %p at %#zx succeeded but at least one NULL span %p %p\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] success but nos merged span\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] unable to preallocate fault resources\n"
+ "[VAS abort in function %s at line %d] [true: (%s)] vas %p mapping_siptable cleared\n"
+ "[VAS abort in function %s at line %d] rangelock %p not active in vas %p\n"
+ "__span_alloc_operation"
+ "_alloc_frame_locked"
+ "_is_allocated(span)"
+ "_is_allocated(span_a) || _is_allocated(span_b)"
+ "_objret == NULL"
+ "_span_destroy_operation"
+ "_span_merge_free_operation"
+ "_span_merge_operation"
+ "_span_operation_cleanup"
+ "_span_operation_do_return_segmentinfo"
+ "_span_operation_get_segmentinfo"
+ "_span_operation_get_span"
+ "_span_operation_return_span"
+ "_span_split_free_operation"
+ "added"
+ "address_range_overlaps"
+ "cnd_wait(&rl->rl_cnd, &vas->vas_lock)"
+ "corrupt tiny freelist, client likely has a buffer overflow or use-after-free bug"
+ "failed to allocate malloc metadata, out of virtual address space, client likely has a memory leak"
+ "first_span != NULL || second_span != NULL"
+ "first_span == NULL || second_span == NULL"
+ "grew"
+ "len == 0"
+ "malloc assertion \"old_size\" failed (/Library/Caches/com.apple.xbs/Sources/libmalloc_exclavecore/src/xzone/xzone_malloc.c:5026)"
+ "malloc assertion \"success\" failed (/Library/Caches/com.apple.xbs/Sources/libmalloc_exclavecore/src/xzone/xzone_malloc.c:3976)"
+ "mtx_init(&process_table.segmentinfo_table_lock, mtx_plain)"
+ "mtx_init(&result->spanmap_lock, mtx_plain)"
+ "mtx_lock(&psit->segmentinfo_table_lock)"
+ "mtx_lock(&result->spanmap_lock)"
+ "mtx_lock(&second_span->spanmap_lock)"
+ "mtx_lock(&span_b->spanmap_lock)"
+ "mtx_lock(&vas->vas_lock)"
+ "mtx_unlock(&psit->segmentinfo_table_lock)"
+ "mtx_unlock(&result->spanmap_lock)"
+ "mtx_unlock(&second_span->spanmap_lock)"
+ "mtx_unlock(&span_b->spanmap_lock)"
+ "mtx_unlock(&vas->vas_lock)"
+ "pointer zone mismatch, client may be passing the wrong malloc zone"
+ "rl->rl_active"
+ "vas->mapping_siptable"
+ "vas->siptable.sip[0]->externaltablemap == 0ul"
+ "vas->span_active_operation != NULL"
+ "vas_core_fault_table_remove_locked"
+ "vas_core_fault_table_split"
+ "vas_core_operation_finish"
+ "vas_core_operation_get_faulttable"
+ "vas_core_operation_get_pfht"
+ "vas_core_operation_get_pfte"
+ "vas_core_operation_lock"
+ "vas_core_operation_lock_rangelock"
+ "vas_core_operation_refresh_pftes"
+ "vas_core_operation_return_faulttable"
+ "vas_core_operation_return_pfht"
+ "vas_core_operation_return_pfte"
+ "vas_core_operation_setup_and_prealloc"
+ "vas_core_operation_start_empty"
+ "vas_core_rangelock_fini"
+ "vas_core_rangelock_hold"
+ "vas_core_rangelock_install_locked"
+ "vas_core_rangelock_release"
+ "vas_core_set_faultstate"
+ "vas_core_siptable_map_tables"
+ "vas_lock_ensure_no_conflicts"
+ "vas_lock_ensure_rangelock"
+ "vas_return_code(ret) != VAS_SUCCESS"
+ "xrt_process_info_is_set( XRT_PROCESS_INFO_VAS, XRT__PLATFORM_INFO_VAS_SEGMENTINFO_TABLE )"
- "!_span_tree_remove(vas_core_vas_span_tree(span_b->vas), span_b)"
- "!entry"
- "$JgEXBrightComponent.EXBrightComponent.init(isRelease:isRestore:osLogPublisher:device:driverUpcalls:als1:)"
- "$JgEXBrightComponent.EXBrightComponent.init(isRelease:isRestore:osLogPublisher:device:driverUpcalls:als1:als2:)"
- "/AppleInternal/Library/BuildRoots/80a4978a-ebfc-11ef-ae29-3e0a6b9ba2ed/Applications/Xcode.app/Contents/Developer/Platforms/ExclaveCore.iPhoneOS.platform/Developer/SDKs/ExclaveCore.iPhoneOS18.4.Internal.sdk/System/ExclaveCore/usr/include/xrt/thread.h"
- "/AppleInternal/Library/BuildRoots/80a4978a-ebfc-11ef-ae29-3e0a6b9ba2ed/Applications/Xcode.app/Contents/Developer/Platforms/ExclaveCore.iPhoneOS.platform/Developer/SDKs/ExclaveCore.iPhoneOS18.4.Internal.sdk/System/ExclaveCore/usr/local/standalone/RTKit/usr/include/protocols/mbi_tightbeam_protocol.h"
- "Failed to allocate malloc metadata"
- "I152@?0{stackshotdelegate_helper_getaddressspaceinfo__result_s=C(?=I{stackshottypes_addressspaceinfo_s={stackshottypes_addressspace_s=Q{u8_v_s=C(?={?=*Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}Q{address__opt_s=BQ}{asroot__opt_s=BQ}}{stackshottypes_textlayout_s=Q{stackshottypes_textsegment_v_s=C(?={?=^{stackshottypes_textsegment_s}Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}}})}8"
- "I28@?0Q8B16@?<I@?{stackshotdelegate_helper_getaddressspaceinfo__result_s=C(?=I{stackshottypes_addressspaceinfo_s={stackshottypes_addressspace_s=Q{u8_v_s=C(?={?=*Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}Q{address__opt_s=BQ}{asroot__opt_s=BQ}}{stackshottypes_textlayout_s=Q{stackshottypes_textsegment_v_s=C(?={?=^{stackshottypes_textsegment_s}Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}}})}>20"
- "I36@?0^{stackshotdelegatecomponent_stackshotdelegatecomponent__context_s=^^v^^v}8Q16B24@?<I@?{stackshotdelegate_helper_getaddressspaceinfo__result_s=C(?=I{stackshottypes_addressspaceinfo_s={stackshottypes_addressspace_s=Q{u8_v_s=C(?={?=*Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}Q{address__opt_s=BQ}{asroot__opt_s=BQ}}{stackshottypes_textlayout_s=Q{stackshottypes_textsegment_v_s=C(?={?=^{stackshottypes_textsegment_s}Q@?}{?=*QQ}{?=^{tb_message_s}QQQ})}}})}>28"
- "WARNING: destroying a span that still has spanamp contents (type %u). The PMM won't be informed of these slots' deletion.\n"
- "[VAS abort in function %s at line %d] Could not allocate a fault table entry\n"
- "[VAS abort in function %s at line %d] [true: %llx %s %llx]Cannot map %p[%ld]: page %p already mapped\n"
- "[VAS abort in function %s at line %d] [true: %llx %s %llx]Cannot map %p[%ld]: slot >= %ld\n"
- "[VAS abort in function %s at line %d] [true: %llx %s %llx]no space for segmentinfo page\n"
- "[VAS abort in function %s at line %d] [true: %lx %s %lx]Cannot map %p[%ld]: no sip\n"
- "[VAS abort in function %s at line %d] [true: %lx %s %lx]Corrupted state of faulthandle->vas\n\n"
- "[VAS abort in function %s at line %d] [true: %lx %s %lx]Could not allocate initial span for address space\n\n"
- "[VAS abort in function %s at line %d] [true: %lx %s %lx]adding new page should put it at front of freelist\n"
- "[VAS abort in function %s at line %d] [true: (%s)] Corrupted state of faulthandle(not active)\n\n"
- "[VAS abort in function %s at line %d] [true: (%s)] Couldn't find faultable span in fault table\n"
- "[VAS abort in function %s at line %d] [true: (%s)] len must be non-zero\n"
- "[VAS abort in function %s at line %d] [true: (%s)] spanmap merge failed%s (0x%04hx)\n"
- "_get_fault_lock"
- "_get_fault_lock_ensure_no_conflicts"
- "cnd_wait(&fh->active_cnd, &vas->faultstate.fault_lock)"
- "corrupt tiny freelist"
- "len_arg == 0"
- "malloc assertion \"old_size\" failed (/Library/Caches/com.apple.xbs/Sources/libmalloc_exclavecore/src/xzone/xzone_malloc.c:5020)"
- "malloc assertion \"success\" failed (/Library/Caches/com.apple.xbs/Sources/libmalloc_exclavecore/src/xzone/xzone_malloc.c:3974)"
- "mtx_init(&unallocated->spanmap_lock, mtx_plain)"
- "mtx_lock(&vas->faultstate.fault_lock)"
- "mtx_unlock(&vas->faultstate.fault_lock)"
- "pointer being reallocated with wrong zone"
- "vas_core_fault_table_insert"
- "vas_core_fault_table_remove"

```
