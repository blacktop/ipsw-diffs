## CloudSubscriptionFeatures

> `/System/Library/PrivateFrameworks/CloudSubscriptionFeatures.framework/CloudSubscriptionFeatures`

```diff

-301.22.4.9.0
-  __TEXT.__text: 0xda87c
-  __TEXT.__auth_stubs: 0x1fa0
-  __TEXT.__objc_methlist: 0xe70
-  __TEXT.__const: 0x7088
-  __TEXT.__gcc_except_tab: 0x164
-  __TEXT.__cstring: 0x53c1
-  __TEXT.__oslogstring: 0x82c1
+301.22.4.13.0
+  __TEXT.__text: 0xed778
+  __TEXT.__auth_stubs: 0x1e60
+  __TEXT.__objc_methlist: 0xe2c
+  __TEXT.__const: 0x7c18
+  __TEXT.__gcc_except_tab: 0x4c
+  __TEXT.__cstring: 0x5131
+  __TEXT.__oslogstring: 0x6d7c
   __TEXT.__dlopen_cstrs: 0xc4
-  __TEXT.__swift5_typeref: 0x2304
-  __TEXT.__swift5_fieldmd: 0x1f6c
-  __TEXT.__constg_swiftt: 0x22c0
-  __TEXT.__swift5_reflstr: 0x182d
-  __TEXT.__swift5_builtin: 0xc8
-  __TEXT.__swift5_assocty: 0x318
-  __TEXT.__swift5_capture: 0x12f4
-  __TEXT.__swift5_protos: 0x8c
-  __TEXT.__swift5_proto: 0x610
-  __TEXT.__swift5_types: 0x25c
-  __TEXT.__swift_as_entry: 0x38c
-  __TEXT.__swift_as_ret: 0x43c
+  __TEXT.__swift5_typeref: 0x22bc
+  __TEXT.__swift5_fieldmd: 0x2270
+  __TEXT.__constg_swiftt: 0x24a0
+  __TEXT.__swift5_reflstr: 0x1a7d
+  __TEXT.__swift5_builtin: 0xdc
+  __TEXT.__swift5_assocty: 0x378
+  __TEXT.__swift5_capture: 0x130c
+  __TEXT.__swift5_protos: 0x88
+  __TEXT.__swift5_proto: 0x6a8
+  __TEXT.__swift5_types: 0x2a8
+  __TEXT.__swift_as_entry: 0x308
+  __TEXT.__swift_as_ret: 0x388
   __TEXT.__swift5_mpenum: 0x10
-  __TEXT.__unwind_info: 0x3ab8
-  __TEXT.__eh_frame: 0x9a20
-  __TEXT.__objc_classname: 0x142
-  __TEXT.__objc_methname: 0x1e76
+  __TEXT.__unwind_info: 0x3920
+  __TEXT.__eh_frame: 0x9848
+  __TEXT.__objc_classname: 0x144
+  __TEXT.__objc_methname: 0x1dbf
   __TEXT.__objc_methtype: 0x2be
   __TEXT.__objc_stubs: 0xc40
-  __DATA_CONST.__got: 0x538
-  __DATA_CONST.__const: 0x490
-  __DATA_CONST.__objc_classlist: 0x158
-  __DATA_CONST.__objc_protolist: 0x80
+  __DATA_CONST.__got: 0x530
+  __DATA_CONST.__const: 0x448
+  __DATA_CONST.__objc_classlist: 0x150
+  __DATA_CONST.__objc_protolist: 0x78
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x940
-  __DATA_CONST.__objc_protorefs: 0x48
+  __DATA_CONST.__objc_selrefs: 0x918
+  __DATA_CONST.__objc_protorefs: 0x40
   __DATA_CONST.__objc_superrefs: 0x28
-  __AUTH_CONST.__auth_got: 0xfe0
-  __AUTH_CONST.__auth_ptr: 0x980
-  __AUTH_CONST.__const: 0x6c28
+  __AUTH_CONST.__auth_got: 0xf40
+  __AUTH_CONST.__auth_ptr: 0x9e8
+  __AUTH_CONST.__const: 0x6f08
   __AUTH_CONST.__cfstring: 0x480
-  __AUTH_CONST.__objc_const: 0x38a0
+  __AUTH_CONST.__objc_const: 0x3788
   __AUTH.__objc_data: 0x5e0
-  __AUTH.__data: 0x4c8
-  __DATA.__objc_ivar: 0x30
-  __DATA.__data: 0x1f30
-  __DATA.__bss: 0x99d0
+  __AUTH.__data: 0x648
+  __DATA.__objc_ivar: 0x34
+  __DATA.__data: 0x1e80
+  __DATA.__bss: 0xa8d0
   __DATA.__common: 0x10
-  __DATA_DIRTY.__objc_data: 0xd50
-  __DATA_DIRTY.__data: 0x1be8
+  __DATA_DIRTY.__objc_data: 0xcd8
+  __DATA_DIRTY.__data: 0x1ac0
   __DATA_DIRTY.__bss: 0x15c0
-  __DATA_DIRTY.__common: 0x50
+  __DATA_DIRTY.__common: 0x48
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreServices.framework/CoreServices

   - /System/Library/Frameworks/Foundation.framework/Foundation
   - /System/Library/Frameworks/Security.framework/Security
   - /System/Library/PrivateFrameworks/AppleAccount.framework/AppleAccount
-  - /System/Library/PrivateFrameworks/BackgroundSystemTasks.framework/BackgroundSystemTasks
   - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics
   - /System/Library/PrivateFrameworks/CoreFollowUp.framework/CoreFollowUp
   - /System/Library/PrivateFrameworks/DeviceIdentity.framework/DeviceIdentity

   - /System/Library/PrivateFrameworks/GenerativeModels.framework/GenerativeModels
   - /System/Library/PrivateFrameworks/GenerativeModelsFoundation.framework/GenerativeModelsFoundation
   - /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
-  - /System/Library/PrivateFrameworks/ModelCatalog.framework/ModelCatalog
   - /System/Library/PrivateFrameworks/SoftLinking.framework/SoftLinking
   - /usr/lib/libMobileGestalt.dylib
   - /usr/lib/libSystem.B.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 4300
-  Symbols:   721
-  CStrings:  1517
+  Functions: 4255
+  Symbols:   695
+  CStrings:  1432
 
Symbols:
+ _MobileGestalt_copy_regionCode_obj
+ _swift_cvw_allocateGenericValueMetadataWithLayoutString
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_enumFn_getEnumTag
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
- _OBJC_CLASS_$_BGSystemTaskScheduler
- _OBJC_CLASS_$_SwiftNativeNSObject
- _OBJC_CLASS_$__TtC25CloudSubscriptionFeatures6Assets
- _OBJC_METACLASS_$_SwiftNativeNSObject
- _OBJC_METACLASS_$__TtC25CloudSubscriptionFeatures6Assets
- _dispatch_group_enter
- _dispatch_group_leave
- _swift_allocateGenericValueMetadataWithLayoutString
- _swift_enumFn_getEnumTag
- _swift_generic_assignWithCopy
- _swift_generic_assignWithTake
- _swift_generic_destroy
- _swift_generic_initWithCopy
- _swift_generic_initWithTake
- _swift_generic_initializeBufferWithCopyOfBuffer
- _swift_getDynamicType
- _swift_initEnumMetadataMultiPayloadWithLayoutString
- _swift_initStructMetadataWithLayoutString
- _swift_multiPayloadEnumGeneric_destructiveInjectEnumTag
- _swift_multiPayloadEnumGeneric_getEnumTag
CStrings:
+ "\x11"
+ "%{public}s Auth header is missing, will attempt to renew credentials"
+ "%{public}s Failed to sign request but it has account auth headers. Will attempt to send it anyway with headers: %s"
+ "%{public}s Failed to sign request with error: %{public}s"
+ "%{public}s Successfully signed request."
+ "%{public}s Unable to BAA sign request and account auth headers are missing. Returning LocalError.missingAuthorizationHeader."
+ "%{public}s Unable to BAA sign request and there is no account. Returning LocalError.userLoggedOut."
+ "%{public}s Unable to encode ticket request object. Request will still be made: %@"
+ "%{public}s did complete task with identifier %{public}s in %{public}f seconds."
+ "%{public}s did create task with identifier %{public}s"
+ "%{public}s did timeout task with identifier %{public}s in %{public}f seconds."
+ "%{public}s is deprecated, returning empty set."
+ "%{public}s timed out"
+ "Attempted to post TTR %{public}s but it is disabled."
+ "Cleaning up task for identifier %{public}s"
+ "Creating new task for identifier %{public}s"
+ "Device is not elegible for CFU, clearing any existing CFUs"
+ "Error fetching CT device capability: %{public}@"
+ "Excessive requests detected (%{public}ld exceeded %{public}ld. Sending CA event."
+ "Fetched CT device capability: %{bool,public}d"
+ "Fetching CT capability."
+ "ForceTaskLimiterTimeout"
+ "Opted in via buddy but device is signed in, skipping extra notification update."
+ "Performing task operation for identifier %{public}s"
+ "Registering for logged out push notifications."
+ "Reusing existing task for identifier %{public}s"
+ "Sending distributed notification on auto opt-in change."
+ "Storing task for identifier %{public}s"
+ "TQ,N,V_state"
+ "Timeoutable task %{public}s finished before timeout"
+ "Tq,N,R"
+ "Tq,R,N"
+ "Unable to determine returned feature: %{public}s"
+ "Unregistering for logged out push notifications."
+ "Updating GMS on auto opt-in status."
+ "[%@] %s Skipping device asset status checks."
+ "[%@] %s Skipping getting device asset status."
+ "[%{public}s] CFU code deprecated, skipping CFU checks"
+ "_state"
+ "com.apple.CloudSubscriptionFeatures.availability.getAccessStatus"
+ "com.apple.CloudSubscriptionFeatures.ct.deviceCapability"
+ "com.apple.CloudSubscriptionFeatures.error.excessiveRequests"
+ "com.apple.CloudSubscriptionFeatures.error.expiredJWT"
+ "com.apple.CloudSubscriptionFeatures.gateway_request.signing"
+ "com.apple.CloudSubscriptionFeatures.receivedFeatureEvent"
+ "com.apple.CloudSubscriptionFeatures.taskLimiter.finish"
+ "com.apple.CloudSubscriptionFeatures.taskLimiter.start"
+ "com.apple.CloudSubscriptionFeatures.waitlist.signupOrGetWaitlistStatus"
+ "coreTelephony"
+ "disableAvailabilitySPI"
+ "errorDescription"
+ "gmsIsAvailable"
+ "hadPreviousValue"
+ "hasPrimaryAccount"
+ "isAuthHeaderMissing"
+ "isIneligibleDevice"
+ "numberOfRequestIn24Hours"
+ "requestAllowedToContinue"
+ "returnedFeatureIDs"
+ "secondsToComplete"
+ "setState:"
+ "signingWasSuccessful"
+ "state"
+ "telemetryProvider"
+ "urlRequest(with:urlProvider:urlRequestBuilder:signer:)"
- "%s Eligibility bypass is set to YES. Overriding asset status to available."
- "%s Eligibility bypass is set to YES. Overriding asset unavailability status %s to available."
- "%s FF is disabled, revaluating assets."
- "%s calling `postGMCFU` is deprecated, skipping."
- "%s calling `updateCSFAssetStatus` is deprecated, skipping."
- "%{public}s ADM Bypass is enabled, will skip feature availability checks."
- "%{public}s Device does not meet hardware/locale/region requirements. Will not start ADM downloads."
- "%{public}s Device is not opted in but has not engaged with CFU. Should download ADM assets."
- "%{public}s Device is not opted-in (has toggle disabled). Should not start ADM asset download."
- "%{public}s Device is opted-in (has toggle enabled). Should start ADM downloads."
- "%{public}s Device meets hardware/locale/region requirements but has not been dequeued nor is currently in the ADM waitlist. Will not start ADM downloads."
- "%{public}s Device meets hardware/locale/region requirements, but ADM feature availability was not able to be fetched. Will not alter ADM download state. Error: %@"
- "%{public}s New asset status flag enabled, will return empty set for unavailable reasons."
- "%{public}s Original CFU is disabled, will not post."
- "%{public}s attempted to post CFU but it is disabled."
- "%{public}s skipped."
- "+[CSFAvailability currentAvailability]_block_invoke"
- "Access is granted but user has opted out."
- "Access not granted - device is not through waitlist."
- "Account retrieved %s"
- "Are assets ready? %{bool}d"
- "Assets are not ready. Device has enough storage? %{bool,public}d"
- "Assets are ready. Returning true."
- "Attempted to check for deferred notification eligibility and post but could not create FollowUp object."
- "Attempted to post CFU but device does not preconditions."
- "Attempted to post CFU but server has not granted access yet."
- "Attempted to post CFU but user is ineligible with reasons: %s"
- "Auth header is missing, will attempt to renew credentials"
- "Clearing cached Asset status"
- "CloudSubscriptionFeatures.Assets"
- "DaemonController.registerForBackgroundTasks"
- "DaemonController.start"
- "Determining if Siri assets are finished downloading."
- "Device does not meet hardware/locale/region requirements, but not all availability was able to be fetched. Will not alter download state."
- "Device does not meet hardware/locale/region requirements. Will not start downloads."
- "Device is eligible for GM SPIs."
- "Device is not eligible for GM SPIs or UI: %s"
- "Device is not in or through the waitlist."
- "Device is not opted in but has not engaged with CFU. Should download assets."
- "Device is not opted-in (has toggle disabled). Should not start asset download."
- "Device is not ready for ADM downloads, sending releaseResources signal. [Source: %s]"
- "Device is not ready for downloads, sending releaseResources signal. [Source: %s]"
- "Device is opted-in (has toggle enabled). Should start downloads."
- "Device is ready for ADM downloads, sending requestResources signal. [Source: %s]"
- "Device is ready for downloads, sending requestResources signal. [Source: %s]"
- "Device meets hardware/locale/region requirements but has not been dequeued (accessNotGranted). Will not start downloads."
- "Does device have enough storage? %{bool}d"
- "Evaluating whether ADM assets should be downloaded or released. [Source: %s]"
- "Evaluating whether assets should be downloaded or released silently. [Source: %s]"
- "Evaluating whether assets should be downloaded or released. [Source: %s]"
- "Excessive requests detected (%{public}ld exceeded %{public}ld. Attempting to post TTR."
- "Failed to notify AvailabilityFoundationClient about new asset status: %{public}s. Error: %{public}s"
- "Feature flag is disabled, defaulting to old behavior and making checks before posting CFU."
- "Feature flag is enabled, bypassing checks and posting CFU."
- "FeatureRequestHandler.fetchAllFeatures"
- "FeatureRequestHandler.getTicket"
- "FeatureRequestHandler.getTicketStatus"
- "FeatureRequestHandler.signupForWaitlist"
- "FeatureRequestHandler.waitlistStatus"
- "GenerativeModels are full available, Siri assets are finished downloading. Returning true"
- "GenerativeModels are restricted and Siri assets are not finished downloading. Returning false."
- "GenerativeModels are restricted but Siri assets are finished downloading. Returning true."
- "GenerativeModels are unavailable and Siri asset status is unknown. Returning false."
- "GenerativeModels are unavailable and Siri assets are not finished downloading. Returning false."
- "GenerativeModels are unavailable but Siri assets are finished downloading. Returning true."
- "Old CFU is disabled, skipping CFU check+post."
- "Old CFU is enabled, skipping CFU check+post."
- "Preconditions met, Checking if CFU should be posted"
- "Prerequisite requirements (HW and/or SW eligibility) not met."
- "Received new value in stream for asset notification."
- "Received response for forcePostCFU. Error: %s"
- "Registering for asset notifications."
- "Registering for background task %s."
- "Skiping asset download check because of assets bypass"
- "Skiping storage check because of assets bypass"
- "Skipping %s: assetsFinishedDownloading is %{bool}d)"
- "Successfully notified AvailabilityFoundationClient about new asset status: %{public}s!"
- "T@\"<_TtP25CloudSubscriptionFeatures21AssetsStatusProviding_>\",N,R"
- "Task limitier timed out"
- "TaskLimiter: cleaning up task for identifier %s"
- "TaskLimiter: creating new task for identifier %s"
- "TaskLimiter: performing task operation for identifier %s"
- "TaskLimiter: reusing existing task for identifier %{public}s"
- "TaskLimiter: storing task for identifier %s"
- "Timeoutable task finished before timeout"
- "Triggered model deletion successfully. [Source: %s, requestResourcesKey: %s]"
- "Triggered model downloaded successfully. [Source: %s, requestResourcesKey: %s]"
- "Triggering model deletion. [Source: %s, requestResourcesKey: %s]"
- "Triggering model download. [Source: %s, requestResourcesKey: %s]"
- "Unable to check if assets are finished downloading with error: %@"
- "Unable to check if device has enough storage for assets with error: %@"
- "Unable to encode ticket request object. Request will still be made: %@"
- "Unable to fetch device readyness, not sending request or release ADM resources. [Source: %s]"
- "Unable to fetch device readyness, not sending request or release resources. [Source: %s]"
- "Unable to fully fetch availability"
- "Unable to request model deletion with error: %@. [Source: %s, requestResourcesKey: %s]"
- "Unable to request resources with error: %@ [Source: %s, requestResourcesKey: %s]"
- "Unable to sign request. Sending with headers: %s"
- "Unable to trigger download or release of resources because the device has not been unlocked [Source: %s]"
- "Unknown availabilty case when determining if Siri assets are downloaded."
- "User is eligible for CFU."
- "User is ineligible for GM CFU with reasons: %s"
- "User is not elegible for CFU, clearing any existing CFUs"
- "Using cached Asset status finishedDownloading: %{bool,public}d enoughStorage: %{bool,public}d"
- "[%@] %s Getting device asset status."
- "[%@] %s Received device asset status - assetsFinishedDownloading? %{public}@, hasEnoughStorage? %{public}@"
- "[%@] %s getting feature for availability check."
- "[%{public}s]Determining if user is eligible for CFU."
- "[%{public}s]No FollowUp able to be created. Will not post CFU."
- "[%{public}s]User had old and new features, attempting to further check eligiblity."
- "[%{public}s]User is not eligible for CFU because new feature object is nil. Old object: %{public}@"
- "[%{public}s]User is not eligible for CFU because old and new feature objects are nil."
- "[%{public}s]User is not eligible for CFU because old feature object is nil. New object: %{public}@"
- "_TtC25CloudSubscriptionFeatures6Assets"
- "_TtP25CloudSubscriptionFeatures21AssetsStatusProviding_"
- "assetStatusWithCompletionHandler:"
- "assetsNotFinishedDownloading"
- "catalogClient"
- "checkDeferredNotificationEligibilityAndPost()"
- "checkEligibilityAndPostGMCFU(oldFeature:newFeature:)"
- "com.apple.CloudSubscriptionFeaturesAgent"
- "com.apple.cloudsubscriptionfeaturesd"
- "com.apple.csf.bgtask"
- "com.apple.csf.unlock"
- "com.apple.iCloudNotificationAgent"
- "doesNotHaveAccess"
- "forcePostCFUWithCompletion:"
- "forcePostCFUWithCompletionHandler:"
- "getAssetsFinishedDownloading"
- "getAssetsStatus"
- "getSiriAssetsFinishedDownloading"
- "hardwareIneligible"
- "isAlreadyOptedIn"
- "latestStatus"
- "noAction"
- "registerForAssetNotifications()"
- "registerForTaskWithIdentifier:usingQueue:launchHandler:"
- "resetCachedStatusWithCompletionHandler:"
- "revalidateCFU skipped due to disabled behavior."
- "setTaskCompleted"
- "sharedScheduler"
- "shouldReleaseADMModels()"
- "siriAssetsFinishedDownloading()"
- "siriAssetsNotFinishedDownloading"
- "softwareIneligible"
- "updateAssetStatus(unavailableReasons:)"
- "v16@?0@\"BGSystemTask\"8"
- "v16@?0B8B12"
- "v24@0:8@?<v@?>16"
- "v24@0:8@?<v@?BB>16"

```
