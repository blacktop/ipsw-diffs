## IMDPersistence

> `/System/Library/PrivateFrameworks/IMDPersistence.framework/IMDPersistence`

```diff

-1402.500.128.2.2
-  __TEXT.__text: 0x11cf5c
-  __TEXT.__auth_stubs: 0x27d0
-  __TEXT.__objc_methlist: 0x421c
+1402.500.164.2.1
+  __TEXT.__text: 0x11e324
+  __TEXT.__auth_stubs: 0x2800
+  __TEXT.__objc_methlist: 0x4244
   __TEXT.__const: 0xb80
-  __TEXT.__cstring: 0x39bb1
-  __TEXT.__oslogstring: 0x1a355
-  __TEXT.__gcc_except_tab: 0xe680
+  __TEXT.__cstring: 0x39bd1
+  __TEXT.__oslogstring: 0x1a425
+  __TEXT.__gcc_except_tab: 0xe69c
   __TEXT.__ustring: 0x434
   __TEXT.__dlopen_cstrs: 0x2a4
   __TEXT.__swift5_typeref: 0x1fc

   __TEXT.__swift5_capture: 0xe4
   __TEXT.__swift5_types: 0x18
   __TEXT.__swift5_reflstr: 0x6f
-  __TEXT.__unwind_info: 0x4ea8
+  __TEXT.__unwind_info: 0x4ec8
   __TEXT.__eh_frame: 0x178
   __TEXT.__objc_classname: 0xb5b
-  __TEXT.__objc_methname: 0x10b7b
+  __TEXT.__objc_methname: 0x10bf6
   __TEXT.__objc_methtype: 0x24a4
-  __TEXT.__objc_stubs: 0xdf40
-  __DATA_CONST.__got: 0xea0
+  __TEXT.__objc_stubs: 0xdfc0
+  __DATA_CONST.__got: 0xf28
   __DATA_CONST.__const: 0x110a0
   __DATA_CONST.__objc_classlist: 0x298
   __DATA_CONST.__objc_catlist: 0x20
   __DATA_CONST.__objc_protolist: 0x110
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x3d98
+  __DATA_CONST.__objc_selrefs: 0x3db8
   __DATA_CONST.__objc_protorefs: 0x70
   __DATA_CONST.__objc_superrefs: 0xf8
   __DATA_CONST.__objc_arraydata: 0x190
-  __AUTH_CONST.__auth_got: 0x13f8
-  __AUTH_CONST.__auth_ptr: 0xf8
+  __AUTH_CONST.__auth_got: 0x1410
+  __AUTH_CONST.__auth_ptr: 0xa0
   __AUTH_CONST.__const: 0x1ad0
-  __AUTH_CONST.__cfstring: 0x113c0
+  __AUTH_CONST.__cfstring: 0x113a0
   __AUTH_CONST.__objc_const: 0x6028
   __AUTH_CONST.__objc_intobj: 0x138
   __AUTH_CONST.__objc_arrayobj: 0x90

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 4661
-  Symbols:   2369
-  CStrings:  7549
+  Functions: 4668
+  Symbols:   2378
+  CStrings:  7560
 
Symbols:
+ _IMAppleMapsURLUnknownLocationCoordinateQueryKey
+ _IMBrandInfoAttributeName
+ _IMMapsURLHostApple
+ _IMMapsURLHostGoogle
+ _IMPersistentMenuAttributeName
+ _OBJC_CLASS_$_IMMapURLHelpers
+ _sqlite3_expanded_sql
+ _sqlite3_free
+ _sqlite3_trace_v2
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
- _swift_generic_assignWithCopy
- _swift_generic_assignWithTake
- _swift_generic_destroy
- _swift_generic_initWithCopy
- _swift_generic_initWithTake
- _swift_generic_initializeBufferWithCopyOfBuffer
- _swift_initStructMetadataWithLayoutString
CStrings:
+ "    '%@'"
+ "    '%@' <-- TABLE SCAN DETECTED!"
+ "  Elapsed milliseconds: %lld"
+ "  Query Plan:"
+ "  Query:"
+ "?:"
+ "Chat has chatbot info, we should not synthesize notification content from intent"
+ "EXPLAIN QUERY PLAN"
+ "EXPLAIN QUERY PLAN %@;"
+ "Long running query detected!"
+ "SCAN"
+ "__im_URLForChatIdentifier:entryBody:messageGUID:sourceID:"
+ "_displayNameForHandle:andContact:fallbackName:"
+ "_fallbackNameOfChatbotFrom:"
+ "_isChatbotChat:"
+ "coordinatesFromString:"
+ "notification"
+ "void IMDMessageRecordBulkUpdate(IMDMessageRecordRef, int64_t, CFStringRef, int64_t, int64_t, int64_t, int64_t, CFStringRef, CFDataRef, CFNumberRef, CFStringRef, CFStringRef, CFStringRef, int64_t, CFStringRef, int64_t, int64_t, int64_t, CFStringRef, int64_t, int64_t, int64_t, int64_t, int64_t, CFStringRef, int64_t, NSRange, CFStringRef, CFDataRef, CFStringRef, int64_t, CFDataRef, int64_t, CFStringRef, CFDataRef, CFStringRef, CFStringRef, CFStringRef, int64_t, CFStringRef, CFStringRef, CFStringRef, CFStringRef, int64_t, int64_t, int64_t, CFStringRef, CFStringRef, CFStringRef, int64_t, int64_t)"
- "?9"
- "__im_URLForChatIdentifier:entryBody:messageGUID:"
- "ll"
- "maps.apple.com"
- "maps.google.com"
- "sll"
- "void IMDMessageRecordBulkUpdate(IMDMessageRecordRef, int64_t, CFStringRef, int64_t, int64_t, int64_t, int64_t, CFStringRef, CFDataRef, CFNumberRef, CFStringRef, CFStringRef, CFStringRef, int64_t, CFStringRef, int64_t, int64_t, int64_t, CFStringRef, int64_t, int64_t, int64_t, int64_t, int64_t, CFStringRef, int64_t, NSRange, CFDataRef, CFStringRef, int64_t, CFDataRef, int64_t, CFStringRef, CFDataRef, CFStringRef, CFStringRef, CFStringRef, int64_t, CFStringRef, CFStringRef, CFStringRef, CFStringRef, int64_t, int64_t, int64_t, CFStringRef, CFStringRef, CFStringRef, int64_t, int64_t)"

```
