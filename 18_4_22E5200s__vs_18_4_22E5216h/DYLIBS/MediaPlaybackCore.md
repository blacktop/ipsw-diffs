## MediaPlaybackCore

> `/System/Library/PrivateFrameworks/MediaPlaybackCore.framework/MediaPlaybackCore`

```diff

-24500.25.5.401.0
-  __TEXT.__text: 0x348e80
-  __TEXT.__auth_stubs: 0x4c30
-  __TEXT.__objc_methlist: 0x15a40
+24515.25.9.201.0
+  __TEXT.__text: 0x36ff54
+  __TEXT.__auth_stubs: 0x4db0
+  __TEXT.__objc_methlist: 0x15b98
   __TEXT.__dlopen_cstrs: 0x114
-  __TEXT.__const: 0x12a78
-  __TEXT.__cstring: 0x29403
-  __TEXT.__constg_swiftt: 0x65a4
-  __TEXT.__swift5_typeref: 0x462f
-  __TEXT.__swift5_builtin: 0x6a4
-  __TEXT.__swift5_reflstr: 0x4222
-  __TEXT.__swift5_fieldmd: 0x4094
+  __TEXT.__const: 0x12b68
+  __TEXT.__cstring: 0x2a32b
+  __TEXT.__constg_swiftt: 0x665c
+  __TEXT.__swift5_typeref: 0x47e0
+  __TEXT.__swift5_builtin: 0x690
+  __TEXT.__swift5_reflstr: 0x42e2
+  __TEXT.__swift5_fieldmd: 0x4150
   __TEXT.__swift5_assocty: 0xdc0
-  __TEXT.__swift5_capture: 0x3050
-  __TEXT.__oslogstring: 0x2ff5a
-  __TEXT.__swift5_proto: 0x8d8
+  __TEXT.__swift5_capture: 0x30f4
+  __TEXT.__oslogstring: 0x30cd6
+  __TEXT.__swift5_proto: 0x8dc
   __TEXT.__swift5_types: 0x488
-  __TEXT.__swift_as_entry: 0x298
-  __TEXT.__swift_as_ret: 0x2fc
+  __TEXT.__swift_as_entry: 0x2cc
+  __TEXT.__swift_as_ret: 0x36c
   __TEXT.__swift5_mpenum: 0xd8
-  __TEXT.__swift5_protos: 0xe4
-  __TEXT.__gcc_except_tab: 0x5db0
+  __TEXT.__swift5_protos: 0xe8
+  __TEXT.__gcc_except_tab: 0x5c50
   __TEXT.__ustring: 0x36c
-  __TEXT.__unwind_info: 0xa6b8
-  __TEXT.__eh_frame: 0x87ac
-  __TEXT.__objc_classname: 0x3a2e
-  __TEXT.__objc_methname: 0x368a9
-  __TEXT.__objc_methtype: 0x918f
-  __TEXT.__objc_stubs: 0x25580
-  __DATA_CONST.__got: 0x2a60
-  __DATA_CONST.__const: 0x8bd0
-  __DATA_CONST.__objc_classlist: 0xc08
+  __TEXT.__unwind_info: 0xaf50
+  __TEXT.__eh_frame: 0x9a54
+  __TEXT.__objc_classname: 0x3a60
+  __TEXT.__objc_methname: 0x36ce6
+  __TEXT.__objc_methtype: 0x91bb
+  __TEXT.__objc_stubs: 0x256c0
+  __DATA_CONST.__got: 0x2b60
+  __DATA_CONST.__const: 0x8bf0
+  __DATA_CONST.__objc_classlist: 0xc10
   __DATA_CONST.__objc_catlist: 0x288
-  __DATA_CONST.__objc_protolist: 0x718
+  __DATA_CONST.__objc_protolist: 0x730
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xba80
-  __DATA_CONST.__objc_protorefs: 0x320
+  __DATA_CONST.__objc_selrefs: 0xbba0
+  __DATA_CONST.__objc_protorefs: 0x330
   __DATA_CONST.__objc_superrefs: 0x690
   __DATA_CONST.__objc_arraydata: 0x270
-  __AUTH_CONST.__auth_got: 0x2628
-  __AUTH_CONST.__auth_ptr: 0xbe8
-  __AUTH_CONST.__const: 0xdc50
-  __AUTH_CONST.__cfstring: 0x1b3c0
-  __AUTH_CONST.__objc_const: 0x2f350
+  __AUTH_CONST.__auth_got: 0x26e8
+  __AUTH_CONST.__auth_ptr: 0xcd0
+  __AUTH_CONST.__const: 0xdfa0
+  __AUTH_CONST.__cfstring: 0x1b6c0
+  __AUTH_CONST.__objc_const: 0x2f640
   __AUTH_CONST.__objc_intobj: 0x7b0
   __AUTH_CONST.__objc_arrayobj: 0x258
   __AUTH_CONST.__objc_dictobj: 0xc8
   __AUTH_CONST.__objc_doubleobj: 0x50
-  __AUTH.__objc_data: 0x28d0
-  __AUTH.__data: 0x1550
-  __DATA.__objc_ivar: 0x188c
-  __DATA.__data: 0x6018
+  __AUTH.__objc_data: 0x2a40
+  __AUTH.__data: 0x1580
+  __DATA.__objc_ivar: 0x1894
+  __DATA.__data: 0x6260
   __DATA.__bss: 0xc9d0
-  __DATA.__common: 0x50
+  __DATA.__common: 0x58
   __DATA_DIRTY.__objc_data: 0x5290
-  __DATA_DIRTY.__data: 0x5e98
+  __DATA_DIRTY.__data: 0x5e48
   __DATA_DIRTY.__bss: 0x3058
   __DATA_DIRTY.__common: 0x180
   - /System/Library/Frameworks/AVFAudio.framework/AVFAudio

   - /System/Library/PrivateFrameworks/AssistantServices.framework/AssistantServices
   - /System/Library/PrivateFrameworks/AudioToolboxCore.framework/AudioToolboxCore
   - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics
+  - /System/Library/PrivateFrameworks/CoreTime.framework/CoreTime
   - /System/Library/PrivateFrameworks/FeatureFlags.framework/FeatureFlags
   - /System/Library/PrivateFrameworks/MediaExperience.framework/MediaExperience
   - /System/Library/PrivateFrameworks/MediaFoundation.framework/MediaFoundation

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 16969
-  Symbols:   12109
-  CStrings:  17455
+  Functions: 17377
+  Symbols:   12443
+  CStrings:  17635
 
Symbols:
+ _MPCPlaybackEngineEventPayloadKeyItemAVMetricEventData
+ _MPCPlaybackEngineEventPayloadKeyItemAVMetricEventName
+ _MPCPlaybackEngineEventTypeItemAVMetric
+ _MRRequestDetailsInitiatorInfer
+ _OBJC_CLASS_$_AVMetricContentKeyRequestEvent
+ _OBJC_CLASS_$_AVMetricErrorEvent
+ _OBJC_CLASS_$_AVMetricEvent
+ _OBJC_CLASS_$_AVMetricEventStream
+ _OBJC_CLASS_$_AVMetricHLSMediaSegmentRequestEvent
+ _OBJC_CLASS_$_AVMetricHLSPlaylistRequestEvent
+ _OBJC_CLASS_$_AVMetricPlayerItemPlaybackSummaryEvent
+ _OBJC_CLASS_$_AVMetricPlayerItemVariantSwitchEvent
+ _OBJC_CLASS_$_AVMetricPlayerItemVariantSwitchStartEvent
+ _OBJC_CLASS_$_MPDelegateAccountCommandEvent
+ _OBJC_CLASS_$_MRCommandResult
+ _OBJC_CLASS_$_MRSendCommandResultStatus
+ _TMGetReferenceTime
+ _kMRMediaRemoteCommandInfoPlaybackSessionRequirements
+ _kMRMediaRemoteOptionDelegateAccountData
+ _kMRMediaRemoteOptionDelegateAccountDataType
+ _kMRMediaRemoteOptionPlaybackSessionIdentifier
+ _swift_cvw_assignWithCopy
+ _swift_cvw_assignWithTake
+ _swift_cvw_destroy
+ _swift_cvw_enumFn_getEnumTag
+ _swift_cvw_initEnumMetadataMultiPayloadWithLayoutString
+ _swift_cvw_initStructMetadataWithLayoutString
+ _swift_cvw_initWithCopy
+ _swift_cvw_initWithTake
+ _swift_cvw_initializeBufferWithCopyOfBuffer
+ _swift_cvw_multiPayloadEnumGeneric_destructiveInjectEnumTag
+ _swift_cvw_multiPayloadEnumGeneric_getEnumTag
+ _swift_dynamicCastMetatype
+ _swift_getMetatypeMetadata
+ _swift_stdlib_random
- _MRAVEndpointGetMyGroupLeaderWithTimeout
- _swift_enumFn_getEnumTag
- _swift_generic_assignWithCopy
- _swift_generic_assignWithTake
- _swift_generic_destroy
- _swift_generic_initWithCopy
- _swift_generic_initWithTake
- _swift_generic_initializeBufferWithCopyOfBuffer
- _swift_initEnumMetadataMultiPayloadWithLayoutString
- _swift_initStructMetadataWithLayoutString
- _swift_multiPayloadEnumGeneric_destructiveInjectEnumTag
- _swift_multiPayloadEnumGeneric_getEnumTag
CStrings:
+ " [fallback]"
+ "%{public}@: Cleared cached asset from the library."
+ "%{public}@: Failed to clear cached asset from the library error=%{public}@."
+ "%{public}@: Failed to remove local asset at %{public}@ error=%{public}@."
+ "%{public}@: Item ended earlier than expected endTime=%0.2f expectedEndTime=%0.2f"
+ "%{public}@: Removed corrupted local asset because item ended earlier than expected endTime=%0.2f expectedEndTime=%0.2f"
+ "%{public}@: Removed local asset at %{public}@"
+ "%{public}s | TMGetReferenceTime returned NaN, falling back to device time: %f"
+ "%{public}s | currentReferenceTime=%f, uncertainty=%f, reliability=%d"
+ "@\"MRPlayerPath\"16@0:8"
+ "@\"_MPCProtoDelegateInfoTokenB\""
+ "AVMetricEventStreamSubscriber"
+ "Auth Skipped: Reforming group around local device"
+ "DeviceDoesNotSupportDelegation"
+ "EventCount"
+ "Failed to decode migration requirements"
+ "Failed to find reason for AssetLoad timeout for "
+ "Failed to find reason for QueueLoad timeout for "
+ "Failed to find reason for ReadyToPlay timeout for "
+ "Failed to find reason for setRate timeout for "
+ "FailedToDecodeCommandOptions"
+ "FailedToDecodeSessionRequirements"
+ "FailedToDecodeSessionRequirementsFilter"
+ "FailedToPerformDelegation"
+ "In process or local device, we create a custom data queue"
+ "Item ended earlier than expected"
+ "ItemEnd"
+ "LargeEVSFlushWindow"
+ "Lease prevention error"
+ "LeasePrevention"
+ "MPNowPlayingInfoTransportableSessionRequest"
+ "MediaPlaybackCore.MPCAVPlayerItemMetricSubscription"
+ "MediaPlaybackCore.MPCMigrationData"
+ "Migration type missing"
+ "Missing filter from migration requirements"
+ "Missing migration requirements from destinationCommandInfo"
+ "Missing set rate for "
+ "No current item in queue controller"
+ "OneShotQHO"
+ "RADIO_NETWORK_UNAVAILABLE_WLAN_MESSAGE"
+ "Received media query queue with no items in it."
+ "S\x15"
+ "Session contains non-transportable content reason="
+ "SessionNotTransportable"
+ "StageCondition [MPC]"
+ "T@\"_MPCProtoDelegateInfo\",R,N"
+ "TB,N,V_didHandleLastFlushedEvents"
+ "TimeoutAssetConfiguration"
+ "TimeoutAssetLoadEndMissing"
+ "TimeoutAssetLoadNetworkRequest"
+ "TimeoutGetTracks"
+ "TimeoutLeaseRequest"
+ "TimeoutModelLookup"
+ "TimeoutNetworkTaskCompletion"
+ "TimeoutNetworkTaskResponse"
+ "TimeoutNetworkTaskResume"
+ "TimeoutSKDRequest"
+ "Unable to archive Podcasts queue: %@"
+ "Unable to decode session"
+ "Unknown reason for remaining on item asset configuration"
+ "Unknown reason for remaining on item asset load after configuration"
+ "Unsupported sessionType "
+ "Waiting on Lease Request"
+ "Waiting on SKD network request for "
+ "Waiting on asset load network request for "
+ "Waiting on model lookup request for "
+ "Waiting on network request to complete: "
+ "Waiting on network request to respond: "
+ "Waiting on network request to resume: "
+ "Waiting on radio request for "
+ "[EVS:%{public}@:%{public}@:%p] _onQueue_flush | updating bookmark [unsubscribed event] lastEventSuccessTimestamp=%llu"
+ "[PUB:%{public}s] delegateAccount | delegation successful for account=%s"
+ "[Publisher] MPCMediaRemoteCommandStageCondition - error:%{public}@"
+ "[SNM:%{public}s] - [Lease] - Session migration did end with error [Stealing the lease back] - identifier=%{public}s - error=%{public}@"
+ "[SNM:%{public}s] - [Lease] - Session migration will begin - identifier=%{public}s"
+ "[SNM:%{public}s] didEndMigration | Migration end failed with error - identifier=%{public}s - error=%{public}@"
+ "[SNM:%{public}s] didEndMigration | Migration ended - identifier:%{public}s"
+ "[SNM:%{public}s] getTransportablePlaybackSessionRepresentation | beginning delegation for accountID=%s"
+ "[SNM:%{public}s] getTransportablePlaybackSessionRepresentation | delegation requested [tokenE provided]"
+ "[SNM:%{public}s] getTransportablePlaybackSessionRepresentation | legacy migration path taken [destinationCommandInfo is not available]"
+ "[SNM:%{public}s] getTransportablePlaybackSessionRepresentation | one shot migration is possible [destinationCommandInfo is populated]"
+ "[SNM:%{public}s] getTransportablePlaybackSessionRepresentation | queueController=%s, playbackPosition=%f, playbackRate=%f, currentItemDuration=%f"
+ "[SNM:%{public}s] performSetSession succeeded - identifier: %s"
+ "[SNM:%{public}s] performSetSession | delegation successful for account=%s"
+ "[SNM:%{public}s] performSetSession | elapsedTime since migration begin: %{public}f"
+ "[SNM:%{public}s] performSetSession | jump to NEW time=%{public}f [song skipped during migration - not implemented yet]"
+ "[SNM:%{public}s] performSetSession | jump to time=%{public}f, with rate=%{public}f"
+ "[SNM:%{public}s] performSetSession | prepareToPlay(actionID: %{public}s, isRequestingImmediatePlayback: %{bool}d)"
+ "[SNM:%{public}s] performSetSession | setting criticalSectionToken to nil [error]"
+ "[SNM:%{public}s] performSetSession | setting criticalSectionToken to nil [paused migration]"
+ "[SNM:%{public}s] validateAccount | ending migration [device does not support delegation]"
+ "[SNM:%{public}s] validateAccount | requested account is not available on this device - accountID=%{private}s"
+ "] getTransportablePlaybackSessionRepresentation"
+ "] performSetSession"
+ "_MPCPlaybackEngineSessionManager %p - container URL: %{public}@%{public}@"
+ "_MPCPlaybackEngineSessionManager %p - container URL: %{public}@%{public}@ error=%{public}@"
+ "_TtC17MediaPlaybackCore16MPCMigrationData"
+ "_TtC17MediaPlaybackCoreP33_08709029BCFC5F804BD389B2E158328D33MPCAVPlayerItemMetricSubscription"
+ "_didHandleLastFlushedEvents"
+ "_removeLocalAssetFileIfPossible"
+ "account delegation failed"
+ "account missing from delegate info: "
+ "accountID missing from delegate info: "
+ "addPublisher:"
+ "com.apple.Sonic.playbackSession.opack"
+ "com.apple.music/wha-delegation/a"
+ "com.apple.music/wha-delegation/e"
+ "com.apple.sonic.assetload.begin"
+ "com.apple.sonic.assetload.begin."
+ "com.apple.sonic.assetload.end"
+ "com.apple.sonic.assetload.end."
+ "com.apple.sonic.migration.getTransportable"
+ "com.apple.sonic.migration.setSession.begin"
+ "com.apple.sonic.migration.setSession.end"
+ "com.apple.sonic.migration.setSession.middle"
+ "command did not match DelegateAccount command type"
+ "command has missing or incomplete custom data"
+ "connectToExternalDeviceWithOptions:details:completion:"
+ "contentKeySpecifier"
+ "currentItemDuration"
+ "decodeFloatForKey:"
+ "delegate command failed"
+ "delegate command status was not available"
+ "delegateAccountCommand"
+ "delegateAccountData"
+ "delegateAccountDataType"
+ "delegateAccountEvent:completion:"
+ "delegateInfo"
+ "destination does not support delegation"
+ "destinationCommandInfo"
+ "destinationPlayerPath"
+ "device cannot accept delegate accounts"
+ "didChangeAccounts:"
+ "didEndMigrationWithIdentifier:error:completion:"
+ "didHandleLastFlushedEvents"
+ "didRecover"
+ "dsid is nil or 0"
+ "encodeFloat:forKey:"
+ "failed to decode data type"
+ "failed to parse delegate info from data"
+ "filter"
+ "findMyGroupLeaderWithTimeout:details:queue:completion:"
+ "fromVariant"
+ "fromVariantAverageBitRate"
+ "getMigrationRequirementsFilterData"
+ "getRequestingImmediatePlaybackFromSetPlaybackSessionCommandEvent:"
+ "getTransportablePlaybackSessionRepresentation(for:)"
+ "getTransportablePlaybackSessionRepresentationForRequest:completion:"
+ "handler"
+ "hasMigrationCapability"
+ "initWithInitiator:requestID:reason:"
+ "isClientInitiated"
+ "isMultivariantPlaylist"
+ "item-avmetric"
+ "item-avmetric-event-data"
+ "item-avmetric-event-name"
+ "mediaResourceRequestEvent"
+ "migrationRequirementsFilter"
+ "missing active user identity account"
+ "mpc_subscribeToAVMetricWithSubscriber:queue:"
+ "no preferred session type found"
+ "performSetSession(event: "
+ "providing tokenB is not supported"
+ "publisher:didReceiveEvent:"
+ "sd"
+ "setDidHandleLastFlushedEvents:"
+ "setRequirements:"
+ "setSubscriber:queue:"
+ "sonicStageCondition:forIdentifier:error:"
+ "stageConditionCommand"
+ "subscribeToAllMetricEvents"
+ "temporaryDirectory"
+ "toVariant"
+ "toVariantAverageBitRate"
+ "tokenA missing from delegate info: "
+ "tokenE missing from delegate info: "
+ "v32@0:8@\"<AVMetricEventStreamPublisher>\"16@\"AVMetricEvent\"24"
+ "v32@0:8@\"<MPNowPlayingInfoTransportableSessionRequest>\"16@?<v@?@\"MPNowPlayingInfoTransportableSessionResponse\"@\"NSError\">24"
+ "v40@0:8@\"NSString\"16@\"NSError\"24@?<v@?>32"
+ "wasReadFromCache"
+ "willBeginSessionMigrationWithIdentifier:"
+ "|%{public}@ %{public}@       ╒═══ 🔋 STREAM START ═══════════ %{public}@ [%d] ══════════════════════════"
+ "|%{public}@ %{public}@       ╘═══ 🪫 STREAM STOP ════════════ %{public}@ [%d] ══════════════════════════"
+ "|%{public}@ %{public}@ %2i %{public}@    %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@  ╰ data: %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@ ╲╭ name: %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@𝄢 ITEM VOCAL CHANGED         %{public}@ %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U0010003b FIRST AUDIO FRAME          %{public}@ %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U00100295 RATE CHANGED               %{public}@ %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U0010037a ITEM CONFIG BEGIN          %{public}@ %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U0010037e ITEM READY FOR METRICS     %{public}@ %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U00100bee OVERLAP START              %{public}@ => %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U00100bef OVERLAP END                %{public}@ => %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U00100f33 ITEM AV METRIC EVENT       %{public}@ %{public}@ %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U00102111 SESSION MIGRATE BEGIN      %{public}@"
+ "|%{public}@ %{public}@ %2i %{public}@\U00102112 SESSION MIGRATE END        %{public}@ [%.3fs]"
+ "—— \U0010042b Waiting on ItemAssetConfig"
- "#40@0:8@\"MSVOPACKDecoder\"16@\"NSString\"24@\"NSArray\"32"
- "#40@0:8@16@24@32"
- "MPCMediaRemotePublisher: %p -  [Lease] - Session migration did end - identifier:%{public}@"
- "MPCMediaRemotePublisher: %p -  [Lease] - Session migration did end with error [Stealing the lease back] - identifier:%{public}@ - error:%{public}@"
- "MPCMediaRemotePublisher: %p - [Lease] - Session migration will begin - identifier:%{public}@"
- "MSVOPACKDecoderDelegate"
- "Receied media query queue with no items in it."
- "S\x14"
- "Session contains non-transportable content reason=%@"
- "TimeoutTimeControlStatus"
- "Unable to archive Podcasts queue: %{public}@"
- "Unabled to decode session"
- "Unsupported sessionType %@"
- "_TtCC17MediaPlaybackCore28PlaybackEngineSessionManagerP33_1E9E2D41781E1C170C90974595EBBAFA20OPACKDecoderDelegate"
- "decoder:cannotDecodeObjectOfClassName:originalClasses:"
- "performSetQueue(event: "
- "unarchivedObjectOfClasses:fromData:error:"
- "|%{public}@ %{public}@  ═════ STREAM START ═══════════ %{public}@ [%d] ══════════════════════════"
- "|%{public}@ %{public}@ %2i %{public}@  ╰ gap: %0.2fs"
- "|%{public}@ %{public}@ %2i %{public}@  ╰ waitTime: %0.2fs"
- "|%{public}@ %{public}@ %2i %{public}@ ╲╭ actual: %{public}@"
- "|%{public}@ %{public}@ %2i %{public}@𝄢 ITEM VOCAL CHANGED         %{public}@ %{public}@ "
- "|%{public}@ %{public}@ %2i %{public}@\U0010003b FIRST AUDIO FRAME          %{public}@ %{public}@ "
- "|%{public}@ %{public}@ %2i %{public}@\U00100295 RATE CHANGED               %{public}@ %{public}@ "
- "|%{public}@ %{public}@ %2i %{public}@\U0010037a ITEM CONFIG BEGIN          %{public}@ %{public}@ "
- "|%{public}@ %{public}@ %2i %{public}@\U0010037e ITEM READY FOR METRICS     %{public}@ %{public}@ "
- "|%{public}@ %{public}@ %2i %{public}@\U00100bee OVERLAP START            %{public}@ => %{public}@"
- "|%{public}@ %{public}@ %2i %{public}@\U00100bef OVERLAP END              %{public}@ => %{public}@"

```
