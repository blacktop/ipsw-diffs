## EmailDaemon

> `/System/Library/PrivateFrameworks/EmailDaemon.framework/EmailDaemon`

```diff

-3814.100.5.2.3
-  __TEXT.__text: 0x20b880
-  __TEXT.__auth_stubs: 0x22c0
-  __TEXT.__objc_methlist: 0x11a6c
-  __TEXT.__gcc_except_tab: 0x4218c
-  __TEXT.__const: 0x1888
-  __TEXT.__cstring: 0x1ded7
-  __TEXT.__oslogstring: 0x14ab6
+3826.200.21.2.2
+  __TEXT.__text: 0x216430
+  __TEXT.__auth_stubs: 0x2380
+  __TEXT.__objc_methlist: 0x11c44
+  __TEXT.__gcc_except_tab: 0x42ee0
+  __TEXT.__const: 0x1ce8
+  __TEXT.__cstring: 0x1e507
+  __TEXT.__oslogstring: 0x151d6
   __TEXT.__ustring: 0x2c
   __TEXT.__dlopen_cstrs: 0x57
-  __TEXT.__swift5_typeref: 0x635
-  __TEXT.__constg_swiftt: 0x640
-  __TEXT.__swift5_reflstr: 0x612
-  __TEXT.__swift5_fieldmd: 0x954
+  __TEXT.__swift5_typeref: 0x715
+  __TEXT.__constg_swiftt: 0x740
+  __TEXT.__swift5_reflstr: 0x682
+  __TEXT.__swift5_fieldmd: 0xa48
   __TEXT.__swift5_builtin: 0x50
   __TEXT.__swift5_assocty: 0xc0
-  __TEXT.__swift5_proto: 0xf8
-  __TEXT.__swift5_types: 0xa0
-  __TEXT.__swift5_capture: 0xe0
+  __TEXT.__swift5_proto: 0x148
+  __TEXT.__swift5_types: 0xbc
+  __TEXT.__swift5_capture: 0x128
   __TEXT.__swift5_mpenum: 0x8
-  __TEXT.__unwind_info: 0xe7f8
-  __TEXT.__eh_frame: 0x778
-  __TEXT.__objc_classname: 0x2afb
-  __TEXT.__objc_methname: 0x34201
-  __TEXT.__objc_methtype: 0x78ca
-  __TEXT.__objc_stubs: 0x21a80
-  __DATA_CONST.__got: 0x1950
-  __DATA_CONST.__const: 0x7fd8
-  __DATA_CONST.__objc_classlist: 0x8f0
+  __TEXT.__unwind_info: 0xeb98
+  __TEXT.__eh_frame: 0x860
+  __TEXT.__objc_classname: 0x2b42
+  __TEXT.__objc_methname: 0x34887
+  __TEXT.__objc_methtype: 0x7917
+  __TEXT.__objc_stubs: 0x22000
+  __DATA_CONST.__got: 0x19b0
+  __DATA_CONST.__const: 0x8200
+  __DATA_CONST.__objc_classlist: 0x900
   __DATA_CONST.__objc_catlist: 0x38
   __DATA_CONST.__objc_protolist: 0x370
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xa880
+  __DATA_CONST.__objc_selrefs: 0xaa08
   __DATA_CONST.__objc_protorefs: 0xb8
-  __DATA_CONST.__objc_superrefs: 0x628
-  __DATA_CONST.__objc_arraydata: 0x608
-  __AUTH_CONST.__auth_got: 0x1170
-  __AUTH_CONST.__auth_ptr: 0x2a8
-  __AUTH_CONST.__const: 0x3330
-  __AUTH_CONST.__cfstring: 0xfbe0
-  __AUTH_CONST.__objc_const: 0x24518
+  __DATA_CONST.__objc_superrefs: 0x630
+  __DATA_CONST.__objc_arraydata: 0x610
+  __AUTH_CONST.__auth_got: 0x11d0
+  __AUTH_CONST.__auth_ptr: 0x2b8
+  __AUTH_CONST.__const: 0x3828
+  __AUTH_CONST.__cfstring: 0xfec0
+  __AUTH_CONST.__objc_const: 0x24888
   __AUTH_CONST.__objc_intobj: 0x888
-  __AUTH_CONST.__objc_arrayobj: 0x240
+  __AUTH_CONST.__objc_arrayobj: 0x258
   __AUTH_CONST.__objc_dictobj: 0xc8
   __AUTH_CONST.__objc_doubleobj: 0x60
-  __AUTH.__objc_data: 0xb60
-  __AUTH.__data: 0x4b0
-  __DATA.__objc_ivar: 0x14e0
-  __DATA.__data: 0x2c98
+  __AUTH.__objc_data: 0xa0
+  __AUTH.__data: 0x88
+  __DATA.__objc_ivar: 0x1510
+  __DATA.__data: 0x2d50
   __DATA.__crash_info: 0x40
-  __DATA.__bss: 0x1e30
-  __DATA.__common: 0x20
-  __DATA_DIRTY.__objc_data: 0x5078
-  __DATA_DIRTY.__data: 0x7a8
-  __DATA_DIRTY.__bss: 0xd70
-  __DATA_DIRTY.__common: 0x18
+  __DATA.__bss: 0x2850
+  __DATA_DIRTY.__objc_data: 0x5bd8
+  __DATA_DIRTY.__data: 0xc78
+  __DATA_DIRTY.__bss: 0xd80
+  __DATA_DIRTY.__common: 0x38
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/AppIntents.framework/AppIntents
   - /System/Library/Frameworks/CloudKit.framework/CloudKit

   - /usr/lib/swift/libswiftUniformTypeIdentifiers.dylib
   - /usr/lib/swift/libswiftWebKit.dylib
   - /usr/lib/swift/libswiftXPC.dylib
+  - /usr/lib/swift/libswift_Builtin_float.dylib
+  - /usr/lib/swift/libswift_errno.dylib
+  - /usr/lib/swift/libswift_math.dylib
+  - /usr/lib/swift/libswift_signal.dylib
+  - /usr/lib/swift/libswift_stdio.dylib
+  - /usr/lib/swift/libswift_time.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  Functions: 9485
-  Symbols:   10350
-  CStrings:  13140
+  - /usr/lib/swift/libswiftsys_time.dylib
+  - /usr/lib/swift/libswiftunistd.dylib
+  Functions: 9715
+  Symbols:   10483
+  CStrings:  13284
 
Symbols:
+ _CFRunLoopAddTimer
+ _CFRunLoopGetMain
+ _EDClientStateForegroundStateDidChangeKeyIsScheduled
+ _EDLibraryLog
+ _EDSearchableIndexDefaultsKeyRemoteIndexingDiagnostics
+ _EMMailAppBundleIdentifier
+ _EMMessageListExtraInfoKeyCollectionItemIDBySections
+ _EMPersistenceStatisticsKeyIndexableRemoteMessages
+ _EMPersistenceStatisticsKeyRemoteMessagesIndexed
+ _OBJC_CLASS_$_BGNonRepeatingSystemTaskRequest
+ _OBJC_CLASS_$_EDAddMailboxSyncInfoUpgradeStep
+ _OBJC_CLASS_$_EDSearchableIndexDiagnosticsSnapshot
+ _OBJC_CLASS_$_NSTimer
+ _OBJC_CLASS_$_NSValue
+ _OBJC_CLASS_$_OS_dispatch_queue
+ _OBJC_METACLASS_$_EDAddMailboxSyncInfoUpgradeStep
+ _OBJC_METACLASS_$_EDSearchableIndexDiagnosticsSnapshot
+ __swift_FORCE_LOAD_$_swift_Builtin_float
+ __swift_FORCE_LOAD_$_swift_errno
+ __swift_FORCE_LOAD_$_swift_math
+ __swift_FORCE_LOAD_$_swift_signal
+ __swift_FORCE_LOAD_$_swift_stdio
+ __swift_FORCE_LOAD_$_swift_time
+ __swift_FORCE_LOAD_$_swiftsys_time
+ __swift_FORCE_LOAD_$_swiftunistd
+ _kAppLastForegroundedTimestamp
+ _kAppTimestampScheduledHour
+ _kBlackPearlCategorizationVersion
+ _kCFRunLoopDefaultMode
+ _kCoreAnalyticsBackgroundTaskIdentifier
+ _kMetadataPrimaryKey
+ _kPreferredLanguagesKey
- _OBJC_CLASS_$_EFSQLPropertyMapper
- _OSAtomicDecrement32Barrier
- _OSAtomicIncrement32Barrier
CStrings:
+ "\x02\x15E\x18"
+ "\x0e"
+ "\x0f\a"
+ "\x16"
+ "%!@(MISSING)|%!@(MISSING)|%!@(MISSING)|%!@(MISSING)|%!@(MISSING)|%!@(MISSING)|%!@(MISSING)"
+ "%!d(MISSING)"
+ "%!p(MISSING): Content Protection => Locked"
+ "%!p(MISSING): Content Protection => Unlocked"
+ "%!p(MISSING): Created EMInMemoryThreadCollection (%!p(MISSING))"
+ "%!p(MISSING): Flags changed for %!u(MISSING) messages: %!{(MISSING)public}@"
+ "-[EDBusinessPersistence removeAllUserOverrides]"
+ "50"
+ "<%!p(MISSING): %!{(MISSING)public}@> Mailbox sync timed out for %!{(MISSING)public}@"
+ "@\"<NSCopying>\"16@?0@\"EMThreadObjectID\"8"
+ "@\"BGSystemTask\""
+ "@\"NSString\"16@?0@\"NSValue\"8"
+ "@\"NSTimer\""
+ "@176@0:8@16@24@32B40@44@52@60@68@76@84@92@100@108B116B120@124B132@136@144@152@160@168"
+ "ALTER TABLE mailboxes ADD COLUMN sync_info BLOB;"
+ "Adding %!@(MISSING)thread (conversation change): %!{(MISSING)public}@"
+ "Adding %!@(MISSING)thread (new messages): %!{(MISSING)public}@"
+ "All Inboxes"
+ "Analytics task %!@(MISSING) exists, cancelling it"
+ "AppleLanguages"
+ "Authenticating batch of %!u(MISSING) messages."
+ "BucketBarConfiguration"
+ "Cancelling Category migrator."
+ "Core Analytics processing [foreground=%!d(MISSING)] [scheduled=%!d(MISSING)]"
+ "CoreAnalytics logger object is nil!"
+ "DELETE FROM action_messages WHERE action = %!l(MISSING)ld AND NOT (%!@(MISSING))"
+ "EDAddMailboxSyncInfoUpgradeStep"
+ "EDClientStateForegroundStateDidChangeKeyIsScheduled"
+ "EDSearchableIndexDiagnosticsSnapshot"
+ "Failed to cancel existing analytics task: %!@(MISSING)"
+ "Failed to delete unused address ID: %!@(MISSING)"
+ "Failed to find next thread"
+ "Failed to find next unjournaled thread"
+ "Failed to query conversations: %!@(MISSING)"
+ "Failed to query messages: %!@(MISSING)"
+ "Failed to query thread_scopes: %!@(MISSING)"
+ "Failed to submit background analytics task: %!@(MISSING)"
+ "Flag change all action expected to have exactly one remote ID associated with it, but had %!l(MISSING)u"
+ "Foreign keys — scope: %!{(MISSING)public}@, conversation: %!{(MISSING)public}@, newest_read_message: %!{(MISSING)public}@, newest_message: %!{(MISSING)public}@, display_message: %!{(MISSING)public}@"
+ "Found next conversation ID, including journaled: %!l(MISSING)ld"
+ "Found next unjournaled conversation ID: %!l(MISSING)ld"
+ "Found nil sender for message %!@(MISSING)"
+ "Got IOError for transaction"
+ "Got IOError for transaction, retrying again, EFProtectedData = %!d(MISSING), backgroud processing = %!d(MISSING)"
+ "Got IOError three times in a row, aborting, EFProtectedData = %!d(MISSING), backgroud processing = %!d(MISSING)"
+ "InternalRemoteIndexingDiagnostics"
+ "Library"
+ "Local indexing speed diagnostics"
+ "Looking up thread before thread: %!{(MISSING)public}@, sort descriptors: %!{(MISSING)public}@, journaled threads: %!{(MISSING)public}@, excluding: %!{(MISSING)public}@"
+ "Mailbox sync timed out"
+ "Migration was canceled before finishing batch of %!u(MISSING) messages. Returning early"
+ "Persistence did change flags for %!l(MISSING)u messages: %!{(MISSING)public}@"
+ "Querying for messages to authenticate."
+ "Reading sync_info for %!l(MISSING)lu but no such row."
+ "Registering background analytics task."
+ "Remote indexing speed diagnostics"
+ "SELECT * FROM messages WHERE ROWID IN (:newest_read_message, :newest_message, :display_message);"
+ "SELECT * FROM thread_scopes;"
+ "SELECT conversation_id FROM conversations WHERE conversation_id = :conversation_id;"
+ "SELECT sync_info, last_sync_status_count, most_recent_status_count\nFROM mailboxes\nWHERE rowid = ?"
+ "Scheduling analytics task. Now = {%!l(MISSING)d:%!l(MISSING)d} after = %!l(MISSING)d"
+ "Skipping BIMI due to on-device message authentication failure for message %!@(MISSING)"
+ "Successfully deleted unused address ID: %!@(MISSING)"
+ "T@\"BGSystemTask\",&,N,V_systemTask"
+ "T@\"EDCategoryCoreAnalyticsLogger\",R,N,V_coreAnalyticsLogger"
+ "T@\"EDPersistence\",W,N,V_persistence"
+ "T@\"EDSearchableIndexDiagnosticsController\",R,N,V_diagnosticsController"
+ "T@\"EFCancelationToken\",&,N,V_migrationToken"
+ "T@\"NSArray\",&,N,V_accounts"
+ "T@\"NSNumber\",&,N,V_indexableMessages"
+ "T@\"NSNumber\",&,N,V_messagesIndexed"
+ "T@\"NSObject<OS_dispatch_queue>\",R,N,V_migrationQueue"
+ "T@\"NSObject<OS_dispatch_queue>\",R,N,V_systemTaskQueue"
+ "TB,N,V_turboMode"
+ "Task:%!@(MISSING) expired. Invoking cancelation token:%!p(MISSING) and requesting retry after 5 minutes."
+ "UPDATE mailboxes\nSET sync_info = json_patch(\n    COALESCE(sync_info, '{}'),\n    ?\n)\nWHERE rowid = ?"
+ "UPDATE mailboxes\nSET sync_info = json_patch(\n    COALESCE(sync_info, '{}'),\n    ?\n),\nlast_sync_status_count = ?,\nmost_recent_status_count = ?\nWHERE rowid = ?"
+ "UTC"
+ "Unable to form comparison expression to look up position"
+ "Unable to update last sync info for row %!l(MISSING)lu: %!@(MISSING)"
+ "Updating %!@(MISSING)thread (conversation change): %!{(MISSING)public}@"
+ "Updating %!@(MISSING)thread (new messages): %!{(MISSING)public}@"
+ "Updating last sync info for %!l(MISSING)lu but no such row."
+ "We don't allow moving multiple items to different sections"
+ "_accountTypeForAccount:"
+ "_accounts"
+ "_addUIDsFromRange:toArray:"
+ "_businessAddressMapWithCategoryOverrideWithConnection:"
+ "_calculateScheduleDeltaFrom:"
+ "_collectDebuggingInfo"
+ "_coreAnalyticsLogger"
+ "_deleteBusinessAddressEntryForAddressID:connection:"
+ "_emSharedModelMetadataWithScheduledHour:"
+ "_endCategorization"
+ "_extraInfoForThreadObjectIDs:isMove:"
+ "_hourInUTC"
+ "_indexableMessages"
+ "_localDiagnosticsFromStatistics:"
+ "_logAccountPersonalPreference"
+ "_logDebuggingDiagnostics:forKey:"
+ "_mailboxSyncTimer"
+ "_messagesIndexed"
+ "_migrateCategoryForQuery:cancelationToken:reason:"
+ "_migrationQueue"
+ "_migrationToken"
+ "_remoteDiagnosticsFromStatistics:"
+ "_synapseAttributesScheduler"
+ "_systemTask"
+ "_systemTaskQueue"
+ "_turboMode"
+ "_uidQueryExpressionForRanges:andSingleUIDs:withTableName:"
+ "_uidRangesAndSingleUIDs:"
+ "accounts"
+ "bestDKIMSignatureHeader"
+ "blackPearlCategorizationVersion"
+ "cancelTaskRequestWithIdentifier:error:"
+ "com.apple.email.EDAttachmentPersistenceManager"
+ "com.apple.email.EDCategorySubsystem.BGSystemTask"
+ "com.apple.email.EDMessageAuthenticationStateMigrator"
+ "com.apple.mail.blackpearl.analytics"
+ "com.apple.mail.categorization.account.preference"
+ "com.apple.mail.categorization.mailapp.open"
+ "components:fromDate:"
+ "conversations — conversation_id: %!@(MISSING)"
+ "conversations — count: %!d(MISSING)"
+ "coreAnalyticsLogger"
+ "currentLanguageTag"
+ "ef_md5Digest"
+ "en-US"
+ "fetchDocumentAttributesForFileAtURL:completion:"
+ "flagDescription"
+ "futureWithResult:"
+ "hour"
+ "indexableMessages"
+ "initWithDate:indexableMessages:messagesIndexed:turboMode:"
+ "initWithMailboxProvider:database:hookRegistry:"
+ "initWithSubjectWithoutPrefix:dateSent:dateReceived:isEncrypted:priority:senders:to:cc:bcc:allHeaders:htmlContent:messageID:notificationID:isPartOfExistingThread:hasCompleteData:accountIdentifier:accountIsManaged:accountType:accountEmailAddresses:update:attachments:category:"
+ "initWithSystemAccount:"
+ "instancesRespondToSelector:"
+ "isAllInboxesBlackPearlEnabled"
+ "isDeviceBlackPearlEligible"
+ "isMailAccountBlackPearlEnabled"
+ "isMailAccountPersonalAccount"
+ "languageIdentifier"
+ "lastForegroundedTimestamp"
+ "messages — ROWID: %!@(MISSING)"
+ "messages — count: %!d(MISSING)"
+ "messagesIndexed"
+ "metadataPrimaryKey"
+ "migrationQueue"
+ "migrationToken"
+ "minute"
+ "processCoreAnalyticsEvents"
+ "q24@?0@\"NSValue\"8@\"NSValue\"16"
+ "registerAdditionalPropertiesForPropertyMapper:"
+ "reindexAllItemsForBundleID:protectionClass:reason:acknowledgementHandler:"
+ "saveToFile:completion:"
+ "saveToFileURL:additionalAttributes:completion:"
+ "scheduleNextAnalyticsBackgroundTask"
+ "scheduledHour"
+ "sectionIdentifierForThreadObjectID:"
+ "setAccounts:"
+ "setIndexableMessages:"
+ "setMessagesIndexed:"
+ "setMigrationToken:"
+ "setPriority:"
+ "setRequiresNetworkConnectivity:"
+ "setScheduleAfter:"
+ "setSystemTask:"
+ "setTrySchedulingBefore:"
+ "setTurboMode:"
+ "startMigration"
+ "startMigrationIfNecessaryWithCategorizationQuery:completion:"
+ "submitTaskRequest:error:"
+ "systemTask"
+ "systemTaskQueue"
+ "taskRequestForIdentifier:"
+ "thread_scopes — ROWID: %!@(MISSING)"
+ "thread_scopes — count: %!d(MISSING)"
+ "timeZoneWithName:"
+ "timerWithTimeInterval:repeats:block:"
+ "trialExperimentDeploymentIdentifier"
+ "trialExperimentIdentifier"
+ "trialExperimentTreatmentIdentifier"
+ "trialRolloutDeploymentIdentifier"
+ "trialRolloutFactorPackIdentifier"
+ "trialRolloutIdentifier"
+ "turboMode"
+ "v16@?0@\"BGNonRepeatingSystemTask\"8"
+ "v16@?0@\"NSTimer\"8"
+ "v24@?0@\"SYDocumentAttributes\"8@\"NSError\"16"
+ "v40@0:8{_NSRange=QQ}16@32"
+ "v48@0:8@\"NSString\"16@\"NSString\"24@\"NSString\"32@?<v@?>40"
+ "valueWithRange:"
+ "\xf0!"
- "\x02\x14E\x18"
- "\x0f\x06"
- "\x1a"
- "%!p(MISSING): Flags changed for %!u(MISSING) messages"
- "@\"EDSearchableIndexPersistence\""
- "@168@0:8@16@24@32B40@44@52@60@68@76@84@92@100@108B116B120@124B132@136@144@152@160"
- "A flag change all action should always have exactly one remote ID associated with it"
- "Adding %!@(MISSING)thread: %!{(MISSING)public}@"
- "Adding thread (conversation change): %!{(MISSING)public}@"
- "Category migrator %!@(MISSING) expired by DASD"
- "Category migrator failed to expire task with error: %!@(MISSING)"
- "Category migrator was canceled. Returning early"
- "Content Protection => Locked"
- "Content Protection => Unlocked"
- "DELETE FROM action_messages WHERE action = %!l(MISSING)ld AND NOT %!@(MISSING)"
- "Got IOError for transaction, retrying once"
- "Got IOError twice in a row, aborting"
- "Indexing speed diagnostics"
- "Looking up thread before thread: %!{(MISSING)public}@"
- "Persistence did change flags for %!l(MISSING)u messages"
- "Querying for messages to authenticate"
- "T@\"EDSearchableIndexDiagnosticsController\",&,N,V_diagnosticsController"
- "T@\"EDSearchableIndexPersistence\",&,N,V_persistence"
- "T@\"EFCancelationToken\",R,N,V_categorizationCancelationToken"
- "T@\"EFSQLPropertyMapper\",R,N"
- "TB,N,V_canBeResumed"
- "Unable to form comparison expression to look up position for thread: %!{(MISSING)public}@, sort descriptors: %!{(MISSING)public}@"
- "Unknown"
- "_canBeResumed"
- "_categorizationCancelationToken"
- "_debuggingDiagnostics"
- "_emSharedModelMetadata"
- "_endCategorizationTask:"
- "_handleCategoryMigration:"
- "_logDebuggingDiagnostics:"
- "_migrateCategoryForQuery:cancelationToken:reason:task:"
- "canBeResumed"
- "categorizationCancelationToken"
- "com.apple.mail.categorization.openmailapp"
- "initWithMailboxProvider:database:"
- "initWithSubjectWithoutPrefix:dateSent:dateReceived:isEncrypted:priority:senders:to:cc:bcc:allHeaders:htmlContent:messageID:notificationID:isPartOfExistingThread:hasCompleteData:accountIdentifier:accountIsManaged:accountType:accountEmailAddresses:update:attachments:"
- "markedCategorizationAvailable"
- "migrateCategoryForQuery:cancelationToken:reason:task:"
- "setCanBeResumed:"
- "setDiagnosticsController:"
- "startCollection"
- "startMigrationIfNecessaryWithCategorizationQuery:authenticationQuery:completion:"
- "startMigrationIfNecessaryWithCompletion:"
- "trialExperimentDeploymentId"
- "trialExperimentId"
- "trialExperimentTreatmentId"
- "trialRolloutDeploymentId"
- "trialRolloutFactorPackId"
- "trialRolloutId"
- "\xf0\x11"

```
