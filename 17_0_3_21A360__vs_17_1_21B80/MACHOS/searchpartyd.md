## searchpartyd

> `/usr/libexec/searchpartyd`

```diff

-353.0.5.0.0
-  __TEXT.__text: 0xfb1eec
+355.1.6.0.1
+  __TEXT.__text: 0xffaf7c
   __TEXT.__auth_stubs: 0x5ce0
   __TEXT.__objc_stubs: 0x40
   __TEXT.__objc_methlist: 0x13e8

   __TEXT.__objc_classname: 0x519
   __TEXT.__objc_methname: 0xcbb0
   __TEXT.__objc_methtype: 0x3f9c
-  __TEXT.__cstring: 0x66083
-  __TEXT.__swift5_typeref: 0x1d02a
-  __TEXT.__const: 0x48958
-  __TEXT.__constg_swiftt: 0x194d8
+  __TEXT.__cstring: 0x67533
+  __TEXT.__swift5_typeref: 0x1d2e8
+  __TEXT.__const: 0x48bc8
+  __TEXT.__constg_swiftt: 0x1966c
   __TEXT.__swift5_builtin: 0x820
-  __TEXT.__swift5_reflstr: 0x1a852
-  __TEXT.__swift5_fieldmd: 0x1b004
+  __TEXT.__swift5_reflstr: 0x1a902
+  __TEXT.__swift5_fieldmd: 0x1b0f0
   __TEXT.__swift5_assocty: 0x25e0
-  __TEXT.__swift5_proto: 0x44d0
-  __TEXT.__swift5_types: 0x16b8
-  __TEXT.__swift5_capture: 0x15fa8
-  __TEXT.__swift5_protos: 0x278
+  __TEXT.__swift5_proto: 0x44fc
+  __TEXT.__swift5_types: 0x16bc
+  __TEXT.__swift5_capture: 0x15e94
+  __TEXT.__swift5_protos: 0x27c
   __TEXT.__swift5_mpenum: 0x3c4
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__unwind_info: 0x2e780
-  __TEXT.__eh_frame: 0x63d08
+  __TEXT.__unwind_info: 0x2ed30
+  __TEXT.__eh_frame: 0x67778
   __DATA_CONST.__auth_got: 0x2e78
-  __DATA_CONST.__got: 0x1b68
-  __DATA_CONST.__auth_ptr: 0xd58
-  __DATA_CONST.__const: 0x6ad08
-  __DATA_CONST.__objc_classlist: 0x6a0
+  __DATA_CONST.__got: 0x1b80
+  __DATA_CONST.__auth_ptr: 0xd68
+  __DATA_CONST.__const: 0x6a9e0
+  __DATA_CONST.__objc_classlist: 0x6a8
   __DATA_CONST.__objc_catlist: 0x60
   __DATA_CONST.__objc_protolist: 0x318
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__linkguard: 0x15
-  __DATA.__objc_const: 0x1a590
+  __DATA.__objc_const: 0x1a790
   __DATA.__objc_selrefs: 0x2290
   __DATA.__objc_protorefs: 0x198
   __DATA.__objc_classrefs: 0x638
-  __DATA.__objc_data: 0x3908
-  __DATA.__data: 0x374b8
-  __DATA.__bss: 0x82da0
-  __DATA.__common: 0x1b88
+  __DATA.__objc_data: 0x38b8
+  __DATA.__data: 0x37b58
+  __DATA.__bss: 0x835b0
+  __DATA.__common: 0x1bb0
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CloudKit.framework/CloudKit
   - /System/Library/Frameworks/Combine.framework/Combine

   - /usr/lib/swift/libswiftCoreFoundation.dylib
   - /usr/lib/swift/libswiftCoreLocation.dylib
   - /usr/lib/swift/libswiftCoreMIDI.dylib
+  - /usr/lib/swift/libswiftCoreML.dylib
   - /usr/lib/swift/libswiftCoreMedia.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  Functions: 63792
-  Symbols:   2788
-  CStrings:  10754
+  Functions: 64451
+  Symbols:   2791
+  CStrings:  10821
 
Symbols:
+ _$s8SPShared13WorkItemQueueC0bC0C10identifier5block10completionAE10Foundation4UUIDV_yAEYaYbKcys6ResultOyyts5Error_pGYaYbctcfC
+ _$s8SPShared13WorkItemQueueC0bC0C11isCancelledSbvgTj
+ _$s8SPShared13WorkItemQueueC0bC0C6cancelyyYaFTjTu
+ _$s8SPShared13WorkItemQueueC0bC0CMn
+ _$s8SPShared13WorkItemQueueC0bC0CScAAAMc
+ _$s8SPShared16HysteresisFilterC12currentValue9thresholdACyxGx_SitcfC
+ _$s8SPShared16HysteresisFilterC12processInput8newValue11outputBlock06ignoreI0yx_yx_xtYaYbcyyYaYbcSgtFTj
+ _$ss8DurationV12millisecondsyABSdFZ
+ __swift_FORCE_LOAD_$_swiftCoreML
- _$s7Combine10PublishersO20TimeGroupingStrategyO02byC7OrCountyAEy_xGx_09SchedulerC4Type_6StrideQZSitcAGmAA0I0RzlFWC
- _$s8SPShared16HysteresisFilterC12currentValue9thresholdACyxGx_Sitcfc
- _$s8SPShared16HysteresisFilterC12processInput8newValue11outputBlockyx_yxXEtFTj
- _objc_retain_x12
- _objc_retain_x13
- _swift_deallocUninitializedObject
CStrings:
+ "                    Error showing notification for %{private,mask.hash}s, error: %{public}@."
+ "                    No more running clients. Pausing location updates."
+ "            #Durian: TagCommandManager: didFetch batteryStatus error: %{public}@ for device: %{private,mask.hash}s."
+ "            Can't post Share Suggestion Notification!\n            beaconName(%{bool}d),\n            ownerPeerTrust(%{bool}d),\n            sharedBeacon(%{bool}d)"
+ "            Unable to init BatteryLevel from CLFindMyAccessoryBatteryStatus %lu for beacon %{private,mask.hash}s."
+ "        #Durian: TagCommandManager: didFetch batteryStatus: [%lu] for device: %{private,mask.hash}s."
+ "        OwnerSessionProtocol: updateBatteryStatus %hhufor beacon %{private,mask.hash}s."
+ "    Several explicit shares for a beacon %{private,mask.hash}s!"
+ "\"Posting low battery notification for %{private,mask.hash}s,                                        level: %ld."
+ "BatteryLevelService"
+ "Can't create Transparency Notification!\nbeaconName(%{bool}d), beaconRecord(%{bool}d),\nownerPeerTrust(%{bool}d)"
+ "Can't create Transparency Notification! No BeaconStoreActor available!"
+ "Can't forceBreakAllShares, missing peer trust record."
+ "Can't get Beacon Name! No BeaconStoreActor available!"
+ "Can't post Request Received Notification!\nbeaconName(%{bool}d), memberName(%{bool}d),\nbeaconRecord(%{bool}d), clientShareIdentifier(%{bool}d)"
+ "Can't post Request Received Notification! No BeaconStoreActor available!"
+ "Can't post Request Received Notification! No FamilyCircleService available!"
+ "Can't post Request Received Notification! No PeerTrustService available!"
+ "Can't post Request Received Notification! invalid member destination."
+ "Can't post Share Suggestion Notification! No BeaconStoreActor available!"
+ "Can't post transparency notification due to no member peer trust for %{private}s identifier."
+ "Could not find SML Off - secondary key for %{private,mask.hash}s,error: %{public}@."
+ "Create bundle decryption for shareId: %{private,mask.hash}s,beacon: %{private,mask.hash}ssecondaryBucket: %llu, start:%sto end: %s."
+ "Decline message identifier is %{private,mask.hash}s."
+ "Deleted session: %{public}s service: %{public}s"
+ "Error saving advertisement status %hhufor beacon %{private,mask.hash}s,sequence: %{public}s, index %lluerror: %{public}@."
+ "Evaluate notification posting for saved records.\nOwned pairs count: %ld, Member pairs count: %ld."
+ "Failed to determine primary key with secondary index and hint: %{private,mask.hash}s,error: %{public}s."
+ "Failed to fetch shared item locations: %@."
+ "Failed to publish %ld observations error: %{public}@."
+ "Fetch task pending, not creating a new fetch task."
+ "Found %ld beacons to publish to ACSN while SML is OFF."
+ "Found SML Off - secondary key %s for %{private,mask.hash}s."
+ "Found advertisement key beacon for %{private,mask.hash}s,sequence: %{public}s, index %llu."
+ "Found advertisement key for shared beacon %{private,mask.hash}s,sequence: %{public}s, index %llu."
+ "Ignoring beacon location updates while not processing - beacon: %{private,mask.hash}s."
+ "Ignoring location updates while not processing."
+ "KeyDropDeleteResponse"
+ "KeyDropDownloadResponse"
+ "KeyDropFetchResponse"
+ "Latest type18 for %{private,mask.hash}s: %{public}s,scanDate: %{public}s,sequence: %{public}s,index: %llu, appActive: %{bool}d."
+ "Location fetch service fetch task running while all clients suspended - not fetching locations."
+ "Location fetch service running fetch task - fetching locations."
+ "Location monitor did update location: %{public}s,age: %f."
+ "Location monitor stopped."
+ "LocationFetchService.addConnection"
+ "LocationFetchService.locationMonitorDidUpdate"
+ "LocationFetchService.onStopProcessing"
+ "LocationFetchServiceConnections.updateLocations"
+ "LocationFetchServiceConnections.updateLocations:beacon:"
+ "MaintenanceConnectionObserver.Start"
+ "Messaging devices changed. Devices: %s, count: %ld."
+ "Missing BeaconSharingService!"
+ "Network is down - policy is no maintenance. hasShares: %{bool}d, hasOtherDeviecs: %{bool}d."
+ "No ItemSharingNotificationsService available!"
+ "No beacon found to updateBeaconObservations %{private,mask.hash}s."
+ "No beaconName record to delete for beaconIdentifier: %{private,mask.hash}s."
+ "No current advertisement status found for %{private,mask.hash}s to publish anonymously."
+ "No location found for %{private,mask.hash}s to publish anonymously."
+ "No observations to publish to ACSN out of %ld beacons while SML is OFF."
+ "No peerTrust record to delete for peerTrustIdentifier: %{private,mask.hash}s."
+ "No secondary advertisement found for %{private,mask.hash}s to publish anonymously."
+ "No secondary key avaialble for %{public}s."
+ "No sharedSecrets records to delete for circleIdentifier: %{private,mask.hash}s."
+ "Not posting low battery notification for %s because battery cannot be replaced."
+ "Not posting low battery notification for %{private,mask.hash}s."
+ "Not publishing anonymous own device locations to ACSN while SML is ON."
+ "Not storing beacon status that's already from disk."
+ "Not storing beacon status that's not reconciled."
+ "OfflineFindingInfo record from NVRAM was invalid (index == 0)"
+ "Post Transparency Notification"
+ "Publishing %ld observations out of %ld beacons to ACSN while SML is OFF."
+ "Reconciled beacon: %{private,mask.hash}s, index: %llu, sequence: %{public}s."
+ "Response for %{public}s header `x-apple-request-uuid` %{public}s."
+ "Result of SML Off publish: %ld."
+ "Result of SML returning %{bool}d."
+ "Result of SML unknown, returning false\u00a0due to error %{public}@."
+ "Saved advertisement status %hhu for beacon %{private,mask.hash}s,sequence: %{public}s, index %llu."
+ "Saving location for connected beacons - from location monitor update:beacon: %{private,mask.hash}s."
+ "SimpleBeaconStatuUpdate"
+ "Unable to get basePrimaryKeyIndex for %{private,mask.hash}s"
+ "Update beacon attributes for shareId: %{private,mask.hash}s, beaconID: %{private,mask.hash}s."
+ "UpdateMaintenancePolicy.DevicesChanged"
+ "UpdateMaintenancePolicy.networkMonitor"
+ "UpdateMaintenancePolicy.pairedDevice"
+ "UpdateObservationFromACSN"
+ "Updating beacon attributes for beacon: %{private,mask.hash}s, shareId: %s."
+ "Updating location for subscribers - from beacon store update for beacongroup: %{private,mask.hash}s, beacon: %{private,mask.hash}s."
+ "_TtC12searchpartyd19BatteryLevelService"
+ "_TtC12searchpartyd31ItemSharingNotificationsService"
+ "biomeDonation: Heartbeat threshold passed, location publish reason: %{public}s)"
+ "biomeDonation: Min distance and time threshold passed, location publish reason: %{public}s"
+ "biomeDonation: NOT donating to Biome %s, publishReason: %{public}s, donationThresholdPassed: %{bool}d"
+ "biomeDonation: No previous biome event cached, will donate: %{public}s"
+ "biomeDonation: Writing Biome event for handle: %s, publishReason: %{public}s, donationThresholdPassed: %{bool}d"
+ "create Transparency Notification,\nisAirTag:%{bool}d,\nisContainBlockedMembers:%{bool}d"
+ "devicesCount"
+ "disableOfflineMaintenanceOwner"
+ "fetchTask"
+ "handleCircleTrust received for newly declined share with %{private,mask.hash}s. Declining it.\nDeclined share identifier %{private,mask.hash}s."
+ "indexInformation"
+ "keys"
+ "lastProactiveLocationBiomeDonation"
+ "memberCirclePairs"
+ "networkMonitor"
+ "newlyDeclinedExplicitShares"
+ "notifyBatteryLevelChangeIfNeeded(beacon:batteryLevel:)"
+ "ownerCirclePairs"
+ "post Request Received Notification, isAirTag:%{bool}d"
+ "post Share Suggestion Notification,\nisAirTag:%{bool}d,\nisContainBlockedMembers:%{bool}d"
+ "postTransparencyNotifications, notifications count = %ld"
+ "previousExplicitShare"
+ "sharedBeaconsPairs"
+ "sharingNotificationService"
+ "updateBatteryLevelAndNotify %ld for %{private,mask.hash}s."
+ "updateBatteryLevelAndNotify: No beacon record for %{private,mask.hash}s."
+ "updateBatteryLevelAndNotify: no name record found for %{private,mask.hash}s."
+ "x-apple-request-uuid"
- "#Durian: TagCommandManager: didFetch batteryStatus error: %@"
- "#Durian: TagCommandManager: didFetch batteryStatus: [%@] for device: %@"
- "$__lazy_storage_$_notificationCenter"
- ".updatedBatteryLevel ("
- "BeaconManagerService.background.locationFetch"
- "Create bundle decryption for secondaryBucket: %llu, start:%s to end: %s."
- "Error showing notification: %@"
- "Failed to determine primary key with secondary index and hint: %{private,mask.hash}s, error: %{public}s."
- "Failed to fetch shared item locations: %s."
- "Failed to update battery level for beacon %s: %@"
- "Got status, but beacon %@ is not accessory. Not updating battery status."
- "Invalidating timer for all location subscriptions."
- "Latest type18 for %{private,mask.hash}s: %{public}s, scanDate: %{public}s, sequence: %{public}s, index: %llu, appActive: %{bool}d."
- "Location fetch service timer fired - fetching locations."
- "Location fetch service timer fired with all clients suspended - not fetching locations."
- "Location monitor did update location: %{public}s, age: %f."
- "LocationFetchServiceLocationMonitorDelegate"
- "LocationFetcher: battery level %@ for beacon %@"
- "MaintenanceConnectionObserver.UpdatePolicy"
- "MaintenanceConnectionObserveriOS.UpdatePolicy"
- "No beaconName record for beaconIdentifier: %{private,mask.hash}s."
- "No peerTrust record for peerTrustIdentifier: %{private,mask.hash}s."
- "No sharedSecrets records for circleIdentifier: %{private,mask.hash}s."
- "Not posting low battery notification for %s because an alert has already been shown"
- "Not scheduling next fetch. Firing in %f seconds."
- "OwnerSessionProtocol: updateBatteryStatus %d for beacon %@."
- "Participant for shareId: %{private,mask.hash}s,\nmemberId: %{private,mask.hash}s\nfailed to post notification for : %s."
- "Posting low battery notification for %s"
- "Saving location for connected beacons - from location monitor update: beacon: %{private,mask.hash}s."
- "Unable to get latest rawSearchResult for beacon %@."
- "Unable to init BatteryLevel from CLFindMyAccessoryBatteryStatus %@ for beacon %@"
- "Updated battery level from %@ to %@ for beacon %@"
- "Updating location for subscribers - from beacon store update for beacon group: %{private,mask.hash}s, beacon: %{private,mask.hash}s."
- "Writing Biome event for handle: %s"
- "_TtC12searchpartyd29MaintenanceConnectionObserver"
- "batteryStatusQueue"
- "coalescedObservationSubscription"
- "com.apple.icloud.searchparty-updateBatteryStatus"
- "com.apple.icloud.searchpartyd.batteryStatusQueue"
- "fetchTimer"
- "fetchTimerQueue"
- "fetchTimerScheduleDate"
- "locationMonitorDelegateQueue"
- "locationMonitorLock"
- "observationCoalescerSubject"
- "searchpartyd.LocationFetchService.Timer"
- "timerLock"
- "updateBatteryLevelAndNotify %@ for %@."
- "updateBatteryLevelAndNotify: no name record found for %@"
- "updateBatteryLevelAndNotify: no owned beacon record for %@"
- "updateBatteryLevelIfNeeded: no owned beacon record for %@."

```
