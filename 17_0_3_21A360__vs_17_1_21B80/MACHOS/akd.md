## akd

> `/System/Library/PrivateFrameworks/AuthKit.framework/akd`

```diff

-458.1.1.7.0
-  __TEXT.__text: 0x11c540
-  __TEXT.__auth_stubs: 0x1660
-  __TEXT.__objc_stubs: 0x146a0
-  __TEXT.__objc_methlist: 0x754c
-  __TEXT.__const: 0x1a10
-  __TEXT.__gcc_except_tab: 0x1a30
-  __TEXT.__objc_classname: 0x1568
-  __TEXT.__objc_methname: 0x1c5d4
-  __TEXT.__objc_methtype: 0x4faa
-  __TEXT.__oslogstring: 0x167f3
-  __TEXT.__cstring: 0xaa28
-  __TEXT.__swift5_typeref: 0xc12
-  __TEXT.__swift5_fieldmd: 0x41c
-  __TEXT.__constg_swiftt: 0x628
-  __TEXT.__swift5_reflstr: 0x389
+464.5.0.0.0
+  __TEXT.__text: 0x11cd54
+  __TEXT.__auth_stubs: 0x16c0
+  __TEXT.__objc_stubs: 0x146e0
+  __TEXT.__objc_methlist: 0x761c
+  __TEXT.__const: 0x1a80
+  __TEXT.__gcc_except_tab: 0x1a48
+  __TEXT.__objc_classname: 0x1589
+  __TEXT.__objc_methname: 0x1c68c
+  __TEXT.__objc_methtype: 0x4fee
+  __TEXT.__oslogstring: 0x16a60
+  __TEXT.__cstring: 0xa998
+  __TEXT.__swift5_typeref: 0xc30
+  __TEXT.__swift5_fieldmd: 0x450
+  __TEXT.__constg_swiftt: 0x6a8
+  __TEXT.__swift5_reflstr: 0x399
   __TEXT.__swift5_assocty: 0xd8
   __TEXT.__swift5_capture: 0x778
   __TEXT.__swift5_builtin: 0x3c
-  __TEXT.__swift5_proto: 0x70
-  __TEXT.__swift5_types: 0x6c
+  __TEXT.__swift5_proto: 0x74
+  __TEXT.__swift5_types: 0x70
   __TEXT.__swift5_protos: 0x4
-  __TEXT.__unwind_info: 0x40cc
+  __TEXT.__unwind_info: 0x40ec
   __TEXT.__eh_frame: 0x2a58
-  __DATA_CONST.__auth_got: 0xb40
-  __DATA_CONST.__got: 0xc30
+  __DATA_CONST.__auth_got: 0xb70
+  __DATA_CONST.__got: 0xc58
   __DATA_CONST.__auth_ptr: 0x98
-  __DATA_CONST.__const: 0xa318
-  __DATA_CONST.__cfstring: 0x5c60
-  __DATA_CONST.__objc_classlist: 0x570
+  __DATA_CONST.__const: 0xa3c8
+  __DATA_CONST.__cfstring: 0x5be0
+  __DATA_CONST.__objc_classlist: 0x578
   __DATA_CONST.__objc_catlist: 0x28
   __DATA_CONST.__objc_protolist: 0x220
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_doubleobj: 0x10
   __DATA_CONST.__objc_intobj: 0x210
-  __DATA_CONST.__objc_arraydata: 0x8
-  __DATA_CONST.__objc_arrayobj: 0x18
-  __DATA.__objc_const: 0x1b1b0
-  __DATA.__objc_selrefs: 0x5eb0
+  __DATA.__objc_const: 0x1b370
+  __DATA.__objc_selrefs: 0x5ed0
   __DATA.__objc_protorefs: 0x98
   __DATA.__objc_classrefs: 0xa58
-  __DATA.__objc_superrefs: 0x350
-  __DATA.__objc_ivar: 0x8d0
-  __DATA.__objc_data: 0x4168
-  __DATA.__data: 0x20e0
-  __DATA.__bss: 0x11b0
+  __DATA.__objc_superrefs: 0x358
+  __DATA.__objc_ivar: 0x8cc
+  __DATA.__objc_data: 0x41b8
+  __DATA.__data: 0x2160
+  __DATA.__bss: 0x1240
   __DATA.__common: 0xec
   - /System/Library/Frameworks/Accounts.framework/Accounts
+  - /System/Library/Frameworks/Combine.framework/Combine
   - /System/Library/Frameworks/CoreBluetooth.framework/CoreBluetooth
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreServices.framework/CoreServices

   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libobjc.A.dylib
   - /usr/lib/libsqlite3.dylib
+  - /usr/lib/swift/libswiftAccelerate.dylib
   - /usr/lib/swift/libswiftCompression.dylib
   - /usr/lib/swift/libswiftCore.dylib
   - /usr/lib/swift/libswiftCoreAudio.dylib
   - /usr/lib/swift/libswiftCoreFoundation.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDispatch.dylib
+  - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib
+  - /usr/lib/swift/libswiftQuartzCore.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
-  Functions: 5345
-  Symbols:   1021
-  CStrings:  7879
+  - /usr/lib/swift/libswiftsimd.dylib
+  Functions: 5373
+  Symbols:   1037
+  CStrings:  7892
 
Symbols:
+ _$s7Combine19CurrentValueSubjectCMn
+ _$sScA15unownedExecutorScevgTq
+ _$sScAMp
+ _$sSqMa
+ _$ss5NeverOMn
+ _AKAllConfigsKey
+ _AKAppleIDAuthenticationServerErrorDomain
+ _AKPostDataEventFinalSignOut
+ _AKPostDataEventLiveness
+ _AKPostDataEventServiceSignOut
+ _AKUserNotificationCreate
+ __swift_FORCE_LOAD_$_swiftAccelerate
+ __swift_FORCE_LOAD_$_swiftMetal
+ __swift_FORCE_LOAD_$_swiftQuartzCore
+ __swift_FORCE_LOAD_$_swiftsimd
+ _swift_allocateGenericClassMetadata
+ _swift_defaultActor_deallocate
+ _swift_defaultActor_destroy
+ _swift_getGenericMetadata
+ _swift_initClassMetadata2
- _CFUserNotificationCreate
- _NSDefaultRunLoopMode
- _OBJC_CLASS_$_NSConstantArray
- _OBJC_CLASS_$_NSTimer
CStrings:
+ "$defaultActor"
+ "%@: Creating scheduler source (dispatchInterval: %.2f)"
+ "%@: Executing request (%@) with calculation (%@)"
+ "%@: Failed to create scheduler source (dispatchInterval: %.2f)"
+ "%@: Firing scheduler source immediately (dispatchInterval: %.2f)"
+ "%@: Scheduler source (%@) fired, executing all eligible requests"
+ "%@: Scheduler source event handler called (dispatchInterval: %.2f)"
+ "%@: Scheduler source has been cancelled (dispatchInterval: %.2f)"
+ "%@: Scheduler source has been registered (dispatchInterval: %.2f)"
+ "%@: Scheduling next request (%@) with calculation (%@)"
+ "%@: Unable to execute request (%@) with calculation (%@)"
+ "AKRemoteViewServiceConfiguration"
+ "Expected first time sign in anisette provision."
+ "Handling push in config controller with command AKPushMessageCommandAccountInfoChanged..."
+ "Handling push in info controller with command AKPushMessageCommandAccountInfoChanged..."
+ "It has NOT been more than 24 hours since the last time telemetry opt-in was set."
+ "MID not available at the moment! Please check underlying ADI error for the reason."
+ "No devices found for context: %@"
+ "Previous MID is null. There may be issues with keychain cache. This is not the first time sign in flow since we are not provisioning."
+ "T@\"NSString\",C,N,V_hostBundleID"
+ "T@\"NSString\",C,N,V_hostSceneID"
+ "Unexpected MID drift will happen because we will provision even when previous MID is not null. Previous MID: %@"
+ "[non-visionOS] Falling back to standard proxied foreground authentication"
+ "_anisetteValidationQueue"
+ "_calculateAndPersistDriftStatusForMID:anisetteFetchError:error:"
+ "_createErrorWithMIDDriftUnderlyingError:anisetteFetchError:"
+ "_hostBundleID"
+ "_hostSceneID"
+ "_initWithKeychain:"
+ "_performLivenessCheckInForAllEligibleAccountsWithReason:completion:"
+ "_performLivenessCheckInForAllEligibleAccountsWithToken:reason:completion:"
+ "_permittedProcessNamesToProxyAllowlist"
+ "_schedulerSource"
+ "_unsafe_cancelScheduler"
+ "_unsafe_executeNextScheduledRequest"
+ "_unsafe_scheduleNextRequest"
+ "_unsafe_scheduleRequestWithDispatchInterval:"
+ "_unsafe_schedulerSourceDidFire"
+ "ak_deviceListErrorWithCode:"
+ "com.apple.akd.anisette.validate"
+ "com.apple.akd.request-dispatcher.scheduler"
+ "configurationForHostWithBundleID:sceneID:"
+ "defaultConfiguration"
+ "hostBundleID"
+ "hostSceneID"
+ "inner"
+ "performCheckInForAccount:event:reason:completion:"
+ "performCheckInForAccountWithAltDSID:event:completion:"
+ "performLivenessCheckInForAllEligibleAccountsWithReason:completion:"
+ "publisher"
+ "q40@0:8@16@24^@32"
+ "resetKeychainCacheWithError:"
+ "setHostBundleID:"
+ "setHostSceneID:"
+ "underlyingErrors"
+ "v40@0:8@\"NSString\"16@\"NSString\"24@?<v@?@\"NSError\">32"
+ "v48@0:8@16@24Q32@?40"
+ "validateMID:anisetteFetchError:"
- "%@: Attempting to execute scheduled request (%@)"
- "%@: Executing request (%@)"
- "%@: Scheduled new timer (%@) for next upcoming calculation (%@)"
- "%@: Scheduler timer fired, executing all eligible requests"
- "%@: Unable to execute scheduled request (%@) with calculation (%@)"
- "%@: Will attempt to schedule next request (%@)"
- "%@:%s send RTC midInvalidated event since midDrifted=%ld due to reasonFroProvision=%@"
- "-[AKMIDValidator validateMID:reasonForProvision:]_block_invoke_2"
- "1679022"
- "@\"NSRunLoop\""
- "@\"NSTimer\""
- "Anisette provisioning failed for \n\turlKey: %@,\n\turlRequest: %@,\n\tbaaErrorCode: %ld,\n"
- "Anisette provisioning failed for BAA error code %ld"
- "Failed to trigger Anisette failure silent TTR with error: %@"
- "Handling push with command AKPushMessageCommandAccountInfoChanged..."
- "It has NOT been less than 24 hours since the last time telemetry opt-in was set."
- "MID Not Drifted."
- "Successfully triggered Anisette failure silent TTR for \n\turlKey: %@,\n\turlRequest: %@,\n\tbaaError: %@,\n"
- "T@\"NSString\",C,N,V_lastKnownActiveMID"
- "_executeNextScheduledRequest"
- "_initWithQueue:midKeychain:"
- "_lastKnownActiveMID"
- "_performLivenessCheckInWithReason:completion:"
- "_performLivenessCheckInWithToken:reason:completion:"
- "_performTTRIfNeededForUrlKey:urlRequest:baaError:"
- "_permitedProcessNamesToProxyWhiteList"
- "_schedulerLoop"
- "_schedulerTimer"
- "_schedulerTimerDidFire:"
- "_shouldPerformAnisetteFailureTTRForError:"
- "_unsafe_calculateAndPersistDriftStatusForMID:completion:"
- "addTimer:forMode:"
- "com.apple.akd.request-dispatcher-scheduler"
- "currentRunLoop"
- "fireDate"
- "initWithFireDate:interval:target:selector:userInfo:repeats:"
- "isAidProxAdvertisementDisableSupportedConfig"
- "isEqualToDate:"
- "lastKnownActiveMID"
- "liveness"
- "performCheckInForAccountWithAltDSID:completion:"
- "performLivenessCheckInForAccount:reason:completion:"
- "performLivenessCheckInWithReason:completion:"
- "setLastKnownActiveMID:"
- "signout-"
- "signout-all"
- "validateMID:reasonForProvision:"

```
