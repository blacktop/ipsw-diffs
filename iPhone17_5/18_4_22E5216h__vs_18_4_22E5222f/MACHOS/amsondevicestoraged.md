## amsondevicestoraged

> `/System/Library/PrivateFrameworks/OnDeviceStorage.framework/Support/amsondevicestoraged`

```diff

-1.0.15.0.0
-  __TEXT.__text: 0xdaf00
-  __TEXT.__auth_stubs: 0x3220
-  __TEXT.__objc_stubs: 0x400
-  __TEXT.__objc_methlist: 0x354
-  __TEXT.__const: 0x13d40
-  __TEXT.__gcc_except_tab: 0x30a4
-  __TEXT.__cstring: 0x5dd5
-  __TEXT.__objc_methname: 0x6e1
-  __TEXT.__objc_classname: 0x92
+1.0.17.0.0
+  __TEXT.__text: 0xd9da0
+  __TEXT.__auth_stubs: 0x31b0
+  __TEXT.__objc_stubs: 0x4a0
+  __TEXT.__objc_methlist: 0x384
+  __TEXT.__const: 0x13d20
+  __TEXT.__gcc_except_tab: 0x3110
+  __TEXT.__cstring: 0x5e85
+  __TEXT.__objc_classname: 0xa4
+  __TEXT.__objc_methname: 0x784
   __TEXT.__objc_methtype: 0x181
-  __TEXT.__swift5_typeref: 0x19f2
+  __TEXT.__swift5_typeref: 0x19a0
   __TEXT.__swift5_entry: 0x8
   __TEXT.__constg_swiftt: 0x1c08
   __TEXT.__swift5_fieldmd: 0xf38

   __TEXT.__swift5_assocty: 0x710
   __TEXT.__swift5_proto: 0x2e0
   __TEXT.__swift5_types: 0x15c
-  __TEXT.__swift_as_entry: 0x188
-  __TEXT.__swift_as_ret: 0x3ac
+  __TEXT.__swift_as_entry: 0x190
+  __TEXT.__swift_as_ret: 0x3b4
   __TEXT.__swift5_capture: 0x48c
   __TEXT.__oslogstring: 0x46
   __TEXT.__swift5_mpenum: 0x1c
   __TEXT.__swift5_protos: 0xa4
-  __TEXT.__unwind_info: 0x4848
-  __TEXT.__eh_frame: 0xdb24
-  __DATA_CONST.__auth_got: 0x1930
-  __DATA_CONST.__got: 0x870
-  __DATA_CONST.__auth_ptr: 0xb58
-  __DATA_CONST.__const: 0x3508
-  __DATA_CONST.__cfstring: 0x40
-  __DATA_CONST.__objc_classlist: 0x138
+  __TEXT.__unwind_info: 0x4830
+  __TEXT.__eh_frame: 0xd9ac
+  __DATA_CONST.__auth_got: 0x18f8
+  __DATA_CONST.__got: 0x848
+  __DATA_CONST.__auth_ptr: 0xb40
+  __DATA_CONST.__const: 0x3530
+  __DATA_CONST.__cfstring: 0x80
+  __DATA_CONST.__objc_classlist: 0x140
   __DATA_CONST.__objc_protolist: 0x20
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0x10
   __DATA_CONST.__objc_superrefs: 0x20
-  __DATA.__objc_const: 0x22c8
-  __DATA.__objc_selrefs: 0x270
+  __DATA.__objc_const: 0x2358
+  __DATA.__objc_selrefs: 0x2b8
   __DATA.__objc_ivar: 0x18
-  __DATA.__objc_data: 0x350
-  __DATA.__data: 0x3418
+  __DATA.__objc_data: 0x3a0
+  __DATA.__data: 0x3400
   __DATA.__thread_vars: 0x30
   __DATA.__thread_bss: 0x120
   __DATA.__bss: 0x5390

   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
-  - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswift_errno.dylib
   - /usr/lib/swift/libswift_math.dylib
   - /usr/lib/swift/libswift_signal.dylib

   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 3040
-  Symbols:   1326
-  CStrings:  1029
+  Functions: 3038
+  Symbols:   1312
+  CStrings:  1044
 
Symbols:
+ _$s23OnDeviceStorageInternal6FutureP4then5ValueQzyYaKFTj
+ _$s23OnDeviceStorageInternal6FutureP4then5ValueQzyYaKFTjTu
+ _$s23OnDeviceStorageInternal7PromiseCyxGAA6FutureAAMc
+ _$sSa10FoundationE36_unconditionallyBridgeFromObjectiveCySayxGSo7NSArrayCSgFZ
+ _OBJC_CLASS_$_NSError
- _$s17_StringProcessing5RegexV06_regexA07versionACyxGSS_SitcfC
- _$s17_StringProcessing5RegexVMn
- _$s17_StringProcessing5RegexVyxGAA0C9ComponentAAMc
- _$s23OnDeviceStorageInternal3BagV5ValueV12currentOrNilxSgyYaF
- _$s23OnDeviceStorageInternal3BagV5ValueV12currentOrNilxSgyYaFTu
- _$s23OnDeviceStorageInternal3BagV5ValueVMn
- _$s23OnDeviceStorageInternal3BagV5arrayAC5ValueVy_SayypGGAA17AMSBagKeyProtocol_p_tcig
- _$s23OnDeviceStorageInternal9JetBagKeyVAA06AMSBagG8ProtocolAAMc
- _$s23OnDeviceStorageInternal9JetBagKeyVMa
- _$s23OnDeviceStorageInternal9JetBagKeyVyACSScfC
- _$sSK17_StringProcessingSs11SubSequenceRtzrlE6starts4withSbqd___tAA14RegexComponentRd__lF
- _$sSSSKsMc
- _$sSsN
- _$ss11AnyHashableV13_rawHashValue4seedS2i_tF
- _$ss11AnyHashableV2eeoiySbAB_ABtFZ
- _$ss11AnyHashableVMn
- _$ss11AnyHashableVN
- _$ss11AnyHashableVSHsWP
- _$ss11AnyHashableVyABxcSHRzlufC
CStrings:
+ "Daemon_BagFetcher"
+ "Running metrics task - percentage - "
+ "Unable to fetch revoked ids"
+ "Unable to fetch sampling percentage"
+ "addFinishBlock:"
+ "arrayForKey:"
+ "com.apple.amsondevicestoraged"
+ "daemonBag"
+ "doubleForKey:"
+ "doubleValue"
+ "initWithDomain:code:userInfo:"
+ "metrics/performance/samplingPercentageUsersDiagnostics"
+ "revokedIdListWithFinish:"
+ "revokedIds"
+ "samplingPercentageWithFinish:"
+ "v24@?0@\"NSArray\"8@\"NSError\"16"
+ "v24@?0@\"NSNumber\"8@\"NSError\"16"
+ "valuePromise"
- "/ts_|touchstone_/"
- "Failed to enqueue AMS engagement notification: "
- "onDeviceStorageUpdate"

```
