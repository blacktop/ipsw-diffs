## amsaccountsd

> `/System/Library/PrivateFrameworks/AppleMediaServices.framework/amsaccountsd`

```diff

-8.4.21.0.0
-  __TEXT.__text: 0x15b3d0
-  __TEXT.__auth_stubs: 0x2860
-  __TEXT.__objc_stubs: 0x9820
-  __TEXT.__objc_methlist: 0x511c
-  __TEXT.__const: 0x121e0
+8.4.24.0.0
+  __TEXT.__text: 0x1700bc
+  __TEXT.__auth_stubs: 0x28e0
+  __TEXT.__objc_stubs: 0x98a0
+  __TEXT.__objc_methlist: 0x5164
+  __TEXT.__const: 0x12790
   __TEXT.__objc_classname: 0xdf1
-  __TEXT.__objc_methname: 0xe3a0
-  __TEXT.__oslogstring: 0xa2ae
+  __TEXT.__objc_methname: 0xe440
+  __TEXT.__oslogstring: 0xa2fe
   __TEXT.__objc_methtype: 0x3f24
-  __TEXT.__cstring: 0x873f
+  __TEXT.__cstring: 0x8b1f
   __TEXT.__gcc_except_tab: 0xe98
   __TEXT.__dlopen_cstrs: 0x34d
-  __TEXT.__swift5_typeref: 0x35eb
-  __TEXT.__constg_swiftt: 0x3340
-  __TEXT.__swift5_reflstr: 0x28b0
-  __TEXT.__swift5_fieldmd: 0x455c
-  __TEXT.__swift5_capture: 0x5dc
+  __TEXT.__swift5_typeref: 0x3773
+  __TEXT.__constg_swiftt: 0x3410
+  __TEXT.__swift5_reflstr: 0x2a90
+  __TEXT.__swift5_fieldmd: 0x4868
+  __TEXT.__swift5_capture: 0x608
   __TEXT.__swift5_builtin: 0x3c
   __TEXT.__swift5_assocty: 0x540
-  __TEXT.__swift5_proto: 0xf80
-  __TEXT.__swift5_types: 0x478
-  __TEXT.__swift_as_entry: 0x184
-  __TEXT.__swift_as_ret: 0x200
-  __TEXT.__swift5_protos: 0x7c
+  __TEXT.__swift5_proto: 0xfe4
+  __TEXT.__swift5_types: 0x494
+  __TEXT.__swift_as_entry: 0x19c
+  __TEXT.__swift_as_ret: 0x238
+  __TEXT.__swift5_protos: 0x78
   __TEXT.__swift5_mpenum: 0x40
-  __TEXT.__unwind_info: 0x5c18
-  __TEXT.__eh_frame: 0x9da0
-  __DATA_CONST.__auth_got: 0x1440
-  __DATA_CONST.__got: 0xcb0
-  __DATA_CONST.__auth_ptr: 0xba0
-  __DATA_CONST.__const: 0xc610
+  __TEXT.__unwind_info: 0x5fa0
+  __TEXT.__eh_frame: 0xa820
+  __DATA_CONST.__auth_got: 0x1480
+  __DATA_CONST.__got: 0xce0
+  __DATA_CONST.__auth_ptr: 0xbb8
+  __DATA_CONST.__const: 0xca30
   __DATA_CONST.__cfstring: 0x40c0
   __DATA_CONST.__objc_classlist: 0x2d8
   __DATA_CONST.__objc_catlist: 0x90

   __DATA_CONST.__objc_protorefs: 0x48
   __DATA_CONST.__objc_superrefs: 0x190
   __DATA_CONST.__objc_intobj: 0x90
-  __DATA.__objc_const: 0x9c40
-  __DATA.__objc_selrefs: 0x36e0
+  __DATA.__objc_const: 0x9c68
+  __DATA.__objc_selrefs: 0x3708
   __DATA.__objc_ivar: 0x338
-  __DATA.__objc_data: 0x1cb8
-  __DATA.__data: 0x6dc0
-  __DATA.__bss: 0x1e5b8
-  __DATA.__common: 0x1a0
+  __DATA.__objc_data: 0x1ca8
+  __DATA.__data: 0x70e8
+  __DATA.__bss: 0x1f2b8
+  __DATA.__common: 0x198
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CloudKit.framework/CloudKit
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswiftMetal.dylib
   - /usr/lib/swift/libswiftObjectiveC.dylib
   - /usr/lib/swift/libswiftQuartzCore.dylib
+  - /usr/lib/swift/libswiftSynchronization.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 8949
-  Symbols:   1295
-  CStrings:  4378
+  Functions: 9334
+  Symbols:   1312
+  CStrings:  4413
 
Symbols:
+ _$s10Foundation4DateV21timeIntervalSince1970Sdvg
+ _$s15Synchronization5MutexVMn
+ _$s18AppleMediaServices12MetricsEventV5event5topic0F4Type6fields17allowedBaseFields5errorACSS_SSSDySSs8Sendable_pGSaySSGs5Error_pSgtFZ
+ _$s18AppleMediaServices12MetricsNeverVAA0D5QueueAAWP
+ _$s18AppleMediaServices12MetricsNeverVACycfC
+ _$s18AppleMediaServices12MetricsNeverVMa
+ _$s18AppleMediaServices18MetricsOnAllBuildsV3bagACSo14AMSBagProtocol_p_tcfC
+ _$s18AppleMediaServices18MetricsOnAllBuildsVAA0D5QueueAAWP
+ _$s18AppleMediaServices18MetricsOnAllBuildsVMa
+ _$s18AppleMediaServices23MetricsOnInternalBuildsV3bagACSo14AMSBagProtocol_p_tcfC
+ _$s18AppleMediaServices23MetricsOnInternalBuildsVAA0D5QueueAAWP
+ _$s18AppleMediaServices23MetricsOnInternalBuildsVMa
+ _$s18AppleMediaServices8FlagKeysO17TSDataSyncMetricsyA2CmFWC
+ _$s18AppleMediaServices8FlagKeysO9isEnabledSbvg
+ _$s18AppleMediaServices8FlagKeysOMa
+ _$sSS10FoundationEySSSo8NSStringCcfC
+ _$sSbSEsWP
+ _$sSdSEsWP
+ _$sSiSEsWP
+ _$ss6UInt64VSEsWP
+ _swift_runtimeSupportsNoncopyableTypes
- _$s18AppleMediaServices12MetricsEventV5event5topic0F4Type6fields17allowedBaseFields5errorACSS_SSSDySSypGSaySSGs5Error_pSgtFZ
- _$s18AppleMediaServices23MetricsOnInternalBuildsC3bagACSo14AMSBagProtocol_p_tcfC
- _$s18AppleMediaServices23MetricsOnInternalBuildsCAA0D5QueueAAWP
- _$s18AppleMediaServices23MetricsOnInternalBuildsCMa
CStrings:
+ "%{public}@: [%{public}@] TSDataSync account change handled with error %{public}@"
+ "Checking if we should sync config (new version: "
+ "Checking if we should sync datasets"
+ "Error during account change:"
+ "Error getting metrics identifiers:"
+ "Recording DAS run error:"
+ "Recording DAS run for "
+ "Skipping DAS update (isConfig: "
+ "Sync delayed until "
+ "_handleAccountChange"
+ "_handleAccountChangeForTSDataSync"
+ "cachedTokenVersion"
+ "config_pull_processed"
+ "config_pull_requested"
+ "currentRetryCount"
+ "dataSyncTokenVersion"
+ "data_pull_processed"
+ "data_pull_requested"
+ "data_sync_token_version"
+ "datasetRowGroupCount"
+ "datasetTokenVersion"
+ "firstRetryTimestamp"
+ "handleAccountChangeWithCompletionHandler:"
+ "iTunesLibraryEnabledForUser:"
+ "iTunesLibraryEnabledForUser:home:"
+ "maxRetryDurationSecs"
+ "metrics_topic"
+ "preparing request to sync"
+ "pullRequestedByClientTs"
+ "receivedDataSyncToken"
+ "receivedNewDataToken"
+ "records saved to external database:"
+ "schemaAlteredTimestamp"
+ "serverConfigVersion"
+ "triggerCreatedTs"
+ "triggerRecievedTs"
+ "trigger_processed"
+ "tsDataSyncAccountChanged"
+ "tsDataSyncDASRecord"
+ "tsDataSyncProcessConfig"
+ "tsDataSyncProcessDatasetGroup"
+ "tsDataSyncProcessEvent"
+ "wire_format_version"
+ "wireformatVersion"
+ "with DAS (isConfig: "
- "Found dataset group actor "
- "Preparing to sync"
- "Skipping update of DAS isConfig: "
- "Sync action is delayed, registering in DAS"
- "Sync action is immediate"
- "Syncing config (new version: "
- "Syncing datasets"
- "_coordinator"
- "prepared request"
- "records to external database:"
- "with DAS isConfig: "

```
